{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{csSw:function(t,o,i){\"use strict\";i.r(o),i.d(o,\"AddonNotificationsNotificationPageModule\",(function(){return T}));var n=i(\"tyNb\"),e=i(\"L3Fv\"),a=i(\"mrSG\"),c=i(\"qkYQ\"),r=i(\"VUQF\"),s=i(\"ssuw\"),d=i(\"baaQ\"),l=i(\"eoiU\"),m=i(\"mbU7\"),g=i(\"pHTc\"),f=i(\"9+EE\"),u=i(\"3LXp\"),_=i(\"fXoL\"),h=i(\"TEn/\"),p=i(\"nt/U\"),P=i(\"OZH1\"),v=i(\"PgjG\"),O=i(\"ofXK\"),b=i(\"hMzs\"),N=i(\"FeAf\"),C=i(\"eAud\"),M=i(\"3jOR\"),x=i(\"ACYt\"),I=i(\"3CSS\"),y=i(\"sYmb\"),w=i(\"lAaw\"),A=i(\"dne1\");function AddonNotificationsNotificationPage_core_user_avatar_13_div_1_Template(t,o){if(1&t&&(_.Ec(0,\"div\",16),_.zc(1,\"img\",17),_.Dc()),2&t){const t=_.Oc(2);_.lc(1),_.Vc(\"src\",t.iconUrl,_.id)}}function AddonNotificationsNotificationPage_core_user_avatar_13_core_mod_icon_2_Template(t,o){if(1&t&&_.zc(0,\"core-mod-icon\",18),2&t){const t=_.Oc(2);_.Vc(\"modicon\",t.iconUrl)(\"modname\",t.modname)(\"showAlt\",!1)}}function AddonNotificationsNotificationPage_core_user_avatar_13_Template(t,o){if(1&t&&(_.Ec(0,\"core-user-avatar\",13),_.nd(1,AddonNotificationsNotificationPage_core_user_avatar_13_div_1_Template,2,1,\"div\",14),_.nd(2,AddonNotificationsNotificationPage_core_user_avatar_13_core_mod_icon_2_Template,1,3,\"core-mod-icon\",15),_.Dc()),2&t){const t=_.Oc();_.Vc(\"userId\",t.userIdFrom)(\"profileUrl\",t.profileImageUrlFrom)(\"fullname\",t.userFromFullName),_.lc(1),_.Vc(\"ngIf\",t.iconUrl&&!t.modname),_.lc(1),_.Vc(\"ngIf\",t.modname)}}function AddonNotificationsNotificationPage_ng_container_14_div_1_Template(t,o){if(1&t&&(_.Ec(0,\"div\",21),_.zc(1,\"img\",17),_.Dc()),2&t){const t=_.Oc(2);_.lc(1),_.Vc(\"src\",t.iconUrl,_.id)}}function AddonNotificationsNotificationPage_ng_container_14_core_mod_icon_2_Template(t,o){if(1&t&&_.zc(0,\"core-mod-icon\",22),2&t){const t=_.Oc(2);_.Vc(\"modicon\",t.iconUrl)(\"modname\",t.modname)(\"showAlt\",!1)}}function AddonNotificationsNotificationPage_ng_container_14_Template(t,o){if(1&t&&(_.Cc(0),_.nd(1,AddonNotificationsNotificationPage_ng_container_14_div_1_Template,2,1,\"div\",19),_.nd(2,AddonNotificationsNotificationPage_ng_container_14_core_mod_icon_2_Template,1,3,\"core-mod-icon\",20),_.Bc()),2&t){const t=_.Oc();_.lc(1),_.Vc(\"ngIf\",!t.modname),_.lc(1),_.Vc(\"ngIf\",t.modname)}}function AddonNotificationsNotificationPage_ng_container_21_Template(t,o){if(1&t&&(_.Cc(0),_.pd(1),_.Bc()),2&t){const t=_.Oc();_.lc(1),_.rd(\" · \",t.userFromFullName,\"\")}}function AddonNotificationsNotificationPage_div_26_ion_button_2_Template(t,o){if(1&t&&(_.Ec(0,\"ion-button\",26),_.Mc(\"click\",(function AddonNotificationsNotificationPage_div_26_ion_button_2_Template_ion_button_click_0_listener(){return o.$implicit.action()})),_.zc(1,\"ion-icon\",27),_.pd(2),_.Pc(3,\"translate\"),_.Dc()),2&t){const t=o.$implicit;_.lc(1),_.Wc(\"name\",t.icon),_.lc(1),_.rd(\" \",_.Qc(3,2,t.message),\" \")}}function AddonNotificationsNotificationPage_div_26_Template(t,o){if(1&t&&(_.Ec(0,\"div\",23),_.Ec(1,\"div\",24),_.nd(2,AddonNotificationsNotificationPage_div_26_ion_button_2_Template,4,4,\"ion-button\",25),_.Dc(),_.Dc()),2&t){const t=_.Oc();_.lc(2),_.Vc(\"ngForOf\",t.actions)}}let k=(()=>{class AddonNotificationsNotificationPage{constructor(){this.subject=\"\",this.content=\"\",this.userIdFrom=-1,this.loaded=!1,this.timecreated=0,this.actions=[]}ngOnInit(){var t;return Object(a.a)(this,void 0,void 0,(function*(){let o;try{o=this.getNotification()}catch(t){return u.a.showErrorModal(t),g.a.back(),void 0}if(\"subject\"in o){if(this.subject=o.subject,this.content=o.mobiletext||o.fullmessagehtml,this.userIdFrom=o.useridfrom,this.profileImageUrlFrom=o.profileimageurlfrom,this.userFromFullName=o.userfromfullname,this.iconUrl=o.iconurl,(null===(t=o.moodlecomponent)||void 0===t?void 0:t.startsWith(\"mod_\"))&&o.iconurl){const t=o.moodlecomponent.substring(4);(o.iconurl.match(\"/theme/image.php/[^/]+/\"+t+\"/[-0-9]*/\")||o.iconurl.match(\"/theme/image.php/[^/]+/\"+o.moodlecomponent+\"/[-0-9]*/\"))&&(this.modname=t)}this.timecreated=o.timecreated}else this.subject=o.title||\"\",this.content=o.message||\"\",this.userIdFrom=o.userfromid?Number(o.userfromid):-1,this.profileImageUrlFrom=o.senderImage,this.userFromFullName=o.userfromfullname;yield this.loadActions(o),s.a.markNotificationAsRead(o),this.loaded=!0}))}getNotification(){const t=g.a.getRouteNumberParam(\"id\"),o=t?this.getNotificationById(t):void 0;return null!=o?o:g.a.getRequiredRouteParam(\"notification\")}getNotificationById(t){var o;const i=d.a.getOrCreateSource(f.b.getRequiredCurrentSite().isVersionGreaterEqualThan(\"4.0\")?r.a:c.a,[]),n=null===(o=i.getItems())||void 0===o?void 0:o.find((({id:o})=>o===t));if(n)return this.loadNotifications(i),n}loadNotifications(t){return Object(a.a)(this,void 0,void 0,(function*(){this.notifications=new notification_AddonNotificationSwipeItemsManager(t),yield this.notifications.start()}))}loadActions(t){var o;return Object(a.a)(this,void 0,void 0,(function*(){if(!(t.contexturl||t.customdata&&t.customdata.appurl))return;let i=[];this.actionsData=t.customdata,this.contextUrl=t.contexturl,this.courseId=\"courseid\"in t?t.courseid:void 0,(null===(o=this.actionsData)||void 0===o?void 0:o.appurl)&&(i=yield m.a.getActionsFor(this.actionsData.appurl,this.courseId,void 0,this.actionsData)),!i.length&&this.contextUrl&&(i=yield m.a.getActionsFor(this.contextUrl,this.courseId,void 0,this.actionsData)),i.length||i.push({message:\"core.view\",icon:\"fas-eye\",action:this.openInBrowser.bind(this)}),this.actions=i}))}openInBrowser(t){var o;return Object(a.a)(this,void 0,void 0,(function*(){const i=(null===(o=this.actionsData)||void 0===o?void 0:o.appurl)||this.contextUrl;if(!i)return;(yield f.b.getSite(t)).openInBrowserWithAutoLogin(i)}))}ngOnDestroy(){var t;null===(t=this.notifications)||void 0===t?void 0:t.destroy()}}return AddonNotificationsNotificationPage.ɵfac=function AddonNotificationsNotificationPage_Factory(t){return new(t||AddonNotificationsNotificationPage)},AddonNotificationsNotificationPage.ɵcmp=_.sc({type:AddonNotificationsNotificationPage,selectors:[[\"page-addon-notifications-notification\"]],decls:27,vars:22,consts:[[\"slot\",\"start\"],[3,\"text\"],[3,\"core-swipe-navigation\"],[3,\"hideUntil\"],[1,\"list-item-limited-width\"],[\"lines\",\"full\",1,\"ion-text-wrap\",\"core-notification-title\"],[\"slot\",\"start\",3,\"userId\",\"profileUrl\",\"fullname\",4,\"ngIf\"],[4,\"ngIf\"],[1,\"item-heading\"],[\"contextLevel\",\"system\",3,\"text\",\"contextInstanceId\",\"wsNotFiltered\"],[1,\"ion-text-wrap\",\"core-notification-body\"],[\"contextLevel\",\"system\",3,\"text\",\"contextInstanceId\"],[\"collapsible-footer\",\"\",\"appearOnBottom\",\"\",\"slot\",\"fixed\",4,\"ngIf\"],[\"slot\",\"start\",3,\"userId\",\"profileUrl\",\"fullname\"],[\"class\",\"core-avatar-extra-img\",4,\"ngIf\"],[3,\"modicon\",\"modname\",\"showAlt\",4,\"ngIf\"],[1,\"core-avatar-extra-img\"],[\"alt\",\"\",\"role\",\"presentation\",3,\"src\"],[3,\"modicon\",\"modname\",\"showAlt\"],[\"class\",\"core-notification-icon\",\"slot\",\"start\",4,\"ngIf\"],[\"class\",\"core-notification-icon\",\"slot\",\"start\",3,\"modicon\",\"modname\",\"showAlt\",4,\"ngIf\"],[\"slot\",\"start\",1,\"core-notification-icon\"],[\"slot\",\"start\",1,\"core-notification-icon\",3,\"modicon\",\"modname\",\"showAlt\"],[\"collapsible-footer\",\"\",\"appearOnBottom\",\"\",\"slot\",\"fixed\"],[1,\"list-item-limited-width\",\"adaptable-buttons-row\"],[\"expand\",\"block\",3,\"click\",4,\"ngFor\",\"ngForOf\"],[\"expand\",\"block\",3,\"click\"],[\"slot\",\"start\",\"aria-hidden\",\"true\",3,\"name\"]],template:function AddonNotificationsNotificationPage_Template(t,o){1&t&&(_.Ec(0,\"ion-header\"),_.Ec(1,\"ion-toolbar\"),_.Ec(2,\"ion-buttons\",0),_.zc(3,\"ion-back-button\",1),_.Pc(4,\"translate\"),_.Dc(),_.Ec(5,\"ion-title\"),_.Ec(6,\"h1\"),_.pd(7),_.Pc(8,\"translate\"),_.Dc(),_.Dc(),_.Dc(),_.Dc(),_.Ec(9,\"ion-content\",2),_.Ec(10,\"core-loading\",3),_.Ec(11,\"div\",4),_.Ec(12,\"ion-item\",5),_.nd(13,AddonNotificationsNotificationPage_core_user_avatar_13_Template,3,5,\"core-user-avatar\",6),_.nd(14,AddonNotificationsNotificationPage_ng_container_14_Template,3,2,\"ng-container\",7),_.Ec(15,\"ion-label\"),_.Ec(16,\"p\",8),_.zc(17,\"core-format-text\",9),_.Dc(),_.Ec(18,\"p\"),_.pd(19),_.Pc(20,\"coreTimeAgo\"),_.nd(21,AddonNotificationsNotificationPage_ng_container_21_Template,2,1,\"ng-container\",7),_.Dc(),_.Dc(),_.Dc(),_.Ec(22,\"ion-item\",10),_.Ec(23,\"ion-label\"),_.zc(24,\"core-format-text\",11),_.Pc(25,\"coreCreateLinks\"),_.Dc(),_.Dc(),_.Dc(),_.nd(26,AddonNotificationsNotificationPage_div_26_Template,3,1,\"div\",12),_.Dc(),_.Dc()),2&t&&(_.lc(3),_.Vc(\"text\",_.Qc(4,14,\"core.back\")),_.lc(4),_.qd(_.Qc(8,16,\"addon.notifications.notifications\")),_.lc(2),_.Vc(\"core-swipe-navigation\",o.notifications),_.lc(1),_.Vc(\"hideUntil\",o.loaded),_.lc(3),_.Vc(\"ngIf\",o.userIdFrom>0),_.lc(1),_.Vc(\"ngIf\",o.userIdFrom<=0&&o.iconUrl),_.lc(3),_.Vc(\"text\",o.subject)(\"contextInstanceId\",0)(\"wsNotFiltered\",!0),_.lc(2),_.qd(_.Qc(20,18,o.timecreated)),_.lc(2),_.Vc(\"ngIf\",o.userIdFrom>0),_.lc(3),_.Vc(\"text\",_.Qc(25,20,o.content))(\"contextInstanceId\",0),_.lc(2),_.Vc(\"ngIf\",o.loaded&&o.actions&&o.actions.length>0))},directives:[h.C,h.Ab,h.m,h.h,h.i,h.yb,p.a,h.v,P.a,v.a,h.I,O.t,h.O,b.a,N.a,C.a,M.a,O.s,x.a,h.l,h.D,I.a],pipes:[y.d,w.a,A.a],styles:[\"[_nghost-%COMP%]{--extra-icon-size:16px;--icon-size:24px}[_nghost-%COMP%]     core-user-avatar .core-avatar-extra-img, [_nghost-%COMP%]     core-user-avatar core-mod-icon{margin:0!important;position:absolute;right:-4px;bottom:-4px;padding:.2rem}[_nghost-%COMP%]     core-user-avatar .core-avatar-extra-img{background:var(--background-color);border-radius:var(--medium-radius)}[_nghost-%COMP%]     core-user-avatar .core-avatar-extra-img img{max-width:var(--extra-icon-size);max-height:var(--extra-icon-size);display:block}[_nghost-%COMP%]     core-user-avatar core-mod-icon{--size:var(--extra-icon-size)}[_nghost-%COMP%]   div.core-notification-icon[_ngcontent-%COMP%]{padding:.7rem;background:var(--background-color);border-radius:var(--small-radius)}[_nghost-%COMP%]   div.core-notification-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:var(--icon-size);height:var(--icon-size)}[_nghost-%COMP%]   .core-notification-icon[_ngcontent-%COMP%]{--module-icon-size:var(--icon-size);margin:6px 8px 6px 0}@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){[_nghost-%COMP%]   .core-notification-icon[_ngcontent-%COMP%]{margin-left:unset;margin-right:unset;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px}}\",\"[_nghost-%COMP%]   .core-notification-title[_ngcontent-%COMP%]   [slot=start][_ngcontent-%COMP%]{align-self:start;margin-top:16px}[_nghost-%COMP%]   .core-notification-title[_ngcontent-%COMP%]   p.item-heading[_ngcontent-%COMP%]{font-size:16px}[_nghost-%COMP%]   .core-notification-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}[_nghost-%COMP%]   .core-notification-body[_ngcontent-%COMP%]   core-format-text[_ngcontent-%COMP%]{font-size:var(--text-size)}[_nghost-%COMP%]   .core-notification-body[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:700}[_nghost-%COMP%]   .core-notification-body[_ngcontent-%COMP%]   core-format-text[_ngcontent-%COMP%]     .forumpost{border:1px solid var(--gray-200);width:100%;margin:0 0 1em}[_nghost-%COMP%]   .core-notification-body[_ngcontent-%COMP%]   core-format-text[_ngcontent-%COMP%]     .forumpost td{padding:10px}[_nghost-%COMP%]   .core-notification-body[_ngcontent-%COMP%]   core-format-text[_ngcontent-%COMP%]     .forumpost .header{background-color:var(--light)}[_nghost-%COMP%]   .core-notification-body[_ngcontent-%COMP%]   core-format-text[_ngcontent-%COMP%]     .forumpost .header .picture{width:48px;text-align:center;padding-left:4px;padding-right:0;padding-top:8px}@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){[_nghost-%COMP%]   .core-notification-body[_ngcontent-%COMP%]   core-format-text[_ngcontent-%COMP%]     .forumpost .header .picture{padding-left:unset;padding-right:unset;-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:0;padding-inline-end:0}}[_nghost-%COMP%]   .core-notification-body[_ngcontent-%COMP%]   core-format-text[_ngcontent-%COMP%]     .forumpost .header .picture img{width:44px!important}[_nghost-%COMP%]   .core-notification-body[_ngcontent-%COMP%]   core-format-text[_ngcontent-%COMP%]     .forumpost .subject{font-weight:700;margin-bottom:1rem}[_nghost-%COMP%]   .core-notification-body[_ngcontent-%COMP%]   core-format-text[_ngcontent-%COMP%]     a{text-decoration:none}[_nghost-%COMP%]   .core-notification-body[_ngcontent-%COMP%]   core-format-text[_ngcontent-%COMP%]     .userpicture{border-radius:50%}[_nghost-%COMP%]   .core-notification-body[_ngcontent-%COMP%]   core-format-text[_ngcontent-%COMP%]     .mdl-right{text-align:end}[_nghost-%COMP%]   .core-notification-body[_ngcontent-%COMP%]   core-format-text[_ngcontent-%COMP%]     .mdl-right a{display:none}[_nghost-%COMP%]   .core-notification-body[_ngcontent-%COMP%]   core-format-text[_ngcontent-%COMP%]     .mdl-right font{font-size:.9em}[_nghost-%COMP%]   .core-notification-body[_ngcontent-%COMP%]   core-format-text[_ngcontent-%COMP%]     .commands{display:none}[_nghost-%COMP%]   .core-notification-body[_ngcontent-%COMP%]   core-format-text[_ngcontent-%COMP%]     hr{margin-top:1.5rem;margin-bottom:1.5rem;background-color:var(--gray-200)}\"]}),AddonNotificationsNotificationPage})();class notification_AddonNotificationSwipeItemsManager extends l.a{getSelectedItemPathFromRoute(t){return t.params.id}}const F=[{path:\"\",component:k}];let T=(()=>{class AddonNotificationsNotificationPageModule{}return AddonNotificationsNotificationPageModule.ɵmod=_.wc({type:AddonNotificationsNotificationPageModule}),AddonNotificationsNotificationPageModule.ɵinj=_.vc({factory:function AddonNotificationsNotificationPageModule_Factory(t){return new(t||AddonNotificationsNotificationPageModule)},imports:[[n.m.forChild(F),e.a],n.m]}),AddonNotificationsNotificationPageModule})();void((\"undefined\"==typeof ngJitMode||ngJitMode)&&_.kd(T,{declarations:[k],imports:[n.m,e.a],exports:[n.m]}))},eoiU:function(t,o,i){\"use strict\";i.d(o,\"a\",(function(){return CoreSwipeNavigationItemsManager}));var n=i(\"mrSG\"),e=i(\"pHTc\"),a=i(\"CtbY\");class CoreSwipeNavigationItemsManager extends a.a{start(){return Object(n.a)(this,void 0,void 0,(function*(){this.updateSelectedItem()}))}navigateToNextItem(){return Object(n.a)(this,void 0,void 0,(function*(){yield this.navigateToItemBy(1,\"forward\")}))}navigateToPreviousItem(){return Object(n.a)(this,void 0,void 0,(function*(){yield this.navigateToItemBy(-1,\"back\")}))}hasNextItem(){return Object(n.a)(this,void 0,void 0,(function*(){return!!(yield this.getItemBy(1))}))}hasPreviousItem(){return Object(n.a)(this,void 0,void 0,(function*(){return!!(yield this.getItemBy(-1))}))}getCurrentPageRoute(){return e.a.getCurrentRoute()}getSelectedItemPathFromRoute(t){const o=[];for(;t&&(o.push(...t.url),t.firstChild);)t=t.firstChild;return o.map((t=>t.path)).join(\"/\").replace(/\\/+/,\"/\").trim()||null}navigateToItemBy(t,o){return Object(n.a)(this,void 0,void 0,(function*(){const i=yield this.getItemBy(t);i&&(yield this.navigateToItem(i,{animationDirection:o,replace:!0}))}))}getItemBy(t){var o;return Object(n.a)(this,void 0,void 0,(function*(){const i=this.getSource().getItems(),n=null!==(o=this.selectedItem&&(null==i?void 0:i.indexOf(this.selectedItem)))&&void 0!==o?o:-1;if(-1===n||null===i)return null;const e=t>0?1:-1;let a=n,c=0;for(;c!==t&&(a+=e,!(a<0||a>=i.length));)this.skipItemInSwipe(i[a])||(c+=e);return c===t?i[a]:this.getSource().isCompleted()?null:(yield this.getSource().load(),this.getItemBy(t))}))}skipItemInSwipe(t){return!1}}}}]);","name":"11.e34f511cdae3ef28431b.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[11],{\n\n/***/ \"csSw\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"AddonNotificationsNotificationPageModule\", function() { return /* binding */ notification_module_AddonNotificationsNotificationPageModule; });\n\n// EXTERNAL MODULE: ./node_modules/@angular/router/__ivy_ngcc__/fesm2015/router.js + 10 modules\nvar router = __webpack_require__(\"tyNb\");\n\n// EXTERNAL MODULE: ./src/core/shared.module.ts + 3 modules\nvar shared_module = __webpack_require__(\"L3Fv\");\n\n// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.js\nvar tslib_es6 = __webpack_require__(\"mrSG\");\n\n// EXTERNAL MODULE: ./src/addons/notifications/classes/legacy-notifications-source.ts\nvar legacy_notifications_source = __webpack_require__(\"qkYQ\");\n\n// EXTERNAL MODULE: ./src/addons/notifications/classes/notifications-source.ts\nvar notifications_source = __webpack_require__(\"VUQF\");\n\n// EXTERNAL MODULE: ./src/addons/notifications/services/notifications-helper.ts\nvar notifications_helper = __webpack_require__(\"ssuw\");\n\n// EXTERNAL MODULE: ./src/core/classes/items-management/routed-items-manager-sources-tracker.ts\nvar routed_items_manager_sources_tracker = __webpack_require__(\"baaQ\");\n\n// EXTERNAL MODULE: ./src/core/classes/items-management/swipe-navigation-items-manager.ts\nvar swipe_navigation_items_manager = __webpack_require__(\"eoiU\");\n\n// EXTERNAL MODULE: ./src/core/features/contentlinks/services/contentlinks-delegate.ts\nvar contentlinks_delegate = __webpack_require__(\"mbU7\");\n\n// EXTERNAL MODULE: ./src/core/services/navigator.ts\nvar services_navigator = __webpack_require__(\"pHTc\");\n\n// EXTERNAL MODULE: ./src/core/services/sites.ts\nvar sites = __webpack_require__(\"9+EE\");\n\n// EXTERNAL MODULE: ./src/core/services/utils/dom.ts + 2 modules\nvar dom = __webpack_require__(\"3LXp\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js\nvar core = __webpack_require__(\"fXoL\");\n\n// EXTERNAL MODULE: ./node_modules/@ionic/angular/__ivy_ngcc__/fesm2015/ionic-angular.js + 5 modules\nvar ionic_angular = __webpack_require__(\"TEn/\");\n\n// EXTERNAL MODULE: ./src/core/directives/content.ts\nvar content = __webpack_require__(\"nt/U\");\n\n// EXTERNAL MODULE: ./src/core/directives/swipe-navigation.ts\nvar swipe_navigation = __webpack_require__(\"OZH1\");\n\n// EXTERNAL MODULE: ./src/core/components/loading/loading.ts\nvar loading = __webpack_require__(\"PgjG\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/common/__ivy_ngcc__/fesm2015/common.js\nvar common = __webpack_require__(\"ofXK\");\n\n// EXTERNAL MODULE: ./src/core/directives/format-text.ts\nvar format_text = __webpack_require__(\"hMzs\");\n\n// EXTERNAL MODULE: ./src/core/components/user-avatar/user-avatar.ts\nvar user_avatar = __webpack_require__(\"FeAf\");\n\n// EXTERNAL MODULE: ./src/core/components/mod-icon/mod-icon.ts\nvar mod_icon = __webpack_require__(\"eAud\");\n\n// EXTERNAL MODULE: ./src/core/directives/collapsible-footer.ts\nvar collapsible_footer = __webpack_require__(\"3jOR\");\n\n// EXTERNAL MODULE: ./src/core/directives/update-non-reactive-attributes.ts\nvar update_non_reactive_attributes = __webpack_require__(\"ACYt\");\n\n// EXTERNAL MODULE: ./src/core/directives/fa-icon.ts\nvar fa_icon = __webpack_require__(\"3CSS\");\n\n// EXTERNAL MODULE: ./node_modules/@ngx-translate/core/__ivy_ngcc__/fesm2015/ngx-translate-core.js + 8 modules\nvar ngx_translate_core = __webpack_require__(\"sYmb\");\n\n// EXTERNAL MODULE: ./src/core/pipes/time-ago.ts\nvar time_ago = __webpack_require__(\"lAaw\");\n\n// EXTERNAL MODULE: ./src/core/pipes/create-links.ts\nvar create_links = __webpack_require__(\"dne1\");\n\n// CONCATENATED MODULE: ./src/addons/notifications/pages/notification/notification.ts\n\n// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction AddonNotificationsNotificationPage_core_user_avatar_13_div_1_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"div\", 16);\n        core[\"zc\" /* ɵɵelement */](1, \"img\", 17);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r4 = core[\"Oc\" /* ɵɵnextContext */](2);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"src\", ctx_r4.iconUrl, core[\"id\" /* ɵɵsanitizeUrl */]);\n    }\n}\nfunction AddonNotificationsNotificationPage_core_user_avatar_13_core_mod_icon_2_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"zc\" /* ɵɵelement */](0, \"core-mod-icon\", 18);\n    }\n    if (rf & 2) {\n        const ctx_r5 = core[\"Oc\" /* ɵɵnextContext */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"modicon\", ctx_r5.iconUrl)(\"modname\", ctx_r5.modname)(\"showAlt\", false);\n    }\n}\nfunction AddonNotificationsNotificationPage_core_user_avatar_13_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"core-user-avatar\", 13);\n        core[\"nd\" /* ɵɵtemplate */](1, AddonNotificationsNotificationPage_core_user_avatar_13_div_1_Template, 2, 1, \"div\", 14);\n        core[\"nd\" /* ɵɵtemplate */](2, AddonNotificationsNotificationPage_core_user_avatar_13_core_mod_icon_2_Template, 1, 3, \"core-mod-icon\", 15);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r0 = core[\"Oc\" /* ɵɵnextContext */]();\n        core[\"Vc\" /* ɵɵproperty */](\"userId\", ctx_r0.userIdFrom)(\"profileUrl\", ctx_r0.profileImageUrlFrom)(\"fullname\", ctx_r0.userFromFullName);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx_r0.iconUrl && !ctx_r0.modname);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx_r0.modname);\n    }\n}\nfunction AddonNotificationsNotificationPage_ng_container_14_div_1_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"div\", 21);\n        core[\"zc\" /* ɵɵelement */](1, \"img\", 17);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r6 = core[\"Oc\" /* ɵɵnextContext */](2);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"src\", ctx_r6.iconUrl, core[\"id\" /* ɵɵsanitizeUrl */]);\n    }\n}\nfunction AddonNotificationsNotificationPage_ng_container_14_core_mod_icon_2_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"zc\" /* ɵɵelement */](0, \"core-mod-icon\", 22);\n    }\n    if (rf & 2) {\n        const ctx_r7 = core[\"Oc\" /* ɵɵnextContext */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"modicon\", ctx_r7.iconUrl)(\"modname\", ctx_r7.modname)(\"showAlt\", false);\n    }\n}\nfunction AddonNotificationsNotificationPage_ng_container_14_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Cc\" /* ɵɵelementContainerStart */](0);\n        core[\"nd\" /* ɵɵtemplate */](1, AddonNotificationsNotificationPage_ng_container_14_div_1_Template, 2, 1, \"div\", 19);\n        core[\"nd\" /* ɵɵtemplate */](2, AddonNotificationsNotificationPage_ng_container_14_core_mod_icon_2_Template, 1, 3, \"core-mod-icon\", 20);\n        core[\"Bc\" /* ɵɵelementContainerEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r1 = core[\"Oc\" /* ɵɵnextContext */]();\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", !ctx_r1.modname);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx_r1.modname);\n    }\n}\nfunction AddonNotificationsNotificationPage_ng_container_21_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Cc\" /* ɵɵelementContainerStart */](0);\n        core[\"pd\" /* ɵɵtext */](1);\n        core[\"Bc\" /* ɵɵelementContainerEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r2 = core[\"Oc\" /* ɵɵnextContext */]();\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"rd\" /* ɵɵtextInterpolate1 */](\" \\u00B7 \", ctx_r2.userFromFullName, \"\");\n    }\n}\nfunction AddonNotificationsNotificationPage_div_26_ion_button_2_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-button\", 26);\n        core[\"Mc\" /* ɵɵlistener */](\"click\", function AddonNotificationsNotificationPage_div_26_ion_button_2_Template_ion_button_click_0_listener() { const action_r9 = ctx.$implicit; return action_r9.action(); });\n        core[\"zc\" /* ɵɵelement */](1, \"ion-icon\", 27);\n        core[\"pd\" /* ɵɵtext */](2);\n        core[\"Pc\" /* ɵɵpipe */](3, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const action_r9 = ctx.$implicit;\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Wc\" /* ɵɵpropertyInterpolate */](\"name\", action_r9.icon);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"rd\" /* ɵɵtextInterpolate1 */](\" \", core[\"Qc\" /* ɵɵpipeBind1 */](3, 2, action_r9.message), \" \");\n    }\n}\nfunction AddonNotificationsNotificationPage_div_26_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"div\", 23);\n        core[\"Ec\" /* ɵɵelementStart */](1, \"div\", 24);\n        core[\"nd\" /* ɵɵtemplate */](2, AddonNotificationsNotificationPage_div_26_ion_button_2_Template, 4, 4, \"ion-button\", 25);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r3 = core[\"Oc\" /* ɵɵnextContext */]();\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"ngForOf\", ctx_r3.actions);\n    }\n}\n/**\n * Page to render a notification.\n */\nlet notification_AddonNotificationsNotificationPage = /*@__PURE__*/ (() => {\n    class AddonNotificationsNotificationPage {\n        constructor() {\n            this.subject = ''; // Notification subject.\n            this.content = ''; // Notification content.\n            this.userIdFrom = -1; // User ID who sent the notification.\n            this.loaded = false;\n            this.timecreated = 0;\n            // Actions data.\n            this.actions = [];\n        }\n        /**\n         * @inheritdoc\n         */\n        ngOnInit() {\n            var _a;\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                let notification;\n                try {\n                    notification = this.getNotification();\n                }\n                catch (error) {\n                    dom[\"a\" /* CoreDomUtils */].showErrorModal(error);\n                    services_navigator[\"a\" /* CoreNavigator */].back();\n                    return;\n                }\n                if ('subject' in notification) {\n                    this.subject = notification.subject;\n                    this.content = notification.mobiletext || notification.fullmessagehtml;\n                    this.userIdFrom = notification.useridfrom;\n                    this.profileImageUrlFrom = notification.profileimageurlfrom;\n                    this.userFromFullName = notification.userfromfullname;\n                    this.iconUrl = notification.iconurl;\n                    if (((_a = notification.moodlecomponent) === null || _a === void 0 ? void 0 : _a.startsWith('mod_')) && notification.iconurl) {\n                        const modname = notification.moodlecomponent.substring(4);\n                        if (notification.iconurl.match('/theme/image.php/[^/]+/' + modname + '/[-0-9]*/') ||\n                            notification.iconurl.match('/theme/image.php/[^/]+/' + notification.moodlecomponent + '/[-0-9]*/')) {\n                            this.modname = modname;\n                        }\n                    }\n                    this.timecreated = notification.timecreated;\n                }\n                else {\n                    this.subject = notification.title || '';\n                    this.content = notification.message || '';\n                    this.userIdFrom = notification.userfromid ? Number(notification.userfromid) : -1;\n                    this.profileImageUrlFrom = notification.senderImage;\n                    this.userFromFullName = notification.userfromfullname;\n                }\n                yield this.loadActions(notification);\n                notifications_helper[\"a\" /* AddonNotificationsHelper */].markNotificationAsRead(notification);\n                this.loaded = true;\n            });\n        }\n        /**\n         * Get notification.\n         *\n         * @returns notification.\n         */\n        getNotification() {\n            const id = services_navigator[\"a\" /* CoreNavigator */].getRouteNumberParam('id');\n            const notification = id ? this.getNotificationById(id) : undefined;\n            return notification !== null && notification !== void 0 ? notification : services_navigator[\"a\" /* CoreNavigator */].getRequiredRouteParam('notification');\n        }\n        /**\n         * Obtain notification by passed id.\n         *\n         * @param notificationId Notification id.\n         * @return Found notification.\n         */\n        getNotificationById(notificationId) {\n            var _a;\n            const source = routed_items_manager_sources_tracker[\"a\" /* CoreRoutedItemsManagerSourcesTracker */].getOrCreateSource(sites[\"b\" /* CoreSites */].getRequiredCurrentSite().isVersionGreaterEqualThan('4.0')\n                ? notifications_source[\"a\" /* AddonNotificationsNotificationsSource */]\n                : legacy_notifications_source[\"a\" /* AddonLegacyNotificationsNotificationsSource */], []);\n            const notification = (_a = source.getItems()) === null || _a === void 0 ? void 0 : _a.find(({ id }) => id === notificationId);\n            if (!notification) {\n                return;\n            }\n            this.loadNotifications(source);\n            return notification;\n        }\n        /**\n         * Load notifications from source.\n         *\n         * @param source Notifications source\n         */\n        loadNotifications(source) {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                this.notifications = new notification_AddonNotificationSwipeItemsManager(source);\n                yield this.notifications.start();\n            });\n        }\n        /**\n         * Load notification actions\n         *\n         * @param notification Notification.\n         * @return Promise resolved when done.\n         */\n        loadActions(notification) {\n            var _a;\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                if (!notification.contexturl && (!notification.customdata || !notification.customdata.appurl)) {\n                    // No URL, nothing to do.\n                    return;\n                }\n                let actions = [];\n                this.actionsData = notification.customdata;\n                this.contextUrl = notification.contexturl;\n                this.courseId = 'courseid' in notification ? notification.courseid : undefined;\n                // Treat appurl first if any.\n                if ((_a = this.actionsData) === null || _a === void 0 ? void 0 : _a.appurl) {\n                    actions = yield contentlinks_delegate[\"a\" /* CoreContentLinksDelegate */].getActionsFor(this.actionsData.appurl, this.courseId, undefined, this.actionsData);\n                }\n                if (!actions.length && this.contextUrl) {\n                    // No appurl or cannot handle it. Try with contextUrl.\n                    actions = yield contentlinks_delegate[\"a\" /* CoreContentLinksDelegate */].getActionsFor(this.contextUrl, this.courseId, undefined, this.actionsData);\n                }\n                if (!actions.length) {\n                    // URL is not supported. Add an action to open it in browser.\n                    actions.push({\n                        message: 'core.view',\n                        icon: 'fas-eye',\n                        action: this.openInBrowser.bind(this),\n                    });\n                }\n                this.actions = actions;\n            });\n        }\n        /**\n         * Default action. Open in browser.\n         *\n         * @param siteId Site ID to use.\n         */\n        openInBrowser(siteId) {\n            var _a;\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                const url = ((_a = this.actionsData) === null || _a === void 0 ? void 0 : _a.appurl) || this.contextUrl;\n                if (!url) {\n                    return;\n                }\n                const site = yield sites[\"b\" /* CoreSites */].getSite(siteId);\n                site.openInBrowserWithAutoLogin(url);\n            });\n        }\n        /**\n         * @inheritdoc\n         */\n        ngOnDestroy() {\n            var _a;\n            (_a = this.notifications) === null || _a === void 0 ? void 0 : _a.destroy();\n        }\n    }\n    AddonNotificationsNotificationPage.ɵfac = function AddonNotificationsNotificationPage_Factory(t) { return new (t || AddonNotificationsNotificationPage)(); };\n    AddonNotificationsNotificationPage.ɵcmp = core[\"sc\" /* ɵɵdefineComponent */]({ type: AddonNotificationsNotificationPage, selectors: [[\"page-addon-notifications-notification\"]], decls: 27, vars: 22, consts: [[\"slot\", \"start\"], [3, \"text\"], [3, \"core-swipe-navigation\"], [3, \"hideUntil\"], [1, \"list-item-limited-width\"], [\"lines\", \"full\", 1, \"ion-text-wrap\", \"core-notification-title\"], [\"slot\", \"start\", 3, \"userId\", \"profileUrl\", \"fullname\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"item-heading\"], [\"contextLevel\", \"system\", 3, \"text\", \"contextInstanceId\", \"wsNotFiltered\"], [1, \"ion-text-wrap\", \"core-notification-body\"], [\"contextLevel\", \"system\", 3, \"text\", \"contextInstanceId\"], [\"collapsible-footer\", \"\", \"appearOnBottom\", \"\", \"slot\", \"fixed\", 4, \"ngIf\"], [\"slot\", \"start\", 3, \"userId\", \"profileUrl\", \"fullname\"], [\"class\", \"core-avatar-extra-img\", 4, \"ngIf\"], [3, \"modicon\", \"modname\", \"showAlt\", 4, \"ngIf\"], [1, \"core-avatar-extra-img\"], [\"alt\", \"\", \"role\", \"presentation\", 3, \"src\"], [3, \"modicon\", \"modname\", \"showAlt\"], [\"class\", \"core-notification-icon\", \"slot\", \"start\", 4, \"ngIf\"], [\"class\", \"core-notification-icon\", \"slot\", \"start\", 3, \"modicon\", \"modname\", \"showAlt\", 4, \"ngIf\"], [\"slot\", \"start\", 1, \"core-notification-icon\"], [\"slot\", \"start\", 1, \"core-notification-icon\", 3, \"modicon\", \"modname\", \"showAlt\"], [\"collapsible-footer\", \"\", \"appearOnBottom\", \"\", \"slot\", \"fixed\"], [1, \"list-item-limited-width\", \"adaptable-buttons-row\"], [\"expand\", \"block\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [\"expand\", \"block\", 3, \"click\"], [\"slot\", \"start\", \"aria-hidden\", \"true\", 3, \"name\"]], template: function AddonNotificationsNotificationPage_Template(rf, ctx) {\n            if (rf & 1) {\n                core[\"Ec\" /* ɵɵelementStart */](0, \"ion-header\");\n                core[\"Ec\" /* ɵɵelementStart */](1, \"ion-toolbar\");\n                core[\"Ec\" /* ɵɵelementStart */](2, \"ion-buttons\", 0);\n                core[\"zc\" /* ɵɵelement */](3, \"ion-back-button\", 1);\n                core[\"Pc\" /* ɵɵpipe */](4, \"translate\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](5, \"ion-title\");\n                core[\"Ec\" /* ɵɵelementStart */](6, \"h1\");\n                core[\"pd\" /* ɵɵtext */](7);\n                core[\"Pc\" /* ɵɵpipe */](8, \"translate\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](9, \"ion-content\", 2);\n                core[\"Ec\" /* ɵɵelementStart */](10, \"core-loading\", 3);\n                core[\"Ec\" /* ɵɵelementStart */](11, \"div\", 4);\n                core[\"Ec\" /* ɵɵelementStart */](12, \"ion-item\", 5);\n                core[\"nd\" /* ɵɵtemplate */](13, AddonNotificationsNotificationPage_core_user_avatar_13_Template, 3, 5, \"core-user-avatar\", 6);\n                core[\"nd\" /* ɵɵtemplate */](14, AddonNotificationsNotificationPage_ng_container_14_Template, 3, 2, \"ng-container\", 7);\n                core[\"Ec\" /* ɵɵelementStart */](15, \"ion-label\");\n                core[\"Ec\" /* ɵɵelementStart */](16, \"p\", 8);\n                core[\"zc\" /* ɵɵelement */](17, \"core-format-text\", 9);\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](18, \"p\");\n                core[\"pd\" /* ɵɵtext */](19);\n                core[\"Pc\" /* ɵɵpipe */](20, \"coreTimeAgo\");\n                core[\"nd\" /* ɵɵtemplate */](21, AddonNotificationsNotificationPage_ng_container_21_Template, 2, 1, \"ng-container\", 7);\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](22, \"ion-item\", 10);\n                core[\"Ec\" /* ɵɵelementStart */](23, \"ion-label\");\n                core[\"zc\" /* ɵɵelement */](24, \"core-format-text\", 11);\n                core[\"Pc\" /* ɵɵpipe */](25, \"coreCreateLinks\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"nd\" /* ɵɵtemplate */](26, AddonNotificationsNotificationPage_div_26_Template, 3, 1, \"div\", 12);\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n            }\n            if (rf & 2) {\n                core[\"lc\" /* ɵɵadvance */](3);\n                core[\"Vc\" /* ɵɵproperty */](\"text\", core[\"Qc\" /* ɵɵpipeBind1 */](4, 14, \"core.back\"));\n                core[\"lc\" /* ɵɵadvance */](4);\n                core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](8, 16, \"addon.notifications.notifications\"));\n                core[\"lc\" /* ɵɵadvance */](2);\n                core[\"Vc\" /* ɵɵproperty */](\"core-swipe-navigation\", ctx.notifications);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"hideUntil\", ctx.loaded);\n                core[\"lc\" /* ɵɵadvance */](3);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx.userIdFrom > 0);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx.userIdFrom <= 0 && ctx.iconUrl);\n                core[\"lc\" /* ɵɵadvance */](3);\n                core[\"Vc\" /* ɵɵproperty */](\"text\", ctx.subject)(\"contextInstanceId\", 0)(\"wsNotFiltered\", true);\n                core[\"lc\" /* ɵɵadvance */](2);\n                core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](20, 18, ctx.timecreated));\n                core[\"lc\" /* ɵɵadvance */](2);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx.userIdFrom > 0);\n                core[\"lc\" /* ɵɵadvance */](3);\n                core[\"Vc\" /* ɵɵproperty */](\"text\", core[\"Qc\" /* ɵɵpipeBind1 */](25, 20, ctx.content))(\"contextInstanceId\", 0);\n                core[\"lc\" /* ɵɵadvance */](2);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx.loaded && ctx.actions && ctx.actions.length > 0);\n            }\n        }, directives: [ionic_angular[\"C\" /* IonHeader */], ionic_angular[\"Ab\" /* IonToolbar */], ionic_angular[\"m\" /* IonButtons */], ionic_angular[\"h\" /* IonBackButton */], ionic_angular[\"i\" /* IonBackButtonDelegate */], ionic_angular[\"yb\" /* IonTitle */], content[\"a\" /* CoreContentDirective */], ionic_angular[\"v\" /* IonContent */], swipe_navigation[\"a\" /* CoreSwipeNavigationDirective */], loading[\"a\" /* CoreLoadingComponent */], ionic_angular[\"I\" /* IonItem */], common[\"t\" /* NgIf */], ionic_angular[\"O\" /* IonLabel */], format_text[\"a\" /* CoreFormatTextDirective */], user_avatar[\"a\" /* CoreUserAvatarComponent */], mod_icon[\"a\" /* CoreModIconComponent */], collapsible_footer[\"a\" /* CoreCollapsibleFooterDirective */], common[\"s\" /* NgForOf */], update_non_reactive_attributes[\"a\" /* CoreUpdateNonReactiveAttributesDirective */], ionic_angular[\"l\" /* IonButton */], ionic_angular[\"D\" /* IonIcon */], fa_icon[\"a\" /* CoreFaIconDirective */]], pipes: [ngx_translate_core[\"d\" /* TranslatePipe */], time_ago[\"a\" /* CoreTimeAgoPipe */], create_links[\"a\" /* CoreCreateLinksPipe */]], styles: [\"[_nghost-%COMP%]{--extra-icon-size:16px;--icon-size:24px}[_nghost-%COMP%]     core-user-avatar .core-avatar-extra-img, [_nghost-%COMP%]     core-user-avatar core-mod-icon{margin:0!important;position:absolute;right:-4px;bottom:-4px;padding:.2rem}[_nghost-%COMP%]     core-user-avatar .core-avatar-extra-img{background:var(--background-color);border-radius:var(--medium-radius)}[_nghost-%COMP%]     core-user-avatar .core-avatar-extra-img img{max-width:var(--extra-icon-size);max-height:var(--extra-icon-size);display:block}[_nghost-%COMP%]     core-user-avatar core-mod-icon{--size:var(--extra-icon-size)}[_nghost-%COMP%]   div.core-notification-icon[_ngcontent-%COMP%]{padding:.7rem;background:var(--background-color);border-radius:var(--small-radius)}[_nghost-%COMP%]   div.core-notification-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:var(--icon-size);height:var(--icon-size)}[_nghost-%COMP%]   .core-notification-icon[_ngcontent-%COMP%]{--module-icon-size:var(--icon-size);margin:6px 8px 6px 0}@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){[_nghost-%COMP%]   .core-notification-icon[_ngcontent-%COMP%]{margin-left:unset;margin-right:unset;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px}}\", \"[_nghost-%COMP%]   .core-notification-title[_ngcontent-%COMP%]   [slot=start][_ngcontent-%COMP%]{align-self:start;margin-top:16px}[_nghost-%COMP%]   .core-notification-title[_ngcontent-%COMP%]   p.item-heading[_ngcontent-%COMP%]{font-size:16px}[_nghost-%COMP%]   .core-notification-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}[_nghost-%COMP%]   .core-notification-body[_ngcontent-%COMP%]   core-format-text[_ngcontent-%COMP%]{font-size:var(--text-size)}[_nghost-%COMP%]   .core-notification-body[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:700}[_nghost-%COMP%]   .core-notification-body[_ngcontent-%COMP%]   core-format-text[_ngcontent-%COMP%]     .forumpost{border:1px solid var(--gray-200);width:100%;margin:0 0 1em}[_nghost-%COMP%]   .core-notification-body[_ngcontent-%COMP%]   core-format-text[_ngcontent-%COMP%]     .forumpost td{padding:10px}[_nghost-%COMP%]   .core-notification-body[_ngcontent-%COMP%]   core-format-text[_ngcontent-%COMP%]     .forumpost .header{background-color:var(--light)}[_nghost-%COMP%]   .core-notification-body[_ngcontent-%COMP%]   core-format-text[_ngcontent-%COMP%]     .forumpost .header .picture{width:48px;text-align:center;padding-left:4px;padding-right:0;padding-top:8px}@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){[_nghost-%COMP%]   .core-notification-body[_ngcontent-%COMP%]   core-format-text[_ngcontent-%COMP%]     .forumpost .header .picture{padding-left:unset;padding-right:unset;-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:0;padding-inline-end:0}}[_nghost-%COMP%]   .core-notification-body[_ngcontent-%COMP%]   core-format-text[_ngcontent-%COMP%]     .forumpost .header .picture img{width:44px!important}[_nghost-%COMP%]   .core-notification-body[_ngcontent-%COMP%]   core-format-text[_ngcontent-%COMP%]     .forumpost .subject{font-weight:700;margin-bottom:1rem}[_nghost-%COMP%]   .core-notification-body[_ngcontent-%COMP%]   core-format-text[_ngcontent-%COMP%]     a{text-decoration:none}[_nghost-%COMP%]   .core-notification-body[_ngcontent-%COMP%]   core-format-text[_ngcontent-%COMP%]     .userpicture{border-radius:50%}[_nghost-%COMP%]   .core-notification-body[_ngcontent-%COMP%]   core-format-text[_ngcontent-%COMP%]     .mdl-right{text-align:end}[_nghost-%COMP%]   .core-notification-body[_ngcontent-%COMP%]   core-format-text[_ngcontent-%COMP%]     .mdl-right a{display:none}[_nghost-%COMP%]   .core-notification-body[_ngcontent-%COMP%]   core-format-text[_ngcontent-%COMP%]     .mdl-right font{font-size:.9em}[_nghost-%COMP%]   .core-notification-body[_ngcontent-%COMP%]   core-format-text[_ngcontent-%COMP%]     .commands{display:none}[_nghost-%COMP%]   .core-notification-body[_ngcontent-%COMP%]   core-format-text[_ngcontent-%COMP%]     hr{margin-top:1.5rem;margin-bottom:1.5rem;background-color:var(--gray-200)}\"] });\n    return AddonNotificationsNotificationPage;\n})();\n/**\n * Helper to manage swiping within a collection of notifications.\n */\nclass notification_AddonNotificationSwipeItemsManager extends swipe_navigation_items_manager[\"a\" /* CoreSwipeNavigationItemsManager */] {\n    /**\n     * @inheritdoc\n     */\n    getSelectedItemPathFromRoute(route) {\n        return route.params.id;\n    }\n}\n\n// CONCATENATED MODULE: ./src/addons/notifications/pages/notification/notification.module.ts\n// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n\n\nconst routes = [\n    {\n        path: '',\n        component: notification_AddonNotificationsNotificationPage,\n    },\n];\nlet notification_module_AddonNotificationsNotificationPageModule = /*@__PURE__*/ (() => {\n    class AddonNotificationsNotificationPageModule {\n    }\n    AddonNotificationsNotificationPageModule.ɵmod = core[\"wc\" /* ɵɵdefineNgModule */]({ type: AddonNotificationsNotificationPageModule });\n    AddonNotificationsNotificationPageModule.ɵinj = core[\"vc\" /* ɵɵdefineInjector */]({ factory: function AddonNotificationsNotificationPageModule_Factory(t) { return new (t || AddonNotificationsNotificationPageModule)(); }, imports: [[\n                router[\"m\" /* RouterModule */].forChild(routes),\n                shared_module[\"a\" /* CoreSharedModule */],\n            ], router[\"m\" /* RouterModule */]] });\n    return AddonNotificationsNotificationPageModule;\n})();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && core[\"kd\" /* ɵɵsetNgModuleScope */](notification_module_AddonNotificationsNotificationPageModule, { declarations: [notification_AddonNotificationsNotificationPage], imports: [router[\"m\" /* RouterModule */], shared_module[\"a\" /* CoreSharedModule */]], exports: [router[\"m\" /* RouterModule */]] }); })();\n\n\n/***/ }),\n\n/***/ \"eoiU\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return CoreSwipeNavigationItemsManager; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"mrSG\");\n/* harmony import */ var _services_navigator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"pHTc\");\n/* harmony import */ var _routed_items_manager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"CtbY\");\n// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n/**\n * Helper class to manage the state and routing of a swipeable page.\n */\nclass CoreSwipeNavigationItemsManager extends _routed_items_manager__WEBPACK_IMPORTED_MODULE_2__[/* CoreRoutedItemsManager */ \"a\"] {\n    /**\n     * Process page started operations.\n     */\n    start() {\n        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"a\"])(this, void 0, void 0, function* () {\n            this.updateSelectedItem();\n        });\n    }\n    /**\n     * Navigate to the next item.\n     */\n    navigateToNextItem() {\n        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"a\"])(this, void 0, void 0, function* () {\n            yield this.navigateToItemBy(1, 'forward');\n        });\n    }\n    /**\n     * Navigate to the previous item.\n     */\n    navigateToPreviousItem() {\n        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"a\"])(this, void 0, void 0, function* () {\n            yield this.navigateToItemBy(-1, 'back');\n        });\n    }\n    /**\n     * Has a next item.\n     */\n    hasNextItem() {\n        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"a\"])(this, void 0, void 0, function* () {\n            const item = yield this.getItemBy(1);\n            return !!item;\n        });\n    }\n    /**\n     * Has a previous item.\n     */\n    hasPreviousItem() {\n        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"a\"])(this, void 0, void 0, function* () {\n            const item = yield this.getItemBy(-1);\n            return !!item;\n        });\n    }\n    /**\n     * @inheritdoc\n     */\n    getCurrentPageRoute() {\n        return _services_navigator__WEBPACK_IMPORTED_MODULE_1__[/* CoreNavigator */ \"a\"].getCurrentRoute();\n    }\n    /**\n     * @inheritdoc\n     */\n    getSelectedItemPathFromRoute(route) {\n        const segments = [];\n        while (route) {\n            segments.push(...route.url);\n            if (!route.firstChild) {\n                break;\n            }\n            route = route.firstChild;\n        }\n        return segments.map(segment => segment.path).join('/').replace(/\\/+/, '/').trim() || null;\n    }\n    /**\n     * Navigate to an item by an offset.\n     *\n     * @param delta Index offset.\n     * @param animationDirection Animation direction.\n     */\n    navigateToItemBy(delta, animationDirection) {\n        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"a\"])(this, void 0, void 0, function* () {\n            const item = yield this.getItemBy(delta);\n            if (!item) {\n                return;\n            }\n            yield this.navigateToItem(item, { animationDirection, replace: true });\n        });\n    }\n    /**\n     * Get item by an offset.\n     *\n     * @param delta Index offset.\n     */\n    getItemBy(delta) {\n        var _a;\n        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"a\"])(this, void 0, void 0, function* () {\n            const items = this.getSource().getItems();\n            const selectedIndex = (_a = (this.selectedItem && (items === null || items === void 0 ? void 0 : items.indexOf(this.selectedItem)))) !== null && _a !== void 0 ? _a : -1;\n            if (selectedIndex === -1 || items === null) {\n                return null;\n            }\n            const deltaStep = delta > 0 ? 1 : -1;\n            let nextIndex = selectedIndex;\n            let deltaMoved = 0;\n            while (deltaMoved !== delta) {\n                nextIndex += deltaStep;\n                if (nextIndex < 0 || nextIndex >= items.length) {\n                    break;\n                }\n                if (this.skipItemInSwipe(items[nextIndex])) {\n                    continue;\n                }\n                deltaMoved += deltaStep;\n            }\n            if (deltaMoved === delta) {\n                return items[nextIndex];\n            }\n            if (!this.getSource().isCompleted()) {\n                yield this.getSource().load();\n                return this.getItemBy(delta);\n            }\n            return null;\n        });\n    }\n    /**\n     * Check if an item should be skipped during swipe navigation.\n     *\n     * @param item Item.\n     * @returns Whether to skip this item during swipe navigation.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    skipItemInSwipe(item) {\n        return false;\n    }\n}\n\n\n/***/ })\n\n}]);","inputSourceMap":null}