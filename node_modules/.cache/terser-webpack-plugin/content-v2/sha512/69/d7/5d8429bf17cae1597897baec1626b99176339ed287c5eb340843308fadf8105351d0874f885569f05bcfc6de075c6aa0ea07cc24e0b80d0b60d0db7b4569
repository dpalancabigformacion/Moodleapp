{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{Md7T:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"AddonBlogLazyModule\",(function(){return Q}));var o=n(\"fXoL\"),i=n(\"tyNb\"),r=n(\"L3Fv\"),c=n(\"mrSG\"),a=n(\"SJTA\"),s=n(\"5pQw\"),d=n(\"YyYz\"),l=n(\"kWmn\"),g=n(\"4pns\"),_=n(\"pHTc\"),u=n(\"9+EE\"),m=n(\"3LXp\"),h=n(\"vuGA\"),f=n(\"bFG1\"),p=n(\"TEn/\"),E=n(\"C1x5\"),b=n(\"nt/U\"),I=n(\"PgjG\"),y=n(\"ofXK\"),P=n(\"xpMl\"),M=n(\"3Pt+\"),x=n(\"r8G5\"),L=n(\"FeAf\"),A=n(\"hMzs\"),v=n(\"vSVd\"),T=n(\"1Rj0\"),B=n(\"5450\"),D=n(\"iSJP\"),w=n(\"3CSS\"),O=n(\"sYmb\"),V=n(\"Cg42\"),z=n(\"lAaw\");function AddonBlogEntriesPage_ion_item_16_Template(e,t){if(1&e){const e=o.Fc();o.Ec(0,\"ion-item\"),o.Ec(1,\"ion-label\"),o.pd(2),o.Pc(3,\"translate\"),o.Dc(),o.Ec(4,\"ion-toggle\",11),o.Mc(\"ngModelChange\",(function AddonBlogEntriesPage_ion_item_16_Template_ion_toggle_ngModelChange_4_listener(t){o.fd(e);return o.Oc().onlyMyEntries=t}))(\"ionChange\",(function AddonBlogEntriesPage_ion_item_16_Template_ion_toggle_ionChange_4_listener(){o.fd(e);const t=o.Oc();return t.onlyMyEntriesToggleChanged(t.onlyMyEntries)})),o.Dc(),o.Dc()}if(2&e){const e=o.Oc();o.lc(2),o.qd(o.Qc(3,2,\"addon.blog.showonlyyourentries\")),o.lc(2),o.Vc(\"ngModel\",e.onlyMyEntries)}}function AddonBlogEntriesPage_core_empty_box_17_Template(e,t){1&e&&(o.zc(0,\"core-empty-box\",12),o.Pc(1,\"translate\")),2&e&&o.Vc(\"message\",o.Qc(1,1,\"addon.blog.noentriesyet\"))}function AddonBlogEntriesPage_ng_container_18_ion_card_1_ion_item_18_Template(e,t){if(1&e&&(o.Ec(0,\"ion-item\",13),o.Ec(1,\"ion-label\"),o.Ec(2,\"div\",0),o.pd(3),o.Pc(4,\"translate\"),o.Dc(),o.zc(5,\"core-tag-list\",25),o.Dc(),o.Dc()),2&e){const e=o.Oc(2).$implicit;o.lc(3),o.rd(\"\",o.Qc(4,2,\"core.tag.tags\"),\":\"),o.lc(2),o.Vc(\"tags\",e.tags)}}function AddonBlogEntriesPage_ng_container_18_ion_card_1_core_comments_19_Template(e,t){if(1&e&&o.zc(0,\"core-comments\",26),2&e){const e=o.Oc(2).$implicit,t=o.Oc();o.Vc(\"component\",t.component)(\"itemId\",e.id)(\"instanceId\",e.userid)(\"showItem\",!0)}}function AddonBlogEntriesPage_ng_container_18_ion_card_1_core_file_20_Template(e,t){if(1&e&&o.zc(0,\"core-file\",27),2&e){const e=t.$implicit,n=o.Oc(2).$implicit,i=o.Oc();o.Vc(\"file\",e)(\"component\",i.component)(\"componentId\",n.id)}}function AddonBlogEntriesPage_ng_container_18_ion_card_1_ion_item_21_Template(e,t){if(1&e&&(o.Ec(0,\"ion-item\",28),o.Ec(1,\"ion-label\"),o.pd(2),o.Pc(3,\"translate\"),o.Dc(),o.Dc()),2&e){const e=o.Oc(2).$implicit;o.Vc(\"href\",e.uniquehash),o.lc(2),o.qd(o.Qc(3,2,\"addon.blog.linktooriginalentry\"))}}function AddonBlogEntriesPage_ng_container_18_ion_card_1_div_22_Template(e,t){if(1&e&&(o.Ec(0,\"div\",29),o.Ec(1,\"ion-note\"),o.zc(2,\"ion-icon\",30),o.Pc(3,\"translate\"),o.pd(4),o.Pc(5,\"coreTimeAgo\"),o.Dc(),o.Dc()),2&e){const e=o.Oc(2).$implicit;o.lc(2),o.mc(\"aria-label\",o.Qc(3,2,\"core.lastmodified\")),o.lc(2),o.rd(\" \",o.Qc(5,4,e.lastmodified),\" \")}}function AddonBlogEntriesPage_ng_container_18_ion_card_1_Template(e,t){if(1&e&&(o.Ec(0,\"ion-card\"),o.Ec(1,\"ion-item\",13),o.zc(2,\"core-user-avatar\",14),o.Ec(3,\"ion-label\"),o.Ec(4,\"p\",15),o.zc(5,\"core-format-text\",16),o.Ec(6,\"ion-note\",17),o.pd(7),o.Pc(8,\"translate\"),o.Dc(),o.Dc(),o.Ec(9,\"p\"),o.Ec(10,\"ion-note\",18),o.pd(11),o.Pc(12,\"coreDateDayOrTime\"),o.Dc(),o.pd(13),o.Dc(),o.Dc(),o.Dc(),o.Ec(14,\"ion-card-content\"),o.Ec(15,\"ion-item\",13),o.Ec(16,\"ion-label\"),o.zc(17,\"core-format-text\",19),o.Dc(),o.Dc(),o.nd(18,AddonBlogEntriesPage_ng_container_18_ion_card_1_ion_item_18_Template,6,4,\"ion-item\",20),o.nd(19,AddonBlogEntriesPage_ng_container_18_ion_card_1_core_comments_19_Template,1,4,\"core-comments\",21),o.nd(20,AddonBlogEntriesPage_ng_container_18_ion_card_1_core_file_20_Template,1,3,\"core-file\",22),o.nd(21,AddonBlogEntriesPage_ng_container_18_ion_card_1_ion_item_21_Template,4,4,\"ion-item\",23),o.Dc(),o.nd(22,AddonBlogEntriesPage_ng_container_18_ion_card_1_div_22_Template,6,6,\"div\",24),o.Dc()),2&e){const e=o.Oc().$implicit,t=o.Oc();o.lc(2),o.Vc(\"user\",e.user)(\"courseId\",e.courseid),o.lc(3),o.Vc(\"text\",e.subject)(\"contextLevel\",t.contextLevel)(\"contextInstanceId\",t.contextInstanceId),o.lc(2),o.rd(\" \",o.Qc(8,18,\"addon.blog.\"+e.publishTranslated),\" \"),o.lc(4),o.rd(\" \",o.Qc(12,20,e.created),\" \"),o.lc(2),o.rd(\" \",e.user&&e.user.fullname,\" \"),o.lc(4),o.Vc(\"text\",e.summary)(\"component\",t.component)(\"componentId\",e.id)(\"contextLevel\",t.contextLevel)(\"contextInstanceId\",t.contextInstanceId),o.lc(1),o.Vc(\"ngIf\",t.tagsEnabled&&e.tags&&e.tags.length>0),o.lc(1),o.Vc(\"ngIf\",t.commentsEnabled),o.lc(1),o.Vc(\"ngForOf\",e.attachmentfiles),o.lc(1),o.Vc(\"ngIf\",e.uniquehash),o.lc(1),o.Vc(\"ngIf\",e.lastmodified>e.created)}}function AddonBlogEntriesPage_ng_container_18_Template(e,t){if(1&e&&(o.Cc(0),o.nd(1,AddonBlogEntriesPage_ng_container_18_ion_card_1_Template,23,22,\"ion-card\",7),o.Bc()),2&e){const e=t.$implicit,n=o.Oc();o.lc(1),o.Vc(\"ngIf\",!n.onlyMyEntries||e.userid==n.currentUserId)}}let C=(()=>{class AddonBlogEntriesPage{constructor(){this.title=\"\",this.filter={},this.pageLoaded=0,this.userPageLoaded=0,this.canLoadMoreEntries=!1,this.canLoadMoreUserEntries=!0,this.fetchSuccess=!1,this.loaded=!1,this.canLoadMore=!1,this.loadMoreError=!1,this.entries=[],this.showMyEntriesToggle=!1,this.onlyMyEntries=!1,this.component=a.b.COMPONENT,this.commentsEnabled=!1,this.tagsEnabled=!1,this.contextLevel=\"system\",this.contextInstanceId=0,this.currentUserId=u.b.getCurrentSiteUserId(),this.siteHomeId=u.b.getCurrentSiteHomeId()}ngOnInit(){return Object(c.a)(this,void 0,void 0,(function*(){const e=_.a.getRouteNumberParam(\"userId\"),t=_.a.getRouteNumberParam(\"courseId\"),n=_.a.getRouteNumberParam(\"cmId\"),o=_.a.getRouteNumberParam(\"entryId\"),i=_.a.getRouteNumberParam(\"groupId\"),r=_.a.getRouteNumberParam(\"tagId\");this.title=e||t||n||o||i||r?\"addon.blog.blogentries\":\"addon.blog.siteblogheading\",e&&(this.filter.userid=e),this.showMyEntriesToggle=!e,t&&(this.filter.courseid=t),n&&(this.filter.cmid=n),o&&(this.filter.entryid=o),i&&(this.filter.groupid=i),r&&(this.filter.tagid=r),!e||t||n?t&&t!=this.siteHomeId?(this.contextLevel=\"course\",this.contextInstanceId=t):(this.contextLevel=\"system\",this.contextInstanceId=0):(this.contextLevel=\"user\",this.contextInstanceId=e),this.commentsEnabled=!s.a.areCommentsDisabledInSite(),this.tagsEnabled=l.a.areTagsAvailableInSite();(new d.a).treatLink(),yield this.fetchEntries()}))}fetchEntries(e=!1){return Object(c.a)(this,void 0,void 0,(function*(){this.loadMoreError=!1,e&&(this.pageLoaded=0,this.userPageLoaded=0);const t=this.onlyMyEntries?this.userPageLoaded:this.pageLoaded;try{const n=yield a.a.getEntries(this.filter,t),o=n.entries.map((e=>Object(c.a)(this,void 0,void 0,(function*(){switch(e.publishstate){case\"draft\":e.publishTranslated=\"publishtonoone\";break;case\"site\":e.publishTranslated=\"publishtosite\";break;case\"public\":e.publishTranslated=\"publishtoworld\";break;default:e.publishTranslated=\"privacy:unknown\"}e.moduleid||e.coursemoduleid?(e.contextLevel=\"module\",e.contextInstanceId=e.moduleid||e.coursemoduleid):e.courseid?(e.contextLevel=\"course\",e.contextInstanceId=e.courseid):(e.contextLevel=\"user\",e.contextInstanceId=e.userid),e.summary=h.a.replacePluginfileUrls(e.summary,e.summaryfiles||[]),e.user=yield f.a.ignoreErrors(g.a.getProfile(e.userid,e.courseid,!0))}))));if(this.entries=e?n.entries:f.a.uniqueArray(this.entries.concat(n.entries),\"id\").sort(((e,t)=>t.created-e.created)),this.onlyMyEntries){const e=this.entries.filter((e=>e.userid==this.currentUserId)).length;this.canLoadMoreUserEntries=n.totalentries>e,this.canLoadMore=this.canLoadMoreUserEntries,this.userPageLoaded++}else this.canLoadMoreEntries=n.totalentries>this.entries.length,this.canLoadMore=this.canLoadMoreEntries,this.pageLoaded++;yield Promise.all(o),this.fetchSuccess||(this.fetchSuccess=!0,f.a.ignoreErrors(a.a.logView(this.filter)))}catch(e){m.a.showErrorModalDefault(e,\"addon.blog.errorloadentries\",!0),this.loadMoreError=!0}finally{this.loaded=!0}}))}onlyMyEntriesToggleChanged(e){if(this.canLoadMore=e?this.canLoadMoreUserEntries:this.canLoadMoreEntries,!e)return delete this.filter.userid,void 0;const t=this.entries.filter((e=>e.userid==this.currentUserId)).length;this.userPageLoaded=Math.floor(t/a.b.ENTRIES_PER_PAGE),this.filter.userid=this.currentUserId,0==t&&this.canLoadMoreUserEntries&&this.loadMore()}loadMore(e){return this.fetchEntries().finally((()=>{e&&e()}))}refresh(e){const t=this.entries.map((e=>s.a.invalidateCommentsData(\"user\",e.userid,this.component,e.id,\"format_blog\")));t.push(a.a.invalidateEntries(this.filter)),this.showMyEntriesToggle&&(this.filter.userid=this.currentUserId,t.push(a.a.invalidateEntries(this.filter)),this.onlyMyEntries||delete this.filter.userid),f.a.allPromises(t).finally((()=>{this.fetchEntries(!0).finally((()=>{e&&(null==e?void 0:e.complete())}))}))}}return AddonBlogEntriesPage.ɵfac=function AddonBlogEntriesPage_Factory(e){return new(e||AddonBlogEntriesPage)},AddonBlogEntriesPage.ɵcmp=o.sc({type:AddonBlogEntriesPage,selectors:[[\"page-addon-blog-entries\"]],decls:20,vars:16,consts:[[\"slot\",\"start\"],[3,\"text\"],[\"slot\",\"end\"],[1,\"limited-width\"],[\"slot\",\"fixed\",3,\"disabled\",\"ionRefresh\"],[3,\"pullingText\"],[3,\"hideUntil\"],[4,\"ngIf\"],[\"icon\",\"far-newspaper\",3,\"message\",4,\"ngIf\"],[4,\"ngFor\",\"ngForOf\"],[3,\"enabled\",\"error\",\"action\"],[3,\"ngModel\",\"ngModelChange\",\"ionChange\"],[\"icon\",\"far-newspaper\",3,\"message\"],[1,\"ion-text-wrap\"],[\"slot\",\"start\",3,\"user\",\"courseId\"],[1,\"item-heading\"],[3,\"text\",\"contextLevel\",\"contextInstanceId\"],[1,\"ion-float-end\",\"ion-padding-start\",\"ion-text-end\"],[1,\"ion-float-end\",\"ion-text-end\"],[3,\"text\",\"component\",\"componentId\",\"contextLevel\",\"contextInstanceId\"],[\"class\",\"ion-text-wrap\",4,\"ngIf\"],[\"area\",\"format_blog\",\"contextLevel\",\"user\",3,\"component\",\"itemId\",\"instanceId\",\"showItem\",4,\"ngIf\"],[3,\"file\",\"component\",\"componentId\",4,\"ngFor\",\"ngForOf\"],[\"core-link\",\"\",\"detail\",\"true\",3,\"href\",4,\"ngIf\"],[\"class\",\"ion-text-center ion-margin-bottom\",4,\"ngIf\"],[3,\"tags\"],[\"area\",\"format_blog\",\"contextLevel\",\"user\",3,\"component\",\"itemId\",\"instanceId\",\"showItem\"],[3,\"file\",\"component\",\"componentId\"],[\"core-link\",\"\",\"detail\",\"true\",3,\"href\"],[1,\"ion-text-center\",\"ion-margin-bottom\"],[\"name\",\"fas-clock\"]],template:function AddonBlogEntriesPage_Template(e,t){1&e&&(o.Ec(0,\"ion-header\"),o.Ec(1,\"ion-toolbar\"),o.Ec(2,\"ion-buttons\",0),o.zc(3,\"ion-back-button\",1),o.Pc(4,\"translate\"),o.Dc(),o.Ec(5,\"ion-title\"),o.Ec(6,\"h1\"),o.pd(7),o.Pc(8,\"translate\"),o.Dc(),o.Dc(),o.Ec(9,\"ion-buttons\",2),o.zc(10,\"core-user-menu-button\"),o.Dc(),o.Dc(),o.Dc(),o.Ec(11,\"ion-content\",3),o.Ec(12,\"ion-refresher\",4),o.Mc(\"ionRefresh\",(function AddonBlogEntriesPage_Template_ion_refresher_ionRefresh_12_listener(e){return t.refresh(e.target)})),o.zc(13,\"ion-refresher-content\",5),o.Pc(14,\"translate\"),o.Dc(),o.Ec(15,\"core-loading\",6),o.nd(16,AddonBlogEntriesPage_ion_item_16_Template,5,4,\"ion-item\",7),o.nd(17,AddonBlogEntriesPage_core_empty_box_17_Template,2,3,\"core-empty-box\",8),o.nd(18,AddonBlogEntriesPage_ng_container_18_Template,2,1,\"ng-container\",9),o.Ec(19,\"core-infinite-loading\",10),o.Mc(\"action\",(function AddonBlogEntriesPage_Template_core_infinite_loading_action_19_listener(e){return t.loadMore(e)})),o.Dc(),o.Dc(),o.Dc()),2&e&&(o.lc(3),o.Vc(\"text\",o.Qc(4,10,\"core.back\")),o.lc(4),o.qd(o.Qc(8,12,t.title)),o.lc(5),o.Vc(\"disabled\",!t.loaded),o.lc(1),o.Wc(\"pullingText\",o.Qc(14,14,\"core.pulltorefresh\")),o.lc(2),o.Vc(\"hideUntil\",t.loaded),o.lc(1),o.Vc(\"ngIf\",t.showMyEntriesToggle),o.lc(1),o.Vc(\"ngIf\",t.entries&&0==t.entries.length),o.lc(1),o.Vc(\"ngForOf\",t.entries),o.lc(1),o.Vc(\"enabled\",t.canLoadMore)(\"error\",t.loadMoreError))},directives:[p.C,p.Ab,p.m,p.h,p.i,p.yb,E.a,b.a,p.v,p.bb,p.cb,I.a,y.t,y.s,P.a,p.I,p.O,p.zb,p.d,M.r,M.u,x.a,p.n,L.a,A.a,p.W,p.o,v.a,T.a,B.a,D.a,p.D,w.a],pipes:[O.d,V.a,z.a],encapsulation:2}),AddonBlogEntriesPage})();var k=n(\"rGK3\"),U=n(\"yQkb\"),R=n(\"wG2S\"),S=n(\"KZF4\"),F=n(\"dQ3M\");function buildRoutes(e){return[...Object(R.b)(e,{data:{mainMenuTabRoot:S.b.PAGE_NAME},component:C})]}let Q=(()=>{class AddonBlogLazyModule{}return AddonBlogLazyModule.ɵmod=o.wc({type:AddonBlogLazyModule}),AddonBlogLazyModule.ɵinj=o.vc({factory:function AddonBlogLazyModule_Factory(e){return new(e||AddonBlogLazyModule)},providers:[{provide:i.g,multi:!0,deps:[o.x],useFactory:buildRoutes}],imports:[[r.a,k.a,U.a,F.a],i.m]}),AddonBlogLazyModule})();void((\"undefined\"==typeof ngJitMode||ngJitMode)&&o.kd(Q,{declarations:[C],imports:[r.a,k.a,U.a,F.a],exports:[i.m]}))}}]);","name":"35.2e6ae5549ba0598ad22f.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[35],{\n\n/***/ \"Md7T\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"AddonBlogLazyModule\", function() { return /* binding */ blog_lazy_module_AddonBlogLazyModule; });\n\n// EXTERNAL MODULE: ./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js\nvar core = __webpack_require__(\"fXoL\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/router/__ivy_ngcc__/fesm2015/router.js + 10 modules\nvar router = __webpack_require__(\"tyNb\");\n\n// EXTERNAL MODULE: ./src/core/shared.module.ts + 3 modules\nvar shared_module = __webpack_require__(\"L3Fv\");\n\n// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.js\nvar tslib_es6 = __webpack_require__(\"mrSG\");\n\n// EXTERNAL MODULE: ./src/addons/blog/services/blog.ts\nvar blog = __webpack_require__(\"SJTA\");\n\n// EXTERNAL MODULE: ./src/core/features/comments/services/comments.ts\nvar comments = __webpack_require__(\"5pQw\");\n\n// EXTERNAL MODULE: ./src/core/features/mainmenu/classes/deep-link-manager.ts\nvar deep_link_manager = __webpack_require__(\"YyYz\");\n\n// EXTERNAL MODULE: ./src/core/features/tag/services/tag.ts\nvar tag = __webpack_require__(\"kWmn\");\n\n// EXTERNAL MODULE: ./src/core/features/user/services/user.ts\nvar user = __webpack_require__(\"4pns\");\n\n// EXTERNAL MODULE: ./src/core/services/navigator.ts\nvar services_navigator = __webpack_require__(\"pHTc\");\n\n// EXTERNAL MODULE: ./src/core/services/sites.ts\nvar sites = __webpack_require__(\"9+EE\");\n\n// EXTERNAL MODULE: ./src/core/services/utils/dom.ts + 2 modules\nvar dom = __webpack_require__(\"3LXp\");\n\n// EXTERNAL MODULE: ./src/core/services/utils/text.ts + 1 modules\nvar utils_text = __webpack_require__(\"vuGA\");\n\n// EXTERNAL MODULE: ./src/core/services/utils/utils.ts\nvar utils = __webpack_require__(\"bFG1\");\n\n// EXTERNAL MODULE: ./node_modules/@ionic/angular/__ivy_ngcc__/fesm2015/ionic-angular.js + 5 modules\nvar ionic_angular = __webpack_require__(\"TEn/\");\n\n// EXTERNAL MODULE: ./src/core/features/mainmenu/components/user-menu-button/user-menu-button.ts\nvar user_menu_button = __webpack_require__(\"C1x5\");\n\n// EXTERNAL MODULE: ./src/core/directives/content.ts\nvar content = __webpack_require__(\"nt/U\");\n\n// EXTERNAL MODULE: ./src/core/components/loading/loading.ts\nvar loading = __webpack_require__(\"PgjG\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/common/__ivy_ngcc__/fesm2015/common.js\nvar common = __webpack_require__(\"ofXK\");\n\n// EXTERNAL MODULE: ./src/core/components/infinite-loading/infinite-loading.ts\nvar infinite_loading = __webpack_require__(\"xpMl\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/forms/__ivy_ngcc__/fesm2015/forms.js\nvar fesm2015_forms = __webpack_require__(\"3Pt+\");\n\n// EXTERNAL MODULE: ./src/core/components/empty-box/empty-box.ts\nvar empty_box = __webpack_require__(\"r8G5\");\n\n// EXTERNAL MODULE: ./src/core/components/user-avatar/user-avatar.ts\nvar user_avatar = __webpack_require__(\"FeAf\");\n\n// EXTERNAL MODULE: ./src/core/directives/format-text.ts\nvar format_text = __webpack_require__(\"hMzs\");\n\n// EXTERNAL MODULE: ./src/core/features/tag/components/list/list.ts\nvar list = __webpack_require__(\"vSVd\");\n\n// EXTERNAL MODULE: ./src/core/features/comments/components/comments/comments.ts\nvar comments_comments = __webpack_require__(\"1Rj0\");\n\n// EXTERNAL MODULE: ./src/core/components/file/file.ts\nvar file = __webpack_require__(\"5450\");\n\n// EXTERNAL MODULE: ./src/core/directives/link.ts\nvar directives_link = __webpack_require__(\"iSJP\");\n\n// EXTERNAL MODULE: ./src/core/directives/fa-icon.ts\nvar fa_icon = __webpack_require__(\"3CSS\");\n\n// EXTERNAL MODULE: ./node_modules/@ngx-translate/core/__ivy_ngcc__/fesm2015/ngx-translate-core.js + 8 modules\nvar ngx_translate_core = __webpack_require__(\"sYmb\");\n\n// EXTERNAL MODULE: ./src/core/pipes/date-day-or-time.ts\nvar date_day_or_time = __webpack_require__(\"Cg42\");\n\n// EXTERNAL MODULE: ./src/core/pipes/time-ago.ts\nvar time_ago = __webpack_require__(\"lAaw\");\n\n// CONCATENATED MODULE: ./src/addons/blog/pages/entries/entries.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction AddonBlogEntriesPage_ion_item_16_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r4 = core[\"Fc\" /* ɵɵgetCurrentView */]();\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-item\");\n        core[\"Ec\" /* ɵɵelementStart */](1, \"ion-label\");\n        core[\"pd\" /* ɵɵtext */](2);\n        core[\"Pc\" /* ɵɵpipe */](3, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Ec\" /* ɵɵelementStart */](4, \"ion-toggle\", 11);\n        core[\"Mc\" /* ɵɵlistener */](\"ngModelChange\", function AddonBlogEntriesPage_ion_item_16_Template_ion_toggle_ngModelChange_4_listener($event) { core[\"fd\" /* ɵɵrestoreView */](_r4); const ctx_r3 = core[\"Oc\" /* ɵɵnextContext */](); return ctx_r3.onlyMyEntries = $event; })(\"ionChange\", function AddonBlogEntriesPage_ion_item_16_Template_ion_toggle_ionChange_4_listener() { core[\"fd\" /* ɵɵrestoreView */](_r4); const ctx_r5 = core[\"Oc\" /* ɵɵnextContext */](); return ctx_r5.onlyMyEntriesToggleChanged(ctx_r5.onlyMyEntries); });\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r0 = core[\"Oc\" /* ɵɵnextContext */]();\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](3, 2, \"addon.blog.showonlyyourentries\"));\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"ngModel\", ctx_r0.onlyMyEntries);\n    }\n}\nfunction AddonBlogEntriesPage_core_empty_box_17_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"zc\" /* ɵɵelement */](0, \"core-empty-box\", 12);\n        core[\"Pc\" /* ɵɵpipe */](1, \"translate\");\n    }\n    if (rf & 2) {\n        core[\"Vc\" /* ɵɵproperty */](\"message\", core[\"Qc\" /* ɵɵpipeBind1 */](1, 1, \"addon.blog.noentriesyet\"));\n    }\n}\nfunction AddonBlogEntriesPage_ng_container_18_ion_card_1_ion_item_18_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-item\", 13);\n        core[\"Ec\" /* ɵɵelementStart */](1, \"ion-label\");\n        core[\"Ec\" /* ɵɵelementStart */](2, \"div\", 0);\n        core[\"pd\" /* ɵɵtext */](3);\n        core[\"Pc\" /* ɵɵpipe */](4, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"zc\" /* ɵɵelement */](5, \"core-tag-list\", 25);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const entry_r6 = core[\"Oc\" /* ɵɵnextContext */](2).$implicit;\n        core[\"lc\" /* ɵɵadvance */](3);\n        core[\"rd\" /* ɵɵtextInterpolate1 */](\"\", core[\"Qc\" /* ɵɵpipeBind1 */](4, 2, \"core.tag.tags\"), \":\");\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"tags\", entry_r6.tags);\n    }\n}\nfunction AddonBlogEntriesPage_ng_container_18_ion_card_1_core_comments_19_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"zc\" /* ɵɵelement */](0, \"core-comments\", 26);\n    }\n    if (rf & 2) {\n        const entry_r6 = core[\"Oc\" /* ɵɵnextContext */](2).$implicit;\n        const ctx_r9 = core[\"Oc\" /* ɵɵnextContext */]();\n        core[\"Vc\" /* ɵɵproperty */](\"component\", ctx_r9.component)(\"itemId\", entry_r6.id)(\"instanceId\", entry_r6.userid)(\"showItem\", true);\n    }\n}\nfunction AddonBlogEntriesPage_ng_container_18_ion_card_1_core_file_20_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"zc\" /* ɵɵelement */](0, \"core-file\", 27);\n    }\n    if (rf & 2) {\n        const file_r15 = ctx.$implicit;\n        const entry_r6 = core[\"Oc\" /* ɵɵnextContext */](2).$implicit;\n        const ctx_r10 = core[\"Oc\" /* ɵɵnextContext */]();\n        core[\"Vc\" /* ɵɵproperty */](\"file\", file_r15)(\"component\", ctx_r10.component)(\"componentId\", entry_r6.id);\n    }\n}\nfunction AddonBlogEntriesPage_ng_container_18_ion_card_1_ion_item_21_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-item\", 28);\n        core[\"Ec\" /* ɵɵelementStart */](1, \"ion-label\");\n        core[\"pd\" /* ɵɵtext */](2);\n        core[\"Pc\" /* ɵɵpipe */](3, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const entry_r6 = core[\"Oc\" /* ɵɵnextContext */](2).$implicit;\n        core[\"Vc\" /* ɵɵproperty */](\"href\", entry_r6.uniquehash);\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](3, 2, \"addon.blog.linktooriginalentry\"));\n    }\n}\nfunction AddonBlogEntriesPage_ng_container_18_ion_card_1_div_22_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"div\", 29);\n        core[\"Ec\" /* ɵɵelementStart */](1, \"ion-note\");\n        core[\"zc\" /* ɵɵelement */](2, \"ion-icon\", 30);\n        core[\"Pc\" /* ɵɵpipe */](3, \"translate\");\n        core[\"pd\" /* ɵɵtext */](4);\n        core[\"Pc\" /* ɵɵpipe */](5, \"coreTimeAgo\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const entry_r6 = core[\"Oc\" /* ɵɵnextContext */](2).$implicit;\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"mc\" /* ɵɵattribute */](\"aria-label\", core[\"Qc\" /* ɵɵpipeBind1 */](3, 2, \"core.lastmodified\"));\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"rd\" /* ɵɵtextInterpolate1 */](\" \", core[\"Qc\" /* ɵɵpipeBind1 */](5, 4, entry_r6.lastmodified), \" \");\n    }\n}\nfunction AddonBlogEntriesPage_ng_container_18_ion_card_1_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-card\");\n        core[\"Ec\" /* ɵɵelementStart */](1, \"ion-item\", 13);\n        core[\"zc\" /* ɵɵelement */](2, \"core-user-avatar\", 14);\n        core[\"Ec\" /* ɵɵelementStart */](3, \"ion-label\");\n        core[\"Ec\" /* ɵɵelementStart */](4, \"p\", 15);\n        core[\"zc\" /* ɵɵelement */](5, \"core-format-text\", 16);\n        core[\"Ec\" /* ɵɵelementStart */](6, \"ion-note\", 17);\n        core[\"pd\" /* ɵɵtext */](7);\n        core[\"Pc\" /* ɵɵpipe */](8, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Ec\" /* ɵɵelementStart */](9, \"p\");\n        core[\"Ec\" /* ɵɵelementStart */](10, \"ion-note\", 18);\n        core[\"pd\" /* ɵɵtext */](11);\n        core[\"Pc\" /* ɵɵpipe */](12, \"coreDateDayOrTime\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"pd\" /* ɵɵtext */](13);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Ec\" /* ɵɵelementStart */](14, \"ion-card-content\");\n        core[\"Ec\" /* ɵɵelementStart */](15, \"ion-item\", 13);\n        core[\"Ec\" /* ɵɵelementStart */](16, \"ion-label\");\n        core[\"zc\" /* ɵɵelement */](17, \"core-format-text\", 19);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"nd\" /* ɵɵtemplate */](18, AddonBlogEntriesPage_ng_container_18_ion_card_1_ion_item_18_Template, 6, 4, \"ion-item\", 20);\n        core[\"nd\" /* ɵɵtemplate */](19, AddonBlogEntriesPage_ng_container_18_ion_card_1_core_comments_19_Template, 1, 4, \"core-comments\", 21);\n        core[\"nd\" /* ɵɵtemplate */](20, AddonBlogEntriesPage_ng_container_18_ion_card_1_core_file_20_Template, 1, 3, \"core-file\", 22);\n        core[\"nd\" /* ɵɵtemplate */](21, AddonBlogEntriesPage_ng_container_18_ion_card_1_ion_item_21_Template, 4, 4, \"ion-item\", 23);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"nd\" /* ɵɵtemplate */](22, AddonBlogEntriesPage_ng_container_18_ion_card_1_div_22_Template, 6, 6, \"div\", 24);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const entry_r6 = core[\"Oc\" /* ɵɵnextContext */]().$implicit;\n        const ctx_r7 = core[\"Oc\" /* ɵɵnextContext */]();\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"user\", entry_r6.user)(\"courseId\", entry_r6.courseid);\n        core[\"lc\" /* ɵɵadvance */](3);\n        core[\"Vc\" /* ɵɵproperty */](\"text\", entry_r6.subject)(\"contextLevel\", ctx_r7.contextLevel)(\"contextInstanceId\", ctx_r7.contextInstanceId);\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"rd\" /* ɵɵtextInterpolate1 */](\" \", core[\"Qc\" /* ɵɵpipeBind1 */](8, 18, \"addon.blog.\" + entry_r6.publishTranslated), \" \");\n        core[\"lc\" /* ɵɵadvance */](4);\n        core[\"rd\" /* ɵɵtextInterpolate1 */](\" \", core[\"Qc\" /* ɵɵpipeBind1 */](12, 20, entry_r6.created), \" \");\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"rd\" /* ɵɵtextInterpolate1 */](\" \", entry_r6.user && entry_r6.user.fullname, \" \");\n        core[\"lc\" /* ɵɵadvance */](4);\n        core[\"Vc\" /* ɵɵproperty */](\"text\", entry_r6.summary)(\"component\", ctx_r7.component)(\"componentId\", entry_r6.id)(\"contextLevel\", ctx_r7.contextLevel)(\"contextInstanceId\", ctx_r7.contextInstanceId);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx_r7.tagsEnabled && entry_r6.tags && entry_r6.tags.length > 0);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx_r7.commentsEnabled);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngForOf\", entry_r6.attachmentfiles);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", entry_r6.uniquehash);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", entry_r6.lastmodified > entry_r6.created);\n    }\n}\nfunction AddonBlogEntriesPage_ng_container_18_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Cc\" /* ɵɵelementContainerStart */](0);\n        core[\"nd\" /* ɵɵtemplate */](1, AddonBlogEntriesPage_ng_container_18_ion_card_1_Template, 23, 22, \"ion-card\", 7);\n        core[\"Bc\" /* ɵɵelementContainerEnd */]();\n    }\n    if (rf & 2) {\n        const entry_r6 = ctx.$implicit;\n        const ctx_r2 = core[\"Oc\" /* ɵɵnextContext */]();\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", !ctx_r2.onlyMyEntries || entry_r6.userid == ctx_r2.currentUserId);\n    }\n}\n/**\n * Page that displays the list of blog entries.\n */\nlet entries_AddonBlogEntriesPage = /*@__PURE__*/ (() => {\n    class AddonBlogEntriesPage {\n        constructor() {\n            this.title = '';\n            this.filter = {};\n            this.pageLoaded = 0;\n            this.userPageLoaded = 0;\n            this.canLoadMoreEntries = false;\n            this.canLoadMoreUserEntries = true;\n            this.fetchSuccess = false;\n            this.loaded = false;\n            this.canLoadMore = false;\n            this.loadMoreError = false;\n            this.entries = [];\n            this.showMyEntriesToggle = false;\n            this.onlyMyEntries = false;\n            this.component = blog[\"b\" /* AddonBlogProvider */].COMPONENT;\n            this.commentsEnabled = false;\n            this.tagsEnabled = false;\n            this.contextLevel = \"system\" /* SYSTEM */;\n            this.contextInstanceId = 0;\n            this.currentUserId = sites[\"b\" /* CoreSites */].getCurrentSiteUserId();\n            this.siteHomeId = sites[\"b\" /* CoreSites */].getCurrentSiteHomeId();\n        }\n        /**\n         * View loaded.\n         */\n        ngOnInit() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                const userId = services_navigator[\"a\" /* CoreNavigator */].getRouteNumberParam('userId');\n                const courseId = services_navigator[\"a\" /* CoreNavigator */].getRouteNumberParam('courseId');\n                const cmId = services_navigator[\"a\" /* CoreNavigator */].getRouteNumberParam('cmId');\n                const entryId = services_navigator[\"a\" /* CoreNavigator */].getRouteNumberParam('entryId');\n                const groupId = services_navigator[\"a\" /* CoreNavigator */].getRouteNumberParam('groupId');\n                const tagId = services_navigator[\"a\" /* CoreNavigator */].getRouteNumberParam('tagId');\n                if (!userId && !courseId && !cmId && !entryId && !groupId && !tagId) {\n                    this.title = 'addon.blog.siteblogheading';\n                }\n                else {\n                    this.title = 'addon.blog.blogentries';\n                }\n                if (userId) {\n                    this.filter.userid = userId;\n                }\n                this.showMyEntriesToggle = !userId;\n                if (courseId) {\n                    this.filter.courseid = courseId;\n                }\n                if (cmId) {\n                    this.filter.cmid = cmId;\n                }\n                if (entryId) {\n                    this.filter.entryid = entryId;\n                }\n                if (groupId) {\n                    this.filter.groupid = groupId;\n                }\n                if (tagId) {\n                    this.filter.tagid = tagId;\n                }\n                // Calculate the context level.\n                if (userId && !courseId && !cmId) {\n                    this.contextLevel = \"user\" /* USER */;\n                    this.contextInstanceId = userId;\n                }\n                else if (courseId && courseId != this.siteHomeId) {\n                    this.contextLevel = \"course\" /* COURSE */;\n                    this.contextInstanceId = courseId;\n                }\n                else {\n                    this.contextLevel = \"system\" /* SYSTEM */;\n                    this.contextInstanceId = 0;\n                }\n                this.commentsEnabled = !comments[\"a\" /* CoreComments */].areCommentsDisabledInSite();\n                this.tagsEnabled = tag[\"a\" /* CoreTag */].areTagsAvailableInSite();\n                const deepLinkManager = new deep_link_manager[\"a\" /* CoreMainMenuDeepLinkManager */]();\n                deepLinkManager.treatLink();\n                yield this.fetchEntries();\n            });\n        }\n        /**\n         * Fetch blog entries.\n         *\n         * @param refresh Empty events array first.\n         * @return Promise with the entries.\n         */\n        fetchEntries(refresh = false) {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                this.loadMoreError = false;\n                if (refresh) {\n                    this.pageLoaded = 0;\n                    this.userPageLoaded = 0;\n                }\n                const loadPage = this.onlyMyEntries ? this.userPageLoaded : this.pageLoaded;\n                try {\n                    const result = yield blog[\"a\" /* AddonBlog */].getEntries(this.filter, loadPage);\n                    const promises = result.entries.map((entry) => Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                        switch (entry.publishstate) {\n                            case 'draft':\n                                entry.publishTranslated = 'publishtonoone';\n                                break;\n                            case 'site':\n                                entry.publishTranslated = 'publishtosite';\n                                break;\n                            case 'public':\n                                entry.publishTranslated = 'publishtoworld';\n                                break;\n                            default:\n                                entry.publishTranslated = 'privacy:unknown';\n                                break;\n                        }\n                        // Calculate the context. This code was inspired by calendar events, Moodle doesn't do this for blogs.\n                        if (entry.moduleid || entry.coursemoduleid) {\n                            entry.contextLevel = \"module\" /* MODULE */;\n                            entry.contextInstanceId = entry.moduleid || entry.coursemoduleid;\n                        }\n                        else if (entry.courseid) {\n                            entry.contextLevel = \"course\" /* COURSE */;\n                            entry.contextInstanceId = entry.courseid;\n                        }\n                        else {\n                            entry.contextLevel = \"user\" /* USER */;\n                            entry.contextInstanceId = entry.userid;\n                        }\n                        entry.summary = utils_text[\"a\" /* CoreTextUtils */].replacePluginfileUrls(entry.summary, entry.summaryfiles || []);\n                        entry.user = yield utils[\"a\" /* CoreUtils */].ignoreErrors(user[\"a\" /* CoreUser */].getProfile(entry.userid, entry.courseid, true));\n                    }));\n                    if (refresh) {\n                        this.entries = result.entries;\n                    }\n                    else {\n                        this.entries = utils[\"a\" /* CoreUtils */].uniqueArray(this.entries\n                            .concat(result.entries), 'id')\n                            .sort((a, b) => b.created - a.created);\n                    }\n                    if (this.onlyMyEntries) {\n                        const count = this.entries.filter((entry) => entry.userid == this.currentUserId).length;\n                        this.canLoadMoreUserEntries = result.totalentries > count;\n                        this.canLoadMore = this.canLoadMoreUserEntries;\n                        this.userPageLoaded++;\n                    }\n                    else {\n                        this.canLoadMoreEntries = result.totalentries > this.entries.length;\n                        this.canLoadMore = this.canLoadMoreEntries;\n                        this.pageLoaded++;\n                    }\n                    yield Promise.all(promises);\n                    if (!this.fetchSuccess) {\n                        this.fetchSuccess = true;\n                        utils[\"a\" /* CoreUtils */].ignoreErrors(blog[\"a\" /* AddonBlog */].logView(this.filter));\n                    }\n                }\n                catch (error) {\n                    dom[\"a\" /* CoreDomUtils */].showErrorModalDefault(error, 'addon.blog.errorloadentries', true);\n                    this.loadMoreError = true; // Set to prevent infinite calls with infinite-loading.\n                }\n                finally {\n                    this.loaded = true;\n                }\n            });\n        }\n        /**\n         * Toggle between showing only my entries or not.\n         *\n         * @param enabled If true, filter my entries. False otherwise.\n         */\n        onlyMyEntriesToggleChanged(enabled) {\n            this.canLoadMore = enabled ? this.canLoadMoreUserEntries : this.canLoadMoreEntries;\n            if (!enabled) {\n                delete this.filter.userid;\n                return;\n            }\n            const count = this.entries.filter((entry) => entry.userid == this.currentUserId).length;\n            this.userPageLoaded = Math.floor(count / blog[\"b\" /* AddonBlogProvider */].ENTRIES_PER_PAGE);\n            this.filter.userid = this.currentUserId;\n            if (count == 0 && this.canLoadMoreUserEntries) {\n                // First time but no entry loaded. Try to load some.\n                this.loadMore();\n            }\n        }\n        /**\n         * Function to load more entries.\n         *\n         * @param infiniteComplete Infinite scroll complete function. Only used from core-infinite-loading.\n         * @return Resolved when done.\n         */\n        loadMore(infiniteComplete) {\n            return this.fetchEntries().finally(() => {\n                infiniteComplete && infiniteComplete();\n            });\n        }\n        /**\n         * Refresh blog entries on PTR.\n         *\n         * @param refresher Refresher instance.\n         */\n        refresh(refresher) {\n            const promises = this.entries.map((entry) => comments[\"a\" /* CoreComments */].invalidateCommentsData('user', entry.userid, this.component, entry.id, 'format_blog'));\n            promises.push(blog[\"a\" /* AddonBlog */].invalidateEntries(this.filter));\n            if (this.showMyEntriesToggle) {\n                this.filter['userid'] = this.currentUserId;\n                promises.push(blog[\"a\" /* AddonBlog */].invalidateEntries(this.filter));\n                if (!this.onlyMyEntries) {\n                    delete this.filter['userid'];\n                }\n            }\n            utils[\"a\" /* CoreUtils */].allPromises(promises).finally(() => {\n                this.fetchEntries(true).finally(() => {\n                    if (refresher) {\n                        refresher === null || refresher === void 0 ? void 0 : refresher.complete();\n                    }\n                });\n            });\n        }\n    }\n    AddonBlogEntriesPage.ɵfac = function AddonBlogEntriesPage_Factory(t) { return new (t || AddonBlogEntriesPage)(); };\n    AddonBlogEntriesPage.ɵcmp = core[\"sc\" /* ɵɵdefineComponent */]({ type: AddonBlogEntriesPage, selectors: [[\"page-addon-blog-entries\"]], decls: 20, vars: 16, consts: [[\"slot\", \"start\"], [3, \"text\"], [\"slot\", \"end\"], [1, \"limited-width\"], [\"slot\", \"fixed\", 3, \"disabled\", \"ionRefresh\"], [3, \"pullingText\"], [3, \"hideUntil\"], [4, \"ngIf\"], [\"icon\", \"far-newspaper\", 3, \"message\", 4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [3, \"enabled\", \"error\", \"action\"], [3, \"ngModel\", \"ngModelChange\", \"ionChange\"], [\"icon\", \"far-newspaper\", 3, \"message\"], [1, \"ion-text-wrap\"], [\"slot\", \"start\", 3, \"user\", \"courseId\"], [1, \"item-heading\"], [3, \"text\", \"contextLevel\", \"contextInstanceId\"], [1, \"ion-float-end\", \"ion-padding-start\", \"ion-text-end\"], [1, \"ion-float-end\", \"ion-text-end\"], [3, \"text\", \"component\", \"componentId\", \"contextLevel\", \"contextInstanceId\"], [\"class\", \"ion-text-wrap\", 4, \"ngIf\"], [\"area\", \"format_blog\", \"contextLevel\", \"user\", 3, \"component\", \"itemId\", \"instanceId\", \"showItem\", 4, \"ngIf\"], [3, \"file\", \"component\", \"componentId\", 4, \"ngFor\", \"ngForOf\"], [\"core-link\", \"\", \"detail\", \"true\", 3, \"href\", 4, \"ngIf\"], [\"class\", \"ion-text-center ion-margin-bottom\", 4, \"ngIf\"], [3, \"tags\"], [\"area\", \"format_blog\", \"contextLevel\", \"user\", 3, \"component\", \"itemId\", \"instanceId\", \"showItem\"], [3, \"file\", \"component\", \"componentId\"], [\"core-link\", \"\", \"detail\", \"true\", 3, \"href\"], [1, \"ion-text-center\", \"ion-margin-bottom\"], [\"name\", \"fas-clock\"]], template: function AddonBlogEntriesPage_Template(rf, ctx) {\n            if (rf & 1) {\n                core[\"Ec\" /* ɵɵelementStart */](0, \"ion-header\");\n                core[\"Ec\" /* ɵɵelementStart */](1, \"ion-toolbar\");\n                core[\"Ec\" /* ɵɵelementStart */](2, \"ion-buttons\", 0);\n                core[\"zc\" /* ɵɵelement */](3, \"ion-back-button\", 1);\n                core[\"Pc\" /* ɵɵpipe */](4, \"translate\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](5, \"ion-title\");\n                core[\"Ec\" /* ɵɵelementStart */](6, \"h1\");\n                core[\"pd\" /* ɵɵtext */](7);\n                core[\"Pc\" /* ɵɵpipe */](8, \"translate\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](9, \"ion-buttons\", 2);\n                core[\"zc\" /* ɵɵelement */](10, \"core-user-menu-button\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](11, \"ion-content\", 3);\n                core[\"Ec\" /* ɵɵelementStart */](12, \"ion-refresher\", 4);\n                core[\"Mc\" /* ɵɵlistener */](\"ionRefresh\", function AddonBlogEntriesPage_Template_ion_refresher_ionRefresh_12_listener($event) { return ctx.refresh($event.target); });\n                core[\"zc\" /* ɵɵelement */](13, \"ion-refresher-content\", 5);\n                core[\"Pc\" /* ɵɵpipe */](14, \"translate\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](15, \"core-loading\", 6);\n                core[\"nd\" /* ɵɵtemplate */](16, AddonBlogEntriesPage_ion_item_16_Template, 5, 4, \"ion-item\", 7);\n                core[\"nd\" /* ɵɵtemplate */](17, AddonBlogEntriesPage_core_empty_box_17_Template, 2, 3, \"core-empty-box\", 8);\n                core[\"nd\" /* ɵɵtemplate */](18, AddonBlogEntriesPage_ng_container_18_Template, 2, 1, \"ng-container\", 9);\n                core[\"Ec\" /* ɵɵelementStart */](19, \"core-infinite-loading\", 10);\n                core[\"Mc\" /* ɵɵlistener */](\"action\", function AddonBlogEntriesPage_Template_core_infinite_loading_action_19_listener($event) { return ctx.loadMore($event); });\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n            }\n            if (rf & 2) {\n                core[\"lc\" /* ɵɵadvance */](3);\n                core[\"Vc\" /* ɵɵproperty */](\"text\", core[\"Qc\" /* ɵɵpipeBind1 */](4, 10, \"core.back\"));\n                core[\"lc\" /* ɵɵadvance */](4);\n                core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](8, 12, ctx.title));\n                core[\"lc\" /* ɵɵadvance */](5);\n                core[\"Vc\" /* ɵɵproperty */](\"disabled\", !ctx.loaded);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Wc\" /* ɵɵpropertyInterpolate */](\"pullingText\", core[\"Qc\" /* ɵɵpipeBind1 */](14, 14, \"core.pulltorefresh\"));\n                core[\"lc\" /* ɵɵadvance */](2);\n                core[\"Vc\" /* ɵɵproperty */](\"hideUntil\", ctx.loaded);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx.showMyEntriesToggle);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx.entries && ctx.entries.length == 0);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"ngForOf\", ctx.entries);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"enabled\", ctx.canLoadMore)(\"error\", ctx.loadMoreError);\n            }\n        }, directives: [ionic_angular[\"C\" /* IonHeader */], ionic_angular[\"Ab\" /* IonToolbar */], ionic_angular[\"m\" /* IonButtons */], ionic_angular[\"h\" /* IonBackButton */], ionic_angular[\"i\" /* IonBackButtonDelegate */], ionic_angular[\"yb\" /* IonTitle */], user_menu_button[\"a\" /* CoreMainMenuUserButtonComponent */], content[\"a\" /* CoreContentDirective */], ionic_angular[\"v\" /* IonContent */], ionic_angular[\"bb\" /* IonRefresher */], ionic_angular[\"cb\" /* IonRefresherContent */], loading[\"a\" /* CoreLoadingComponent */], common[\"t\" /* NgIf */], common[\"s\" /* NgForOf */], infinite_loading[\"a\" /* CoreInfiniteLoadingComponent */], ionic_angular[\"I\" /* IonItem */], ionic_angular[\"O\" /* IonLabel */], ionic_angular[\"zb\" /* IonToggle */], ionic_angular[\"d\" /* BooleanValueAccessor */], fesm2015_forms[\"r\" /* NgControlStatus */], fesm2015_forms[\"u\" /* NgModel */], empty_box[\"a\" /* CoreEmptyBoxComponent */], ionic_angular[\"n\" /* IonCard */], user_avatar[\"a\" /* CoreUserAvatarComponent */], format_text[\"a\" /* CoreFormatTextDirective */], ionic_angular[\"W\" /* IonNote */], ionic_angular[\"o\" /* IonCardContent */], list[\"a\" /* CoreTagListComponent */], comments_comments[\"a\" /* CoreCommentsCommentsComponent */], file[\"a\" /* CoreFileComponent */], directives_link[\"a\" /* CoreLinkDirective */], ionic_angular[\"D\" /* IonIcon */], fa_icon[\"a\" /* CoreFaIconDirective */]], pipes: [ngx_translate_core[\"d\" /* TranslatePipe */], date_day_or_time[\"a\" /* CoreDateDayOrTimePipe */], time_ago[\"a\" /* CoreTimeAgoPipe */]], encapsulation: 2 });\n    return AddonBlogEntriesPage;\n})();\n\n// EXTERNAL MODULE: ./src/core/features/comments/components/components.module.ts\nvar components_module = __webpack_require__(\"rGK3\");\n\n// EXTERNAL MODULE: ./src/core/features/tag/components/components.module.ts\nvar components_components_module = __webpack_require__(\"yQkb\");\n\n// EXTERNAL MODULE: ./src/core/features/mainmenu/mainmenu-tab-routing.module.ts\nvar mainmenu_tab_routing_module = __webpack_require__(\"wG2S\");\n\n// EXTERNAL MODULE: ./src/addons/blog/services/handlers/mainmenu.ts\nvar mainmenu = __webpack_require__(\"KZF4\");\n\n// EXTERNAL MODULE: ./src/core/features/mainmenu/components/components.module.ts\nvar mainmenu_components_components_module = __webpack_require__(\"dQ3M\");\n\n// CONCATENATED MODULE: ./src/addons/blog/blog-lazy.module.ts\n// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n\n\n\n\n\n\nfunction buildRoutes(injector) {\n    return [\n        ...Object(mainmenu_tab_routing_module[\"b\" /* buildTabMainRoutes */])(injector, {\n            data: {\n                mainMenuTabRoot: mainmenu[\"b\" /* AddonBlogMainMenuHandlerService */].PAGE_NAME,\n            },\n            component: entries_AddonBlogEntriesPage,\n        }),\n    ];\n}\nlet blog_lazy_module_AddonBlogLazyModule = /*@__PURE__*/ (() => {\n    class AddonBlogLazyModule {\n    }\n    AddonBlogLazyModule.ɵmod = core[\"wc\" /* ɵɵdefineNgModule */]({ type: AddonBlogLazyModule });\n    AddonBlogLazyModule.ɵinj = core[\"vc\" /* ɵɵdefineInjector */]({ factory: function AddonBlogLazyModule_Factory(t) { return new (t || AddonBlogLazyModule)(); }, providers: [\n            {\n                provide: router[\"g\" /* ROUTES */],\n                multi: true,\n                deps: [core[\"x\" /* Injector */]],\n                useFactory: buildRoutes,\n            },\n        ], imports: [[\n                shared_module[\"a\" /* CoreSharedModule */],\n                components_module[\"a\" /* CoreCommentsComponentsModule */],\n                components_components_module[\"a\" /* CoreTagComponentsModule */],\n                mainmenu_components_components_module[\"a\" /* CoreMainMenuComponentsModule */],\n            ], router[\"m\" /* RouterModule */]] });\n    return AddonBlogLazyModule;\n})();\n(function () {\n    (typeof ngJitMode === \"undefined\" || ngJitMode) && core[\"kd\" /* ɵɵsetNgModuleScope */](blog_lazy_module_AddonBlogLazyModule, { declarations: [entries_AddonBlogEntriesPage], imports: [shared_module[\"a\" /* CoreSharedModule */],\n            components_module[\"a\" /* CoreCommentsComponentsModule */],\n            components_components_module[\"a\" /* CoreTagComponentsModule */],\n            mainmenu_components_components_module[\"a\" /* CoreMainMenuComponentsModule */]], exports: [router[\"m\" /* RouterModule */]] });\n})();\n\n\n/***/ })\n\n}]);","inputSourceMap":null}