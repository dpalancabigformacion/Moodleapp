{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{omKK:function(t,e,o){\"use strict\";o.r(e),o.d(e,\"AddonModQuizPlayerPageModule\",(function(){return B}));var i=o(\"L3Fv\"),n=o(\"tyNb\"),r=o(\"uNPo\"),a=o(\"MLi9\"),c=o(\"mrSG\"),s=o(\"TEn/\"),d=o(\"Zl5n\"),l=o(\"qRov\"),m=o(\"pHTc\"),u=o(\"9+EE\"),_=o(\"uT8i\"),h=o(\"3LXp\"),g=o(\"bFG1\"),p=o(\"j3ag\"),f=o(\"fjkH\"),P=o(\"2Vo4\"),M=o(\"3j9v\"),v=o(\"+/ys\"),b=o(\"Ohwm\");class auto_save_AddonModQuizAutoSave{constructor(t,e){this.formName=t,this.buttonSelector=e,this.CHECK_CHANGES_INTERVAL=5e3,this.popoverShown=!1,this.logger=M.a.getInstance(\"AddonModQuizAutoSave\"),this.errorObservable=new P.a(!1)}cancelAutoSave(){clearTimeout(this.autoSaveTimeout),this.autoSaveTimeout=void 0}checkChanges(t,e,o,i){if(this.autoSaveTimeout)return;const n=this.getAnswers();if(!this.previousAnswers)return this.previousAnswers=n,void 0;let r=!0;for(const t in n)if(this.previousAnswers[t]!=n[t]){r=!1;break}r||this.setAutoSaveTimer(t,e,o,i),this.previousAnswers=n}getAnswers(){return l.a.getAnswersFromForm(document.forms[this.formName])}hideAutoSaveError(){var t;this.errorObservable.next(!1),null===(t=this.popover)||void 0===t||t.dismiss()}onError(){return this.errorObservable}setAutoSaveTimer(t,e,o,i){!t.autosaveperiod||this.autoSaveTimeout||b.a.isAttemptTimeNearlyOver(t,e)||(this.autoSaveTimeout=window.setTimeout((()=>Object(c.a)(this,void 0,void 0,(function*(){const n=this.getAnswers();this.cancelAutoSave(),this.previousAnswers=n;try{yield b.a.saveAttempt(t,e,n,o,i),this.hideAutoSaveError()}catch(n){this.logger.warn(\"Error auto-saving data.\",n),this.errorObservable.getValue()||(this.errorObservable.next(!0),this.showAutoSaveError()),this.setAutoSaveTimer(t,e,o,i)}}))),1e3*t.autosaveperiod))}showAutoSaveError(t){return Object(c.a)(this,void 0,void 0,(function*(){if(this.popoverShown)return;const e=t||{target:document.querySelector(this.buttonSelector),stopPropagation:()=>{},preventDefault:()=>{}};this.popoverShown=!0,this.popover=yield h.a.openPopover({component:v.a,event:e}),this.popoverShown=!1}))}startCheckChangesProcess(t,e,o,i){!this.checkChangesInterval&&t.autosaveperiod&&(this.previousAnswers=void 0,this.loadPreviousAnswersTimeout=window.setTimeout((()=>{this.checkChanges(t,e,o,i)}),2500),this.checkChangesInterval=window.setInterval((()=>{this.checkChanges(t,e,o,i)}),this.CHECK_CHANGES_INTERVAL))}stopCheckChangesProcess(){clearTimeout(this.loadPreviousAnswersTimeout),clearInterval(this.checkChangesInterval),this.loadPreviousAnswersTimeout=void 0,this.checkChangesInterval=void 0}}var O=o(\"6GiP\"),y=o(\"+8pu\"),C=o(\"hh6U\"),z=o(\"4reR\"),A=o(\"6s78\"),q=o(\"8vmT\"),T=o(\"DDKy\"),w=o(\"fXoL\"),E=o(\"ofXK\"),Q=o(\"ACYt\"),I=o(\"3CSS\"),S=o(\"nt/U\"),k=o(\"PgjG\"),D=o(\"hMzs\"),x=o(\"rztj\"),V=o(\"3Pt+\"),N=o(\"3jOR\"),F=o(\"iSJP\"),R=o(\"sYmb\");const L=[\"quizForm\"];function AddonModQuizPlayerPage_core_format_text_7_Template(t,e){if(1&t&&w.zc(0,\"core-format-text\",16),2&t){const t=w.Oc();w.Vc(\"text\",t.quiz.name)(\"contextInstanceId\",t.quiz.coursemodule)(\"courseId\",t.courseId)}}function AddonModQuizPlayerPage_ion_button_12_Template(t,e){if(1&t){const t=w.Fc();w.Ec(0,\"ion-button\",17),w.Mc(\"click\",(function AddonModQuizPlayerPage_ion_button_12_Template_ion_button_click_0_listener(){w.fd(t);return w.Oc().openNavigation()})),w.Pc(1,\"translate\"),w.zc(2,\"ion-icon\",18),w.Dc()}2&t&&w.mc(\"aria-label\",w.Qc(1,1,\"addon.mod_quiz.opentoc\"))}function AddonModQuizPlayerPage_ion_toolbar_13_Template(t,e){if(1&t){const t=w.Fc();w.Ec(0,\"ion-toolbar\",19),w.Ec(1,\"ion-title\"),w.Ec(2,\"core-timer\",20),w.Mc(\"finished\",(function AddonModQuizPlayerPage_ion_toolbar_13_Template_core_timer_finished_2_listener(){w.fd(t);return w.Oc().timeUp()})),w.Pc(3,\"translate\"),w.Dc(),w.Dc(),w.Dc()}if(2&t){const t=w.Oc();w.lc(2),w.Vc(\"endTime\",t.endTime)(\"timerText\",w.Qc(3,3,\"addon.mod_quiz.timeleft\"))(\"align\",\"center\")}}function AddonModQuizPlayerPage_ion_button_16_Template(t,e){if(1&t){const t=w.Fc();w.Ec(0,\"ion-button\",21),w.Mc(\"click\",(function AddonModQuizPlayerPage_ion_button_16_Template_ion_button_click_0_listener(){w.fd(t);return w.Oc().start()})),w.pd(1),w.Pc(2,\"translate\"),w.Dc()}2&t&&(w.lc(1),w.rd(\" \",w.Qc(2,1,\"addon.mod_quiz.startattempt\"),\" \"))}const _c1=function(t){return{$a:t}};function AddonModQuizPlayerPage_form_17_div_2_h2_4_Template(t,e){if(1&t&&(w.Ec(0,\"h2\",29),w.pd(1),w.Pc(2,\"translate\"),w.Dc()),2&t){const t=w.Oc().$implicit;w.lc(1),w.rd(\" \",w.Rc(2,1,\"core.question.questionno\",w.ad(4,_c1,t.number)),\" \")}}function AddonModQuizPlayerPage_form_17_div_2_h2_5_Template(t,e){1&t&&(w.Ec(0,\"h2\",29),w.pd(1),w.Pc(2,\"translate\"),w.Dc()),2&t&&(w.lc(1),w.qd(w.Qc(2,1,\"core.question.information\")))}function AddonModQuizPlayerPage_form_17_div_2_div_6_p_1_Template(t,e){if(1&t&&(w.Ec(0,\"p\",32),w.pd(1),w.Dc()),2&t){const t=w.Oc(2).$implicit;w.lc(1),w.qd(t.status)}}function AddonModQuizPlayerPage_form_17_div_2_div_6_p_2_Template(t,e){if(1&t&&(w.Ec(0,\"p\"),w.pd(1),w.Dc()),2&t){const t=w.Oc(2).$implicit;w.lc(1),w.qd(t.readableMark)}}function AddonModQuizPlayerPage_form_17_div_2_div_6_Template(t,e){if(1&t&&(w.Ec(0,\"div\",30),w.nd(1,AddonModQuizPlayerPage_form_17_div_2_div_6_p_1_Template,2,1,\"p\",31),w.nd(2,AddonModQuizPlayerPage_form_17_div_2_div_6_p_2_Template,2,1,\"p\",14),w.Dc()),2&t){const t=w.Oc().$implicit;w.lc(1),w.Vc(\"ngIf\",t.status),w.lc(1),w.Vc(\"ngIf\",t.readableMark)}}function AddonModQuizPlayerPage_form_17_div_2_Template(t,e){if(1&t){const t=w.Fc();w.Ec(0,\"div\"),w.Ec(1,\"ion-card\",25),w.Ec(2,\"ion-item-divider\"),w.Ec(3,\"ion-label\"),w.nd(4,AddonModQuizPlayerPage_form_17_div_2_h2_4_Template,3,6,\"h2\",26),w.nd(5,AddonModQuizPlayerPage_form_17_div_2_h2_5_Template,3,3,\"h2\",26),w.Dc(),w.nd(6,AddonModQuizPlayerPage_form_17_div_2_div_6_Template,3,2,\"div\",27),w.Dc(),w.Ec(7,\"core-question\",28),w.Mc(\"onAbort\",(function AddonModQuizPlayerPage_form_17_div_2_Template_core_question_onAbort_7_listener(){w.fd(t);return w.Oc(2).abortQuiz()}))(\"buttonClicked\",(function AddonModQuizPlayerPage_form_17_div_2_Template_core_question_buttonClicked_7_listener(e){w.fd(t);return w.Oc(2).behaviourButtonClicked(e)})),w.Dc(),w.Dc(),w.Dc()}if(2&t){const t=e.$implicit,o=w.Oc(2);w.lc(1),w.Xc(\"id\",\"addon-mod_quiz-question-\",t.slot,\"\"),w.lc(3),w.Vc(\"ngIf\",t.number),w.lc(1),w.Vc(\"ngIf\",!t.number),w.lc(1),w.Vc(\"ngIf\",t.status||t.readableMark),w.lc(1),w.Vc(\"question\",t)(\"component\",o.component)(\"componentId\",o.cmId)(\"attemptId\",o.attempt.id)(\"usageId\",o.attempt.uniqueid)(\"offlineEnabled\",o.offline)(\"contextInstanceId\",o.cmId)(\"courseId\",o.courseId)(\"preferredBehaviour\",o.quiz.preferredbehaviour)(\"review\",!1)}}function AddonModQuizPlayerPage_form_17_Template(t,e){if(1&t&&(w.Ec(0,\"form\",22,23),w.nd(2,AddonModQuizPlayerPage_form_17_div_2_Template,8,14,\"div\",24),w.Dc()),2&t){const t=w.Oc();w.lc(2),w.Vc(\"ngForOf\",t.questions)}}function AddonModQuizPlayerPage_ion_row_18_ion_col_1_Template(t,e){if(1&t){const t=w.Fc();w.Ec(0,\"ion-col\"),w.Ec(1,\"ion-button\",34),w.Mc(\"click\",(function AddonModQuizPlayerPage_ion_row_18_ion_col_1_Template_ion_button_click_1_listener(){w.fd(t);const e=w.Oc(2);return e.changePage(e.previousPage)})),w.zc(2,\"ion-icon\",35),w.pd(3),w.Pc(4,\"translate\"),w.Dc(),w.Dc()}2&t&&(w.lc(3),w.rd(\" \",w.Qc(4,1,\"core.previous\"),\" \"))}function AddonModQuizPlayerPage_ion_row_18_ion_col_2_ion_button_1_Template(t,e){if(1&t){const t=w.Fc();w.Ec(0,\"ion-button\",37),w.Mc(\"click\",(function AddonModQuizPlayerPage_ion_row_18_ion_col_2_ion_button_1_Template_ion_button_click_0_listener(){w.fd(t);const e=w.Oc(3);return e.changePage(e.nextPage)})),w.pd(1),w.Pc(2,\"translate\"),w.zc(3,\"ion-icon\",38),w.Dc()}2&t&&(w.lc(1),w.rd(\" \",w.Qc(2,1,\"core.next\"),\" \"))}function AddonModQuizPlayerPage_ion_row_18_ion_col_2_ion_button_2_Template(t,e){if(1&t){const t=w.Fc();w.Ec(0,\"ion-button\",37),w.Mc(\"click\",(function AddonModQuizPlayerPage_ion_row_18_ion_col_2_ion_button_2_Template_ion_button_click_0_listener(){w.fd(t);const e=w.Oc(3);return e.changePage(e.nextPage)})),w.pd(1),w.Pc(2,\"translate\"),w.Dc()}2&t&&(w.lc(1),w.rd(\" \",w.Qc(2,1,\"core.submit\"),\" \"))}function AddonModQuizPlayerPage_ion_row_18_ion_col_2_Template(t,e){if(1&t&&(w.Ec(0,\"ion-col\"),w.nd(1,AddonModQuizPlayerPage_ion_row_18_ion_col_2_ion_button_1_Template,4,3,\"ion-button\",36),w.nd(2,AddonModQuizPlayerPage_ion_row_18_ion_col_2_ion_button_2_Template,3,3,\"ion-button\",36),w.Dc()),2&t){const t=w.Oc(2);w.lc(1),w.Vc(\"ngIf\",t.nextPage>0),w.lc(1),w.Vc(\"ngIf\",-1==t.nextPage)}}function AddonModQuizPlayerPage_ion_row_18_Template(t,e){if(1&t&&(w.Ec(0,\"ion-row\",33),w.nd(1,AddonModQuizPlayerPage_ion_row_18_ion_col_1_Template,5,3,\"ion-col\",14),w.nd(2,AddonModQuizPlayerPage_ion_row_18_ion_col_2_Template,3,2,\"ion-col\",14),w.Dc()),2&t){const t=w.Oc();w.lc(1),w.Vc(\"ngIf\",t.previousPage>=0),w.lc(1),w.Vc(\"ngIf\",t.nextPage>=-1)}}function AddonModQuizPlayerPage_ion_card_19_ng_container_19_ion_item_1_Template(t,e){if(1&t){const t=w.Fc();w.Ec(0,\"ion-item\",48),w.Mc(\"click\",(function AddonModQuizPlayerPage_ion_card_19_ng_container_19_ion_item_1_Template_ion_item_click_0_listener(){w.fd(t);const e=w.Oc().$implicit;return w.Oc(2).changePage(e.page,!1,e.slot)})),w.Pc(1,\"translate\"),w.Ec(2,\"ion-label\"),w.Ec(3,\"ion-row\",41),w.Ec(4,\"ion-col\",49),w.pd(5),w.Dc(),w.Ec(6,\"ion-col\",50),w.pd(7),w.Dc(),w.Dc(),w.Dc(),w.Dc()}if(2&t){const t=w.Oc().$implicit,e=w.Oc(2);w.Vc(\"detail\",!e.isSequential&&e.canReturn)(\"button\",!e.isSequential&&e.canReturn),w.mc(\"aria-label\",w.Rc(1,5,\"core.question.questionno\",w.ad(8,_c1,t.number))),w.lc(5),w.qd(t.number),w.lc(2),w.qd(t.status)}}function AddonModQuizPlayerPage_ion_card_19_ng_container_19_Template(t,e){if(1&t&&(w.Cc(0),w.nd(1,AddonModQuizPlayerPage_ion_card_19_ng_container_19_ion_item_1_Template,8,10,\"ion-item\",47),w.Bc()),2&t){const t=e.$implicit;w.lc(1),w.Vc(\"ngIf\",t.number)}}function AddonModQuizPlayerPage_ion_card_19_ion_item_20_Template(t,e){if(1&t&&(w.Ec(0,\"ion-item\",40),w.Ec(1,\"ion-label\"),w.pd(2),w.Dc(),w.Dc()),2&t){const t=w.Oc(2);w.lc(2),w.qd(t.dueDateWarning)}}function AddonModQuizPlayerPage_ion_card_19_core_timer_21_Template(t,e){if(1&t){const t=w.Fc();w.Ec(0,\"core-timer\",51),w.Mc(\"finished\",(function AddonModQuizPlayerPage_ion_card_19_core_timer_21_Template_core_timer_finished_0_listener(){w.fd(t);return w.Oc(2).timeUp()})),w.Pc(1,\"translate\"),w.Dc()}if(2&t){const t=w.Oc(2);w.Vc(\"endTime\",t.endTime)(\"timerText\",w.Qc(1,2,\"addon.mod_quiz.timeleft\"))}}function AddonModQuizPlayerPage_ion_card_19_ion_item_22_p_5_Template(t,e){if(1&t&&(w.Ec(0,\"p\"),w.pd(1),w.Dc()),2&t){const t=e.$implicit;w.lc(1),w.qd(t)}}function AddonModQuizPlayerPage_ion_card_19_ion_item_22_Template(t,e){if(1&t&&(w.Ec(0,\"ion-item\",40),w.Ec(1,\"ion-label\"),w.Ec(2,\"h3\",52),w.pd(3),w.Pc(4,\"translate\"),w.Dc(),w.nd(5,AddonModQuizPlayerPage_ion_card_19_ion_item_22_p_5_Template,2,1,\"p\",24),w.Dc(),w.Dc()),2&t){const t=w.Oc(2);w.lc(3),w.qd(w.Qc(4,2,\"addon.mod_quiz.cannotsubmitquizdueto\")),w.lc(2),w.Vc(\"ngForOf\",t.preventSubmitMessages)}}function AddonModQuizPlayerPage_ion_card_19_Template(t,e){if(1&t&&(w.Ec(0,\"ion-card\",39),w.Ec(1,\"ion-card-header\",40),w.Ec(2,\"ion-card-title\"),w.pd(3),w.Pc(4,\"translate\"),w.Dc(),w.Dc(),w.Ec(5,\"ion-item\",40),w.Ec(6,\"ion-label\"),w.Ec(7,\"ion-row\",41),w.Ec(8,\"ion-col\",42),w.Ec(9,\"strong\"),w.pd(10),w.Pc(11,\"translate\"),w.Dc(),w.Dc(),w.Ec(12,\"ion-col\",43),w.Ec(13,\"strong\"),w.pd(14,\"#\"),w.Dc(),w.Dc(),w.Ec(15,\"ion-col\",44),w.Ec(16,\"strong\"),w.pd(17),w.Pc(18,\"translate\"),w.Dc(),w.Dc(),w.Dc(),w.Dc(),w.Dc(),w.nd(19,AddonModQuizPlayerPage_ion_card_19_ng_container_19_Template,2,1,\"ng-container\",24),w.nd(20,AddonModQuizPlayerPage_ion_card_19_ion_item_20_Template,3,1,\"ion-item\",45),w.nd(21,AddonModQuizPlayerPage_ion_card_19_core_timer_21_Template,2,4,\"core-timer\",46),w.nd(22,AddonModQuizPlayerPage_ion_card_19_ion_item_22_Template,6,4,\"ion-item\",45),w.Dc()),2&t){const t=w.Oc();w.lc(3),w.qd(w.Qc(4,7,\"addon.mod_quiz.summaryofattempt\")),w.lc(7),w.qd(w.Qc(11,9,\"addon.mod_quiz.question\")),w.lc(7),w.qd(w.Qc(18,11,\"addon.mod_quiz.status\")),w.lc(2),w.Vc(\"ngForOf\",t.summaryQuestions),w.lc(1),w.Vc(\"ngIf\",t.dueDateWarning),w.lc(1),w.Vc(\"ngIf\",t.endTime),w.lc(1),w.Vc(\"ngIf\",t.preventSubmitMessages.length)}}function AddonModQuizPlayerPage_ion_card_20_ion_button_5_Template(t,e){if(1&t){const t=w.Fc();w.Ec(0,\"ion-button\",54),w.Mc(\"click\",(function AddonModQuizPlayerPage_ion_card_20_ion_button_5_Template_ion_button_click_0_listener(){w.fd(t);const e=w.Oc(2);return e.changePage(e.attempt.currentpage)})),w.pd(1),w.Pc(2,\"translate\"),w.Dc()}2&t&&(w.lc(1),w.rd(\" \",w.Qc(2,1,\"addon.mod_quiz.returnattempt\"),\" \"))}function AddonModQuizPlayerPage_ion_card_20_Template(t,e){if(1&t&&(w.Ec(0,\"ion-card\"),w.Ec(1,\"ion-item\",40),w.Ec(2,\"ion-label\"),w.pd(3),w.Pc(4,\"translate\"),w.Dc(),w.Dc(),w.nd(5,AddonModQuizPlayerPage_ion_card_20_ion_button_5_Template,3,3,\"ion-button\",53),w.Dc()),2&t){const t=w.Oc();w.lc(3),w.qd(w.Qc(4,2,\"addon.mod_quiz.errorparsequestions\")),w.lc(2),w.Vc(\"ngIf\",t.canReturn)}}function AddonModQuizPlayerPage_div_21_ion_button_1_Template(t,e){if(1&t&&(w.Ec(0,\"ion-button\",58),w.pd(1),w.Pc(2,\"translate\"),w.zc(3,\"ion-icon\",59),w.Dc()),2&t){const t=w.Oc(2);w.Vc(\"href\",t.moduleUrl)(\"showBrowserWarning\",!1),w.lc(1),w.rd(\" \",w.Qc(2,3,\"core.openinbrowser\"),\" \")}}function AddonModQuizPlayerPage_div_21_ion_button_2_Template(t,e){if(1&t){const t=w.Fc();w.Ec(0,\"ion-button\",60),w.Mc(\"click\",(function AddonModQuizPlayerPage_div_21_ion_button_2_Template_ion_button_click_0_listener(){w.fd(t);return w.Oc(2).finishAttempt(!0)})),w.pd(1),w.Pc(2,\"translate\"),w.Dc()}2&t&&(w.lc(1),w.rd(\" \",w.Qc(2,1,\"addon.mod_quiz.submitallandfinish\"),\" \"))}function AddonModQuizPlayerPage_div_21_Template(t,e){if(1&t&&(w.Ec(0,\"div\",55),w.nd(1,AddonModQuizPlayerPage_div_21_ion_button_1_Template,4,5,\"ion-button\",56),w.nd(2,AddonModQuizPlayerPage_div_21_ion_button_2_Template,3,3,\"ion-button\",57),w.Dc()),2&t){const t=w.Oc();w.lc(1),w.Vc(\"ngIf\",t.preventSubmitMessages.length),w.lc(1),w.Vc(\"ngIf\",!t.attempt.finishedOffline&&!t.preventSubmitMessages.length)}}let j=(()=>{class AddonModQuizPlayerPage{constructor(t,e){this.changeDetector=t,this.elementRef=e,this.component=b.b.COMPONENT,this.loaded=!1,this.quizAborted=!1,this.offline=!1,this.navigation=[],this.questions=[],this.nextPage=-2,this.previousPage=-1,this.showSummary=!1,this.summaryQuestions=[],this.canReturn=!1,this.preventSubmitMessages=[],this.autoSaveError=!1,this.isSequential=!1,this.preflightData={},this.newAttempt=!1,this.quizDataLoaded=!1,this.timeUpCalled=!1,this.forceLeave=!1,this.reloadNavigation=!1}ngOnInit(){try{this.cmId=m.a.getRequiredRouteNumberParam(\"cmId\"),this.courseId=m.a.getRequiredRouteNumberParam(\"courseId\"),this.moduleUrl=m.a.getRouteParam(\"moduleUrl\")}catch(t){return h.a.showErrorModal(t),m.a.back(),void 0}this.autoSave=new auto_save_AddonModQuizAutoSave(\"addon-mod_quiz-player-form\",\"#addon-mod_quiz-connection-error-button\"),this.start(),this.autoSaveErrorSubscription=this.autoSave.onError().subscribe((t=>{this.autoSaveError=t,this.changeDetector.detectChanges()}))}ngOnDestroy(){var t;this.autoSave.cancelAutoSave(),this.autoSave.stopCheckChangesProcess(),null===(t=this.autoSaveErrorSubscription)||void 0===t||t.unsubscribe(),this.quiz&&_.a.unblockOperation(b.b.COMPONENT,this.quiz.id)}canLeave(){return Object(c.a)(this,void 0,void 0,(function*(){if(this.forceLeave||this.quizAborted||!this.questions.length||this.showSummary)return!0;const t=yield h.a.showModalLoading(\"core.sending\",!0);try{yield this.processAttempt(!1,!1)}catch(e){t.dismiss(),yield h.a.showConfirm(p.J.instant(\"addon.mod_quiz.confirmleavequizonerror\")),z.a.triggerFormCancelledEvent(this.formElement,u.b.getCurrentSiteId())}finally{t.dismiss()}return!0}))}ionViewWillLeave(){return Object(c.a)(this,void 0,void 0,(function*(){const t=yield p.x.getTop();null==t?void 0:t.dismiss()}))}abortQuiz(){this.quizAborted=!0}behaviourButtonClicked(t){var e,o;return Object(c.a)(this,void 0,void 0,(function*(){let i;try{yield h.a.showConfirm(p.J.instant(\"core.areyousure\")),i=yield h.a.showModalLoading(\"core.sending\",!0);const n=yield this.prepareAnswers();n[t.name]=t.value,yield b.a.processAttempt(this.quiz,this.attempt,n,this.preflightData),this.reloadNavigation=!0;const r=yield null===(e=this.content)||void 0===e?void 0:e.getScrollElement(),a=(null==r?void 0:r.scrollTop)||-1;this.loaded=!1,null===(o=this.content)||void 0===o||o.scrollToTop();try{yield this.loadPage(this.attempt.currentpage)}finally{this.loaded=!0,-1!=a&&setTimeout((()=>{var t;null===(t=this.content)||void 0===t?void 0:t.scrollToPoint(0,a)}),50)}}catch(t){h.a.showErrorModalDefault(t,\"Error performing action.\")}finally{null==i?void 0:i.dismiss()}}))}changePage(t,e,o){var i;return Object(c.a)(this,void 0,void 0,(function*(){if(this.attempt&&(-1==t||this.attempt.state!=b.b.ATTEMPT_OVERDUE&&!this.attempt.finishedOffline)){if(t==this.attempt.currentpage&&!this.showSummary&&void 0!==o)return yield this.scrollToQuestion(o),void 0;if(!(t==this.attempt.currentpage&&!this.showSummary||e&&this.isSequential&&-1!=t||-1===t&&this.showSummary)){if(null===(i=this.content)||void 0===i?void 0:i.scrollToTop(),!this.showSummary){const t=yield h.a.showModalLoading(\"core.sending\",!0);try{yield this.processAttempt(!1,!1),t.dismiss()}catch(e){return h.a.showErrorModalDefault(e,\"addon.mod_quiz.errorsaveattempt\",!0),t.dismiss(),void 0}this.reloadNavigation=!0}this.loaded=!1;try{this.autoSave.stopCheckChangesProcess(),-1===t?yield this.loadSummary():yield this.loadPage(t)}catch(t){this.showSummary||this.autoSave.startCheckChangesProcess(this.quiz,this.attempt,this.preflightData,this.offline),h.a.showErrorModalDefault(t,\"addon.mod_quiz.errorgetquestions\",!0)}finally{this.loaded=!0,void 0!==o&&(yield this.scrollToQuestion(o))}}}}))}fetchData(){return Object(c.a)(this,void 0,void 0,(function*(){try{this.quiz=yield b.a.getQuiz(this.courseId,this.cmId),_.a.blockOperation(b.b.COMPONENT,this.quiz.id),yield C.a.waitForSync(this.quiz.id),this.isSequential=b.a.isNavigationSequential(this.quiz),this.offline=!!b.a.isQuizOffline(this.quiz)||(yield b.a.isLastAttemptOfflineUnfinished(this.quiz)),this.quiz.timelimit&&this.quiz.timelimit>0&&(this.readableTimeLimit=q.a.formatTime(this.quiz.timelimit)),this.quizAccessInfo=yield b.a.getQuizAccessInformation(this.quiz.id,{cmId:this.quiz.coursemodule,readingStrategy:this.offline?1:2});const t=yield b.a.getUserAttempts(this.quiz.id,{cmId:this.quiz.coursemodule,readingStrategy:this.offline?1:2});if(!t.length)return this.newAttempt=!0,void 0;this.lastAttempt=yield y.a.setAttemptCalculatedData(this.quiz,t[t.length-1],!1,void 0,!0),this.newAttempt=b.a.isAttemptFinished(this.lastAttempt.state)}catch(t){h.a.showErrorModalDefault(t,\"addon.mod_quiz.errorgetquiz\",!0)}}))}finishAttempt(t,e){return Object(c.a)(this,void 0,void 0,(function*(){let o;try{e||this.attempt.state!=b.b.ATTEMPT_IN_PROGRESS||(yield h.a.showConfirm(p.J.instant(\"addon.mod_quiz.confirmclose\"))),o=yield h.a.showModalLoading(\"core.sending\",!0),yield this.processAttempt(t,e),f.b.trigger(b.b.ATTEMPT_FINISHED_EVENT,{quizId:this.quiz.id,attemptId:this.attempt.id,synced:!this.offline},u.b.getCurrentSiteId()),f.b.trigger(f.b.ACTIVITY_DATA_SENT,{module:\"quiz\"}),this.forceLeave=!0,m.a.back()}catch(t){h.a.showErrorModalDefault(t,\"addon.mod_quiz.errorsaveattempt\",!0)}finally{null==o?void 0:o.dismiss()}}))}fixSequenceChecks(){var t;return Object(c.a)(this,void 0,void 0,(function*(){const e=yield b.a.getAttemptData(this.attempt.id,this.attempt.currentpage,this.preflightData,{cmId:this.quiz.coursemodule,readingStrategy:this.offline?1:2}),o={};e.questions.forEach((t=>{const e=l.a.getQuestionSequenceCheckFromHtml(t.html);e&&(o[t.slot]=e)})),null===(t=this.questionComponents)||void 0===t||t.forEach((t=>{t.updateSequenceCheck(o)}))}))}getAnswers(){return l.a.getAnswersFromForm(document.forms[\"addon-mod_quiz-player-form\"])}initTimer(){var t;if(!(null===(t=this.attemptAccessInfo)||void 0===t?void 0:t.endtime)||this.attemptAccessInfo.endtime<0)return;b.a.shouldShowTimeLeft(this.quizAccessInfo.activerulenames,this.attempt,this.attemptAccessInfo.endtime)?this.endTime=this.attemptAccessInfo.endtime:delete this.endTime}loadPage(t){return Object(c.a)(this,void 0,void 0,(function*(){const e=yield b.a.getAttemptData(this.attempt.id,t,this.preflightData,{cmId:this.quiz.coursemodule,readingStrategy:this.offline?1:2});this.attempt=e.attempt,this.attempt.currentpage=t,this.questions=e.questions,this.nextPage=e.nextpage,this.previousPage=this.isSequential?-1:t-1,this.showSummary=!1,this.questions.forEach((t=>{t.readableMark=y.a.getQuestionMarkFromHtml(t.html),l.a.extractQuestionInfoBox(t,\".info\"),b.a.isQuestionBlocked(t)&&(t.type=\"description\")})),g.a.ignoreErrors(b.a.logViewAttempt(this.attempt.id,t,this.preflightData,this.offline,this.quiz)),this.autoSave.startCheckChangesProcess(this.quiz,this.attempt,this.preflightData,this.offline)}))}loadSummary(){return Object(c.a)(this,void 0,void 0,(function*(){this.summaryQuestions=[],this.summaryQuestions=yield b.a.getAttemptSummary(this.attempt.id,this.preflightData,{cmId:this.quiz.coursemodule,loadLocal:this.offline,readingStrategy:this.offline?1:2}),this.showSummary=!0,this.canReturn=this.attempt.state==b.b.ATTEMPT_IN_PROGRESS&&!this.attempt.finishedOffline,this.preventSubmitMessages=b.a.getPreventSubmitMessages(this.summaryQuestions),this.dueDateWarning=b.a.getAttemptDueDateWarning(this.quiz,this.attempt),g.a.ignoreErrors(b.a.logViewAttemptSummary(this.attempt.id,this.preflightData,this.quiz.id,this.quiz.name))}))}loadNavigation(){return Object(c.a)(this,void 0,void 0,(function*(){this.navigation=yield b.a.getAttemptSummary(this.attempt.id,this.preflightData,{cmId:this.quiz.coursemodule,loadLocal:this.offline,readingStrategy:this.offline?1:2}),this.navigation.forEach((t=>{t.stateClass=l.a.getQuestionStateClass(t.state||\"\")}))}))}openNavigation(){var t;return Object(c.a)(this,void 0,void 0,(function*(){if(this.reloadNavigation){const t=yield h.a.showModalLoading();yield g.a.ignoreErrors(this.loadNavigation()),t.dismiss(),this.reloadNavigation=!1}const e=yield h.a.openSideModal({component:O.a,componentProps:{navigation:this.navigation,summaryShown:this.showSummary,currentPage:null===(t=this.attempt)||void 0===t?void 0:t.currentpage,isReview:!1}});e&&this.changePage(e.page,!0,e.slot)}))}prepareAnswers(){return l.a.prepareAnswers(this.questions,this.getAnswers(),this.offline,this.component,this.quiz.coursemodule)}processAttempt(t,e,o){return Object(c.a)(this,void 0,void 0,(function*(){let i={};this.showSummary||(i=yield this.prepareAnswers());try{yield b.a.processAttempt(this.quiz,this.attempt,i,this.preflightData,t,e,this.offline)}catch(i){if(!i||\"submissionoutofsequencefriendlymessage\"!=i.errorcode)throw i;try{yield this.fixSequenceChecks()}catch(t){throw i}if(o)throw i;return this.processAttempt(t,e,!0)}return this.autoSave.cancelAutoSave(),this.autoSave.hideAutoSaveError(),this.formElement&&z.a.triggerFormSubmittedEvent(this.formElement,!this.offline,u.b.getCurrentSiteId()),l.a.clearTmpData(this.questions,this.component,this.quiz.coursemodule)}))}scrollToQuestion(t){return Object(c.a)(this,void 0,void 0,(function*(){yield g.a.nextTick(),yield T.a.waitComponentsReady(this.elementRef.nativeElement,\"core-question\"),yield A.a.scrollToElement(this.elementRef.nativeElement,\"#addon-mod_quiz-question-\"+t)}))}showConnectionError(t){this.autoSave.showAutoSaveError(t)}start(){return Object(c.a)(this,void 0,void 0,(function*(){try{this.loaded=!1,this.quizDataLoaded||(yield this.fetchData(),this.quizDataLoaded=!0),yield this.startOrContinueAttempt()}finally{this.loaded=!0}}))}startOrContinueAttempt(){return Object(c.a)(this,void 0,void 0,(function*(){try{let t=this.newAttempt?void 0:this.lastAttempt;t=yield y.a.getAndCheckPreflightData(this.quiz,this.quizAccessInfo,this.preflightData,t,this.offline,!1,\"addon.mod_quiz.startattempt\"),this.attemptAccessInfo=yield b.a.getAttemptAccessInformation(this.quiz.id,t.id,{cmId:this.quiz.coursemodule,readingStrategy:this.offline?1:2}),this.attempt=t,yield this.loadNavigation(),this.attempt.state==b.b.ATTEMPT_OVERDUE||this.attempt.finishedOffline?yield this.loadSummary():(yield this.loadPage(this.attempt.currentpage),this.initTimer())}catch(t){h.a.showErrorModalDefault(t,\"addon.mod_quiz.errorgetquestions\",!0)}}))}timeUp(){this.timeUpCalled||(this.timeUpCalled=!0,this.finishAttempt(!1,!0))}}return AddonModQuizPlayerPage.ɵfac=function AddonModQuizPlayerPage_Factory(t){return new(t||AddonModQuizPlayerPage)(w.yc(w.j),w.yc(w.r))},AddonModQuizPlayerPage.ɵcmp=w.sc({type:AddonModQuizPlayerPage,selectors:[[\"page-addon-mod-quiz-player\"]],viewQuery:function AddonModQuizPlayerPage_Query(t,e){var o;(1&t&&(w.ud(s.v,!0),w.ud(L,!0),w.ud(d.a,!0)),2&t)&&(w.dd(o=w.Nc())&&(e.content=o.first),w.dd(o=w.Nc())&&(e.formElement=o.first),w.dd(o=w.Nc())&&(e.questionComponents=o))},decls:22,vars:17,consts:[[\"slot\",\"start\"],[3,\"text\"],[\"contextLevel\",\"module\",3,\"text\",\"contextInstanceId\",\"courseId\",4,\"ngIf\"],[\"slot\",\"end\"],[\"fill\",\"clear\",\"id\",\"addon-mod_quiz-connection-error-button\",\"aria-haspopup\",\"dialog\",3,\"hidden\",\"click\"],[\"name\",\"fas-exclamation-circle\",\"slot\",\"icon-only\",\"aria-hidden\",\"true\"],[3,\"click\",4,\"ngIf\"],[\"color\",\"light\",4,\"ngIf\"],[1,\"limited-width\"],[1,\"has-spacer\",3,\"hideUntil\"],[\"expand\",\"block\",\"class\",\"ion-margin\",3,\"click\",4,\"ngIf\"],[\"name\",\"addon-mod_quiz-player-form\",4,\"ngIf\"],[\"class\",\"spacer-top\",4,\"ngIf\"],[\"class\",\"addon-mod_quiz-table\",4,\"ngIf\"],[4,\"ngIf\"],[\"collapsible-footer\",\"\",\"appearOnBottom\",\"\",\"slot\",\"fixed\",\"class\",\"list-item-limited-width\",4,\"ngIf\"],[\"contextLevel\",\"module\",3,\"text\",\"contextInstanceId\",\"courseId\"],[3,\"click\"],[\"name\",\"fas-bookmark\",\"slot\",\"icon-only\",\"aria-hidden\",\"true\"],[\"color\",\"light\"],[3,\"endTime\",\"timerText\",\"align\",\"finished\"],[\"expand\",\"block\",1,\"ion-margin\",3,\"click\"],[\"name\",\"addon-mod_quiz-player-form\"],[\"quizForm\",\"\"],[4,\"ngFor\",\"ngForOf\"],[3,\"id\"],[\"class\",\"inline\",4,\"ngIf\"],[\"slot\",\"end\",\"class\",\"ion-text-wrap ion-margin-horizontal addon-mod_quiz-question-note\",4,\"ngIf\"],[\"contextLevel\",\"module\",1,\"ion-text-wrap\",3,\"question\",\"component\",\"componentId\",\"attemptId\",\"usageId\",\"offlineEnabled\",\"contextInstanceId\",\"courseId\",\"preferredBehaviour\",\"review\",\"onAbort\",\"buttonClicked\"],[1,\"inline\"],[\"slot\",\"end\",1,\"ion-text-wrap\",\"ion-margin-horizontal\",\"addon-mod_quiz-question-note\"],[\"class\",\"block\",4,\"ngIf\"],[1,\"block\"],[1,\"spacer-top\"],[\"expand\",\"block\",\"fill\",\"outline\",1,\"ion-text-wrap\",3,\"click\"],[\"name\",\"fas-chevron-left\",\"slot\",\"start\",\"aria-hidden\",\"true\"],[\"expand\",\"block\",\"class\",\"ion-text-wrap\",3,\"click\",4,\"ngIf\"],[\"expand\",\"block\",1,\"ion-text-wrap\",3,\"click\"],[\"name\",\"fas-chevron-right\",\"slot\",\"end\",\"aria-hidden\",\"true\"],[1,\"addon-mod_quiz-table\"],[1,\"ion-text-wrap\"],[1,\"ion-align-items-center\"],[\"size\",\"3\",1,\"ion-text-center\",\"ion-hide-md-down\"],[\"size\",\"3\",1,\"ion-text-center\",\"ion-hide-md-up\"],[\"size\",\"9\",1,\"ion-text-center\"],[\"class\",\"ion-text-wrap\",4,\"ngIf\"],[3,\"endTime\",\"timerText\",\"finished\",4,\"ngIf\"],[3,\"detail\",\"button\",\"click\",4,\"ngIf\"],[3,\"detail\",\"button\",\"click\"],[\"size\",\"3\",1,\"ion-text-center\"],[\"size\",\"9\",1,\"ion-text-center\",\"ion-text-wrap\"],[3,\"endTime\",\"timerText\",\"finished\"],[1,\"item-heading\"],[\"expand\",\"block\",\"class\",\"ion-margin ion-text-wrap\",\"fill\",\"outline\",3,\"click\",4,\"ngIf\"],[\"expand\",\"block\",\"fill\",\"outline\",1,\"ion-margin\",\"ion-text-wrap\",3,\"click\"],[\"collapsible-footer\",\"\",\"appearOnBottom\",\"\",\"slot\",\"fixed\",1,\"list-item-limited-width\"],[\"expand\",\"block\",\"class\",\"ion-margin ion-text-wrap\",\"core-link\",\"\",3,\"href\",\"showBrowserWarning\",4,\"ngIf\"],[\"expand\",\"block\",\"class\",\"ion-margin ion-text-wrap\",3,\"click\",4,\"ngIf\"],[\"expand\",\"block\",\"core-link\",\"\",1,\"ion-margin\",\"ion-text-wrap\",3,\"href\",\"showBrowserWarning\"],[\"name\",\"fas-external-link-alt\",\"slot\",\"end\",\"aria-hidden\",\"true\"],[\"expand\",\"block\",1,\"ion-margin\",\"ion-text-wrap\",3,\"click\"]],template:function AddonModQuizPlayerPage_Template(t,e){1&t&&(w.Ec(0,\"ion-header\"),w.Ec(1,\"ion-toolbar\"),w.Ec(2,\"ion-buttons\",0),w.zc(3,\"ion-back-button\",1),w.Pc(4,\"translate\"),w.Dc(),w.Ec(5,\"ion-title\"),w.Ec(6,\"h1\"),w.nd(7,AddonModQuizPlayerPage_core_format_text_7_Template,1,3,\"core-format-text\",2),w.Dc(),w.Dc(),w.Ec(8,\"ion-buttons\",3),w.Ec(9,\"ion-button\",4),w.Mc(\"click\",(function AddonModQuizPlayerPage_Template_ion_button_click_9_listener(t){return e.showConnectionError(t)})),w.Pc(10,\"translate\"),w.zc(11,\"ion-icon\",5),w.Dc(),w.nd(12,AddonModQuizPlayerPage_ion_button_12_Template,3,3,\"ion-button\",6),w.Dc(),w.Dc(),w.nd(13,AddonModQuizPlayerPage_ion_toolbar_13_Template,4,5,\"ion-toolbar\",7),w.Dc(),w.Ec(14,\"ion-content\",8),w.Ec(15,\"core-loading\",9),w.nd(16,AddonModQuizPlayerPage_ion_button_16_Template,3,3,\"ion-button\",10),w.nd(17,AddonModQuizPlayerPage_form_17_Template,3,1,\"form\",11),w.nd(18,AddonModQuizPlayerPage_ion_row_18_Template,3,2,\"ion-row\",12),w.nd(19,AddonModQuizPlayerPage_ion_card_19_Template,23,13,\"ion-card\",13),w.nd(20,AddonModQuizPlayerPage_ion_card_20_Template,6,4,\"ion-card\",14),w.nd(21,AddonModQuizPlayerPage_div_21_Template,3,2,\"div\",15),w.Dc(),w.Dc()),2&t&&(w.lc(3),w.Vc(\"text\",w.Qc(4,13,\"core.back\")),w.lc(4),w.Vc(\"ngIf\",e.quiz),w.lc(2),w.Vc(\"hidden\",!e.autoSaveError),w.mc(\"aria-label\",w.Qc(10,15,\"addon.mod_quiz.connectionerror\")),w.lc(3),w.Vc(\"ngIf\",e.navigation.length),w.lc(1),w.Vc(\"ngIf\",e.loaded&&e.endTime&&e.questions.length&&!e.quizAborted&&!e.showSummary),w.lc(2),w.Vc(\"hideUntil\",e.loaded),w.lc(1),w.Vc(\"ngIf\",!e.attempt),w.lc(1),w.Vc(\"ngIf\",e.questions.length&&!e.quizAborted&&!e.showSummary),w.lc(1),w.Vc(\"ngIf\",e.questions.length&&!e.quizAborted&&!e.showSummary),w.lc(1),w.Vc(\"ngIf\",!e.quizAborted&&e.showSummary&&e.summaryQuestions.length),w.lc(1),w.Vc(\"ngIf\",e.attempt&&(!e.questions.length&&!e.showSummary||e.quizAborted)),w.lc(1),w.Vc(\"ngIf\",!e.quizAborted&&e.showSummary&&e.summaryQuestions.length&&e.loaded))},directives:[s.C,s.Ab,s.m,s.h,s.i,s.yb,E.t,Q.a,s.l,s.D,I.a,S.a,s.v,k.a,D.a,x.a,V.H,V.s,V.t,E.s,s.n,s.J,s.O,d.a,s.hb,s.u,s.p,s.r,s.I,N.a,F.a],pipes:[R.d],styles:[\"[_nghost-%COMP%]   .addon-mod_quiz-question-note[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:2px;margin-bottom:2px}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{border-bottom:1px solid var(--stroke)}[_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-0[_ngcontent-%COMP%]{background-color:#ca3120!important}[_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-0[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-0[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], [_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-0[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--white)}[_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-1[_ngcontent-%COMP%]{background-color:rgba(202,49,32,.9333333333)!important}[_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-1[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-1[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], [_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--white)}[_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-2[_ngcontent-%COMP%]{background-color:rgba(202,49,32,.8666666667)!important}[_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-2[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-2[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], [_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--white)}[_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-3[_ngcontent-%COMP%]{background-color:rgba(202,49,32,.8)!important}[_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-3[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-3[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], [_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-3[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--white)}[_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-4[_ngcontent-%COMP%]{background-color:rgba(202,49,32,.7333333333)!important}[_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-4[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-4[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], [_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--white)}[_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-5[_ngcontent-%COMP%]{background-color:rgba(202,49,32,.6666666667)!important}[_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-5[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-5[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], [_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-5[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--white)}[_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-6[_ngcontent-%COMP%]{background-color:rgba(202,49,32,.6)!important}[_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-6[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-6[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], [_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-6[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--white)}[_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-7[_ngcontent-%COMP%]{background-color:rgba(202,49,32,.5333333333)!important}[_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-7[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-7[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], [_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-7[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--white)}[_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-8[_ngcontent-%COMP%]{background-color:rgba(202,49,32,.4666666667)!important}[_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-9[_ngcontent-%COMP%]{background-color:rgba(202,49,32,.4)!important}[_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-10[_ngcontent-%COMP%]{background-color:rgba(202,49,32,.3333333333)!important}[_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-11[_ngcontent-%COMP%]{background-color:rgba(202,49,32,.2666666667)!important}[_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-12[_ngcontent-%COMP%]{background-color:rgba(202,49,32,.2)!important}[_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-13[_ngcontent-%COMP%]{background-color:rgba(202,49,32,.1333333333)!important}[_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-14[_ngcontent-%COMP%]{background-color:rgba(202,49,32,.0666666667)!important}[_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-15[_ngcontent-%COMP%]{background-color:rgba(202,49,32,0)!important}\"]}),AddonModQuizPlayerPage})();const U=[{path:\"\",component:j,canDeactivate:[a.a]}];let B=(()=>{class AddonModQuizPlayerPageModule{}return AddonModQuizPlayerPageModule.ɵmod=w.wc({type:AddonModQuizPlayerPageModule}),AddonModQuizPlayerPageModule.ɵinj=w.vc({factory:function AddonModQuizPlayerPageModule_Factory(t){return new(t||AddonModQuizPlayerPageModule)},imports:[[n.m.forChild(U),i.a,r.a],n.m]}),AddonModQuizPlayerPageModule})();void((\"undefined\"==typeof ngJitMode||ngJitMode)&&w.kd(B,{declarations:[j],imports:[n.m,i.a,r.a],exports:[n.m]}))}}]);","name":"74.57f110924d14211f9faa.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[74],{\n\n/***/ \"omKK\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"AddonModQuizPlayerPageModule\", function() { return /* binding */ player_module_AddonModQuizPlayerPageModule; });\n\n// EXTERNAL MODULE: ./src/core/shared.module.ts + 3 modules\nvar shared_module = __webpack_require__(\"L3Fv\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/router/__ivy_ngcc__/fesm2015/router.js + 10 modules\nvar router = __webpack_require__(\"tyNb\");\n\n// EXTERNAL MODULE: ./src/core/features/question/components/components.module.ts\nvar components_module = __webpack_require__(\"uNPo\");\n\n// EXTERNAL MODULE: ./src/core/guards/can-leave.ts\nvar can_leave = __webpack_require__(\"MLi9\");\n\n// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.js\nvar tslib_es6 = __webpack_require__(\"mrSG\");\n\n// EXTERNAL MODULE: ./node_modules/@ionic/angular/__ivy_ngcc__/fesm2015/ionic-angular.js + 5 modules\nvar ionic_angular = __webpack_require__(\"TEn/\");\n\n// EXTERNAL MODULE: ./src/core/features/question/components/question/question.ts\nvar question_question = __webpack_require__(\"Zl5n\");\n\n// EXTERNAL MODULE: ./src/core/features/question/services/question-helper.ts\nvar question_helper = __webpack_require__(\"qRov\");\n\n// EXTERNAL MODULE: ./src/core/services/navigator.ts\nvar services_navigator = __webpack_require__(\"pHTc\");\n\n// EXTERNAL MODULE: ./src/core/services/sites.ts\nvar sites = __webpack_require__(\"9+EE\");\n\n// EXTERNAL MODULE: ./src/core/services/sync.ts\nvar sync = __webpack_require__(\"uT8i\");\n\n// EXTERNAL MODULE: ./src/core/services/utils/dom.ts + 2 modules\nvar dom = __webpack_require__(\"3LXp\");\n\n// EXTERNAL MODULE: ./src/core/services/utils/utils.ts\nvar utils = __webpack_require__(\"bFG1\");\n\n// EXTERNAL MODULE: ./src/core/singletons/index.ts\nvar singletons = __webpack_require__(\"j3ag\");\n\n// EXTERNAL MODULE: ./src/core/singletons/events.ts\nvar events = __webpack_require__(\"fjkH\");\n\n// EXTERNAL MODULE: ./node_modules/rxjs/_esm2015/internal/BehaviorSubject.js\nvar BehaviorSubject = __webpack_require__(\"2Vo4\");\n\n// EXTERNAL MODULE: ./src/core/singletons/logger.ts\nvar logger = __webpack_require__(\"3j9v\");\n\n// EXTERNAL MODULE: ./src/addons/mod/quiz/components/connection-error/connection-error.ts\nvar connection_error = __webpack_require__(\"+/ys\");\n\n// EXTERNAL MODULE: ./src/addons/mod/quiz/services/quiz.ts\nvar services_quiz = __webpack_require__(\"Ohwm\");\n\n// CONCATENATED MODULE: ./src/addons/mod/quiz/classes/auto-save.ts\n// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n\n\n\n/**\n * Class to support auto-save in quiz. Every certain seconds, it will check if there are changes in the current page answers\n * and, if so, it will save them automatically.\n */\nclass auto_save_AddonModQuizAutoSave {\n    /**\n     * Constructor.\n     *\n     * @param formName Name of the form where the answers are stored.\n     * @param buttonSelector Selector to find the button to show the connection error.\n     */\n    constructor(formName, buttonSelector) {\n        this.formName = formName;\n        this.buttonSelector = buttonSelector;\n        this.CHECK_CHANGES_INTERVAL = 5000;\n        this.popoverShown = false; // Whether the popover is shown.\n        this.logger = logger[\"a\" /* CoreLogger */].getInstance('AddonModQuizAutoSave');\n        // Create the observable to notify if an error happened.\n        this.errorObservable = new BehaviorSubject[\"a\" /* BehaviorSubject */](false);\n    }\n    /**\n     * Cancel a pending auto save.\n     */\n    cancelAutoSave() {\n        clearTimeout(this.autoSaveTimeout);\n        this.autoSaveTimeout = undefined;\n    }\n    /**\n     * Check if the answers have changed in a page.\n     *\n     * @param quiz Quiz.\n     * @param attempt Attempt.\n     * @param preflightData Preflight data.\n     * @param offline Whether the quiz is being attempted in offline mode.\n     */\n    checkChanges(quiz, attempt, preflightData, offline) {\n        if (this.autoSaveTimeout) {\n            // We already have an auto save pending, no need to check changes.\n            return;\n        }\n        const answers = this.getAnswers();\n        if (!this.previousAnswers) {\n            // Previous answers isn't set, set it now.\n            this.previousAnswers = answers;\n            return;\n        }\n        // Check if answers have changed.\n        let equal = true;\n        for (const name in answers) {\n            if (this.previousAnswers[name] != answers[name]) {\n                equal = false;\n                break;\n            }\n        }\n        if (!equal) {\n            this.setAutoSaveTimer(quiz, attempt, preflightData, offline);\n        }\n        this.previousAnswers = answers;\n    }\n    /**\n     * Get answers from a form.\n     *\n     * @return Answers.\n     */\n    getAnswers() {\n        return question_helper[\"a\" /* CoreQuestionHelper */].getAnswersFromForm(document.forms[this.formName]);\n    }\n    /**\n     * Hide the auto save error.\n     */\n    hideAutoSaveError() {\n        var _a;\n        this.errorObservable.next(false);\n        (_a = this.popover) === null || _a === void 0 ? void 0 : _a.dismiss();\n    }\n    /**\n     * Returns an observable that will notify when an error happens or stops.\n     * It will send true when there's an error, and false when the error has been ammended.\n     *\n     * @return Observable.\n     */\n    onError() {\n        return this.errorObservable;\n    }\n    /**\n     * Schedule an auto save process if it's not scheduled already.\n     *\n     * @param quiz Quiz.\n     * @param attempt Attempt.\n     * @param preflightData Preflight data.\n     * @param offline Whether the quiz is being attempted in offline mode.\n     */\n    setAutoSaveTimer(quiz, attempt, preflightData, offline) {\n        // Don't schedule if already shceduled or quiz is almost closed.\n        if (!quiz.autosaveperiod || this.autoSaveTimeout || services_quiz[\"a\" /* AddonModQuiz */].isAttemptTimeNearlyOver(quiz, attempt)) {\n            return;\n        }\n        // Schedule save.\n        this.autoSaveTimeout = window.setTimeout(() => Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n            const answers = this.getAnswers();\n            this.cancelAutoSave();\n            this.previousAnswers = answers; // Update previous answers to match what we're sending to the server.\n            try {\n                yield services_quiz[\"a\" /* AddonModQuiz */].saveAttempt(quiz, attempt, answers, preflightData, offline);\n                // Save successful, we can hide the connection error if it was shown.\n                this.hideAutoSaveError();\n            }\n            catch (error) {\n                // Error auto-saving. Show error and set timer again.\n                this.logger.warn('Error auto-saving data.', error);\n                // If there was no error already, show the error message.\n                if (!this.errorObservable.getValue()) {\n                    this.errorObservable.next(true);\n                    this.showAutoSaveError();\n                }\n                // Try again.\n                this.setAutoSaveTimer(quiz, attempt, preflightData, offline);\n            }\n        }), quiz.autosaveperiod * 1000);\n    }\n    /**\n     * Show an error popover due to an auto save error.\n     */\n    showAutoSaveError(ev) {\n        return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n            // Don't show popover if it was already shown.\n            if (this.popoverShown) {\n                return;\n            }\n            const event = ev || {\n                // Cannot use new Event() because event's target property is readonly\n                target: document.querySelector(this.buttonSelector),\n                stopPropagation: () => { },\n                preventDefault: () => { },\n            };\n            this.popoverShown = true;\n            this.popover = yield dom[\"a\" /* CoreDomUtils */].openPopover({\n                component: connection_error[\"a\" /* AddonModQuizConnectionErrorComponent */],\n                event: event,\n            });\n            this.popoverShown = false;\n        });\n    }\n    /**\n     * Start a process to periodically check changes in answers.\n     *\n     * @param quiz Quiz.\n     * @param attempt Attempt.\n     * @param preflightData Preflight data.\n     * @param offline Whether the quiz is being attempted in offline mode.\n     */\n    startCheckChangesProcess(quiz, attempt, preflightData, offline) {\n        if (this.checkChangesInterval || !quiz.autosaveperiod) {\n            // We already have the interval in place or the quiz has autosave disabled.\n            return;\n        }\n        this.previousAnswers = undefined;\n        // Load initial answers in 2.5 seconds so the first check interval finds them already loaded.\n        this.loadPreviousAnswersTimeout = window.setTimeout(() => {\n            this.checkChanges(quiz, attempt, preflightData, offline);\n        }, 2500);\n        // Check changes every certain time.\n        this.checkChangesInterval = window.setInterval(() => {\n            this.checkChanges(quiz, attempt, preflightData, offline);\n        }, this.CHECK_CHANGES_INTERVAL);\n    }\n    /**\n     * Stops the periodical check for changes.\n     */\n    stopCheckChangesProcess() {\n        clearTimeout(this.loadPreviousAnswersTimeout);\n        clearInterval(this.checkChangesInterval);\n        this.loadPreviousAnswersTimeout = undefined;\n        this.checkChangesInterval = undefined;\n    }\n}\n\n// EXTERNAL MODULE: ./src/addons/mod/quiz/components/navigation-modal/navigation-modal.ts\nvar navigation_modal = __webpack_require__(\"6GiP\");\n\n// EXTERNAL MODULE: ./src/addons/mod/quiz/services/quiz-helper.ts\nvar quiz_helper = __webpack_require__(\"+8pu\");\n\n// EXTERNAL MODULE: ./src/addons/mod/quiz/services/quiz-sync.ts\nvar quiz_sync = __webpack_require__(\"hh6U\");\n\n// EXTERNAL MODULE: ./src/core/singletons/form.ts\nvar singletons_form = __webpack_require__(\"4reR\");\n\n// EXTERNAL MODULE: ./src/core/singletons/dom.ts + 1 modules\nvar singletons_dom = __webpack_require__(\"6s78\");\n\n// EXTERNAL MODULE: ./src/core/singletons/time.ts\nvar time = __webpack_require__(\"8vmT\");\n\n// EXTERNAL MODULE: ./src/core/singletons/components-registry.ts\nvar components_registry = __webpack_require__(\"DDKy\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js\nvar core = __webpack_require__(\"fXoL\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/common/__ivy_ngcc__/fesm2015/common.js\nvar common = __webpack_require__(\"ofXK\");\n\n// EXTERNAL MODULE: ./src/core/directives/update-non-reactive-attributes.ts\nvar update_non_reactive_attributes = __webpack_require__(\"ACYt\");\n\n// EXTERNAL MODULE: ./src/core/directives/fa-icon.ts\nvar fa_icon = __webpack_require__(\"3CSS\");\n\n// EXTERNAL MODULE: ./src/core/directives/content.ts\nvar content = __webpack_require__(\"nt/U\");\n\n// EXTERNAL MODULE: ./src/core/components/loading/loading.ts\nvar loading = __webpack_require__(\"PgjG\");\n\n// EXTERNAL MODULE: ./src/core/directives/format-text.ts\nvar format_text = __webpack_require__(\"hMzs\");\n\n// EXTERNAL MODULE: ./src/core/components/timer/timer.ts\nvar timer = __webpack_require__(\"rztj\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/forms/__ivy_ngcc__/fesm2015/forms.js\nvar fesm2015_forms = __webpack_require__(\"3Pt+\");\n\n// EXTERNAL MODULE: ./src/core/directives/collapsible-footer.ts\nvar collapsible_footer = __webpack_require__(\"3jOR\");\n\n// EXTERNAL MODULE: ./src/core/directives/link.ts\nvar directives_link = __webpack_require__(\"iSJP\");\n\n// EXTERNAL MODULE: ./node_modules/@ngx-translate/core/__ivy_ngcc__/fesm2015/ngx-translate-core.js + 8 modules\nvar ngx_translate_core = __webpack_require__(\"sYmb\");\n\n// CONCATENATED MODULE: ./src/addons/mod/quiz/pages/player/player.page.ts\n\n// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst _c0 = [\"quizForm\"];\nfunction AddonModQuizPlayerPage_core_format_text_7_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"zc\" /* ɵɵelement */](0, \"core-format-text\", 16);\n    }\n    if (rf & 2) {\n        const ctx_r0 = core[\"Oc\" /* ɵɵnextContext */]();\n        core[\"Vc\" /* ɵɵproperty */](\"text\", ctx_r0.quiz.name)(\"contextInstanceId\", ctx_r0.quiz.coursemodule)(\"courseId\", ctx_r0.courseId);\n    }\n}\nfunction AddonModQuizPlayerPage_ion_button_12_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r10 = core[\"Fc\" /* ɵɵgetCurrentView */]();\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-button\", 17);\n        core[\"Mc\" /* ɵɵlistener */](\"click\", function AddonModQuizPlayerPage_ion_button_12_Template_ion_button_click_0_listener() { core[\"fd\" /* ɵɵrestoreView */](_r10); const ctx_r9 = core[\"Oc\" /* ɵɵnextContext */](); return ctx_r9.openNavigation(); });\n        core[\"Pc\" /* ɵɵpipe */](1, \"translate\");\n        core[\"zc\" /* ɵɵelement */](2, \"ion-icon\", 18);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        core[\"mc\" /* ɵɵattribute */](\"aria-label\", core[\"Qc\" /* ɵɵpipeBind1 */](1, 1, \"addon.mod_quiz.opentoc\"));\n    }\n}\nfunction AddonModQuizPlayerPage_ion_toolbar_13_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r12 = core[\"Fc\" /* ɵɵgetCurrentView */]();\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-toolbar\", 19);\n        core[\"Ec\" /* ɵɵelementStart */](1, \"ion-title\");\n        core[\"Ec\" /* ɵɵelementStart */](2, \"core-timer\", 20);\n        core[\"Mc\" /* ɵɵlistener */](\"finished\", function AddonModQuizPlayerPage_ion_toolbar_13_Template_core_timer_finished_2_listener() { core[\"fd\" /* ɵɵrestoreView */](_r12); const ctx_r11 = core[\"Oc\" /* ɵɵnextContext */](); return ctx_r11.timeUp(); });\n        core[\"Pc\" /* ɵɵpipe */](3, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r2 = core[\"Oc\" /* ɵɵnextContext */]();\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"endTime\", ctx_r2.endTime)(\"timerText\", core[\"Qc\" /* ɵɵpipeBind1 */](3, 3, \"addon.mod_quiz.timeleft\"))(\"align\", \"center\");\n    }\n}\nfunction AddonModQuizPlayerPage_ion_button_16_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r14 = core[\"Fc\" /* ɵɵgetCurrentView */]();\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-button\", 21);\n        core[\"Mc\" /* ɵɵlistener */](\"click\", function AddonModQuizPlayerPage_ion_button_16_Template_ion_button_click_0_listener() { core[\"fd\" /* ɵɵrestoreView */](_r14); const ctx_r13 = core[\"Oc\" /* ɵɵnextContext */](); return ctx_r13.start(); });\n        core[\"pd\" /* ɵɵtext */](1);\n        core[\"Pc\" /* ɵɵpipe */](2, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"rd\" /* ɵɵtextInterpolate1 */](\" \", core[\"Qc\" /* ɵɵpipeBind1 */](2, 1, \"addon.mod_quiz.startattempt\"), \" \");\n    }\n}\nconst _c1 = function (a0) { return { $a: a0 }; };\nfunction AddonModQuizPlayerPage_form_17_div_2_h2_4_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"h2\", 29);\n        core[\"pd\" /* ɵɵtext */](1);\n        core[\"Pc\" /* ɵɵpipe */](2, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const question_r17 = core[\"Oc\" /* ɵɵnextContext */]().$implicit;\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"rd\" /* ɵɵtextInterpolate1 */](\" \", core[\"Rc\" /* ɵɵpipeBind2 */](2, 1, \"core.question.questionno\", core[\"ad\" /* ɵɵpureFunction1 */](4, _c1, question_r17.number)), \" \");\n    }\n}\nfunction AddonModQuizPlayerPage_form_17_div_2_h2_5_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"h2\", 29);\n        core[\"pd\" /* ɵɵtext */](1);\n        core[\"Pc\" /* ɵɵpipe */](2, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](2, 1, \"core.question.information\"));\n    }\n}\nfunction AddonModQuizPlayerPage_form_17_div_2_div_6_p_1_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"p\", 32);\n        core[\"pd\" /* ɵɵtext */](1);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const question_r17 = core[\"Oc\" /* ɵɵnextContext */](2).$implicit;\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"qd\" /* ɵɵtextInterpolate */](question_r17.status);\n    }\n}\nfunction AddonModQuizPlayerPage_form_17_div_2_div_6_p_2_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"p\");\n        core[\"pd\" /* ɵɵtext */](1);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const question_r17 = core[\"Oc\" /* ɵɵnextContext */](2).$implicit;\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"qd\" /* ɵɵtextInterpolate */](question_r17.readableMark);\n    }\n}\nfunction AddonModQuizPlayerPage_form_17_div_2_div_6_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"div\", 30);\n        core[\"nd\" /* ɵɵtemplate */](1, AddonModQuizPlayerPage_form_17_div_2_div_6_p_1_Template, 2, 1, \"p\", 31);\n        core[\"nd\" /* ɵɵtemplate */](2, AddonModQuizPlayerPage_form_17_div_2_div_6_p_2_Template, 2, 1, \"p\", 14);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const question_r17 = core[\"Oc\" /* ɵɵnextContext */]().$implicit;\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", question_r17.status);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", question_r17.readableMark);\n    }\n}\nfunction AddonModQuizPlayerPage_form_17_div_2_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r28 = core[\"Fc\" /* ɵɵgetCurrentView */]();\n        core[\"Ec\" /* ɵɵelementStart */](0, \"div\");\n        core[\"Ec\" /* ɵɵelementStart */](1, \"ion-card\", 25);\n        core[\"Ec\" /* ɵɵelementStart */](2, \"ion-item-divider\");\n        core[\"Ec\" /* ɵɵelementStart */](3, \"ion-label\");\n        core[\"nd\" /* ɵɵtemplate */](4, AddonModQuizPlayerPage_form_17_div_2_h2_4_Template, 3, 6, \"h2\", 26);\n        core[\"nd\" /* ɵɵtemplate */](5, AddonModQuizPlayerPage_form_17_div_2_h2_5_Template, 3, 3, \"h2\", 26);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"nd\" /* ɵɵtemplate */](6, AddonModQuizPlayerPage_form_17_div_2_div_6_Template, 3, 2, \"div\", 27);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Ec\" /* ɵɵelementStart */](7, \"core-question\", 28);\n        core[\"Mc\" /* ɵɵlistener */](\"onAbort\", function AddonModQuizPlayerPage_form_17_div_2_Template_core_question_onAbort_7_listener() { core[\"fd\" /* ɵɵrestoreView */](_r28); const ctx_r27 = core[\"Oc\" /* ɵɵnextContext */](2); return ctx_r27.abortQuiz(); })(\"buttonClicked\", function AddonModQuizPlayerPage_form_17_div_2_Template_core_question_buttonClicked_7_listener($event) { core[\"fd\" /* ɵɵrestoreView */](_r28); const ctx_r29 = core[\"Oc\" /* ɵɵnextContext */](2); return ctx_r29.behaviourButtonClicked($event); });\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const question_r17 = ctx.$implicit;\n        const ctx_r16 = core[\"Oc\" /* ɵɵnextContext */](2);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Xc\" /* ɵɵpropertyInterpolate1 */](\"id\", \"addon-mod_quiz-question-\", question_r17.slot, \"\");\n        core[\"lc\" /* ɵɵadvance */](3);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", question_r17.number);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", !question_r17.number);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", question_r17.status || question_r17.readableMark);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"question\", question_r17)(\"component\", ctx_r16.component)(\"componentId\", ctx_r16.cmId)(\"attemptId\", ctx_r16.attempt.id)(\"usageId\", ctx_r16.attempt.uniqueid)(\"offlineEnabled\", ctx_r16.offline)(\"contextInstanceId\", ctx_r16.cmId)(\"courseId\", ctx_r16.courseId)(\"preferredBehaviour\", ctx_r16.quiz.preferredbehaviour)(\"review\", false);\n    }\n}\nfunction AddonModQuizPlayerPage_form_17_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"form\", 22, 23);\n        core[\"nd\" /* ɵɵtemplate */](2, AddonModQuizPlayerPage_form_17_div_2_Template, 8, 14, \"div\", 24);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r4 = core[\"Oc\" /* ɵɵnextContext */]();\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"ngForOf\", ctx_r4.questions);\n    }\n}\nfunction AddonModQuizPlayerPage_ion_row_18_ion_col_1_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r33 = core[\"Fc\" /* ɵɵgetCurrentView */]();\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-col\");\n        core[\"Ec\" /* ɵɵelementStart */](1, \"ion-button\", 34);\n        core[\"Mc\" /* ɵɵlistener */](\"click\", function AddonModQuizPlayerPage_ion_row_18_ion_col_1_Template_ion_button_click_1_listener() { core[\"fd\" /* ɵɵrestoreView */](_r33); const ctx_r32 = core[\"Oc\" /* ɵɵnextContext */](2); return ctx_r32.changePage(ctx_r32.previousPage); });\n        core[\"zc\" /* ɵɵelement */](2, \"ion-icon\", 35);\n        core[\"pd\" /* ɵɵtext */](3);\n        core[\"Pc\" /* ɵɵpipe */](4, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        core[\"lc\" /* ɵɵadvance */](3);\n        core[\"rd\" /* ɵɵtextInterpolate1 */](\" \", core[\"Qc\" /* ɵɵpipeBind1 */](4, 1, \"core.previous\"), \" \");\n    }\n}\nfunction AddonModQuizPlayerPage_ion_row_18_ion_col_2_ion_button_1_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r37 = core[\"Fc\" /* ɵɵgetCurrentView */]();\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-button\", 37);\n        core[\"Mc\" /* ɵɵlistener */](\"click\", function AddonModQuizPlayerPage_ion_row_18_ion_col_2_ion_button_1_Template_ion_button_click_0_listener() { core[\"fd\" /* ɵɵrestoreView */](_r37); const ctx_r36 = core[\"Oc\" /* ɵɵnextContext */](3); return ctx_r36.changePage(ctx_r36.nextPage); });\n        core[\"pd\" /* ɵɵtext */](1);\n        core[\"Pc\" /* ɵɵpipe */](2, \"translate\");\n        core[\"zc\" /* ɵɵelement */](3, \"ion-icon\", 38);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"rd\" /* ɵɵtextInterpolate1 */](\" \", core[\"Qc\" /* ɵɵpipeBind1 */](2, 1, \"core.next\"), \" \");\n    }\n}\nfunction AddonModQuizPlayerPage_ion_row_18_ion_col_2_ion_button_2_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r39 = core[\"Fc\" /* ɵɵgetCurrentView */]();\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-button\", 37);\n        core[\"Mc\" /* ɵɵlistener */](\"click\", function AddonModQuizPlayerPage_ion_row_18_ion_col_2_ion_button_2_Template_ion_button_click_0_listener() { core[\"fd\" /* ɵɵrestoreView */](_r39); const ctx_r38 = core[\"Oc\" /* ɵɵnextContext */](3); return ctx_r38.changePage(ctx_r38.nextPage); });\n        core[\"pd\" /* ɵɵtext */](1);\n        core[\"Pc\" /* ɵɵpipe */](2, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"rd\" /* ɵɵtextInterpolate1 */](\" \", core[\"Qc\" /* ɵɵpipeBind1 */](2, 1, \"core.submit\"), \" \");\n    }\n}\nfunction AddonModQuizPlayerPage_ion_row_18_ion_col_2_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-col\");\n        core[\"nd\" /* ɵɵtemplate */](1, AddonModQuizPlayerPage_ion_row_18_ion_col_2_ion_button_1_Template, 4, 3, \"ion-button\", 36);\n        core[\"nd\" /* ɵɵtemplate */](2, AddonModQuizPlayerPage_ion_row_18_ion_col_2_ion_button_2_Template, 3, 3, \"ion-button\", 36);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r31 = core[\"Oc\" /* ɵɵnextContext */](2);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx_r31.nextPage > 0);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx_r31.nextPage == 0 - 1);\n    }\n}\nfunction AddonModQuizPlayerPage_ion_row_18_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-row\", 33);\n        core[\"nd\" /* ɵɵtemplate */](1, AddonModQuizPlayerPage_ion_row_18_ion_col_1_Template, 5, 3, \"ion-col\", 14);\n        core[\"nd\" /* ɵɵtemplate */](2, AddonModQuizPlayerPage_ion_row_18_ion_col_2_Template, 3, 2, \"ion-col\", 14);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r5 = core[\"Oc\" /* ɵɵnextContext */]();\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx_r5.previousPage >= 0);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx_r5.nextPage >= 0 - 1);\n    }\n}\nfunction AddonModQuizPlayerPage_ion_card_19_ng_container_19_ion_item_1_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r48 = core[\"Fc\" /* ɵɵgetCurrentView */]();\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-item\", 48);\n        core[\"Mc\" /* ɵɵlistener */](\"click\", function AddonModQuizPlayerPage_ion_card_19_ng_container_19_ion_item_1_Template_ion_item_click_0_listener() { core[\"fd\" /* ɵɵrestoreView */](_r48); const question_r44 = core[\"Oc\" /* ɵɵnextContext */]().$implicit; const ctx_r46 = core[\"Oc\" /* ɵɵnextContext */](2); return ctx_r46.changePage(question_r44.page, false, question_r44.slot); });\n        core[\"Pc\" /* ɵɵpipe */](1, \"translate\");\n        core[\"Ec\" /* ɵɵelementStart */](2, \"ion-label\");\n        core[\"Ec\" /* ɵɵelementStart */](3, \"ion-row\", 41);\n        core[\"Ec\" /* ɵɵelementStart */](4, \"ion-col\", 49);\n        core[\"pd\" /* ɵɵtext */](5);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Ec\" /* ɵɵelementStart */](6, \"ion-col\", 50);\n        core[\"pd\" /* ɵɵtext */](7);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const question_r44 = core[\"Oc\" /* ɵɵnextContext */]().$implicit;\n        const ctx_r45 = core[\"Oc\" /* ɵɵnextContext */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"detail\", !ctx_r45.isSequential && ctx_r45.canReturn)(\"button\", !ctx_r45.isSequential && ctx_r45.canReturn);\n        core[\"mc\" /* ɵɵattribute */](\"aria-label\", core[\"Rc\" /* ɵɵpipeBind2 */](1, 5, \"core.question.questionno\", core[\"ad\" /* ɵɵpureFunction1 */](8, _c1, question_r44.number)));\n        core[\"lc\" /* ɵɵadvance */](5);\n        core[\"qd\" /* ɵɵtextInterpolate */](question_r44.number);\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"qd\" /* ɵɵtextInterpolate */](question_r44.status);\n    }\n}\nfunction AddonModQuizPlayerPage_ion_card_19_ng_container_19_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Cc\" /* ɵɵelementContainerStart */](0);\n        core[\"nd\" /* ɵɵtemplate */](1, AddonModQuizPlayerPage_ion_card_19_ng_container_19_ion_item_1_Template, 8, 10, \"ion-item\", 47);\n        core[\"Bc\" /* ɵɵelementContainerEnd */]();\n    }\n    if (rf & 2) {\n        const question_r44 = ctx.$implicit;\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", question_r44.number);\n    }\n}\nfunction AddonModQuizPlayerPage_ion_card_19_ion_item_20_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-item\", 40);\n        core[\"Ec\" /* ɵɵelementStart */](1, \"ion-label\");\n        core[\"pd\" /* ɵɵtext */](2);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r41 = core[\"Oc\" /* ɵɵnextContext */](2);\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"qd\" /* ɵɵtextInterpolate */](ctx_r41.dueDateWarning);\n    }\n}\nfunction AddonModQuizPlayerPage_ion_card_19_core_timer_21_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r51 = core[\"Fc\" /* ɵɵgetCurrentView */]();\n        core[\"Ec\" /* ɵɵelementStart */](0, \"core-timer\", 51);\n        core[\"Mc\" /* ɵɵlistener */](\"finished\", function AddonModQuizPlayerPage_ion_card_19_core_timer_21_Template_core_timer_finished_0_listener() { core[\"fd\" /* ɵɵrestoreView */](_r51); const ctx_r50 = core[\"Oc\" /* ɵɵnextContext */](2); return ctx_r50.timeUp(); });\n        core[\"Pc\" /* ɵɵpipe */](1, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r42 = core[\"Oc\" /* ɵɵnextContext */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"endTime\", ctx_r42.endTime)(\"timerText\", core[\"Qc\" /* ɵɵpipeBind1 */](1, 2, \"addon.mod_quiz.timeleft\"));\n    }\n}\nfunction AddonModQuizPlayerPage_ion_card_19_ion_item_22_p_5_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"p\");\n        core[\"pd\" /* ɵɵtext */](1);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const message_r53 = ctx.$implicit;\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"qd\" /* ɵɵtextInterpolate */](message_r53);\n    }\n}\nfunction AddonModQuizPlayerPage_ion_card_19_ion_item_22_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-item\", 40);\n        core[\"Ec\" /* ɵɵelementStart */](1, \"ion-label\");\n        core[\"Ec\" /* ɵɵelementStart */](2, \"h3\", 52);\n        core[\"pd\" /* ɵɵtext */](3);\n        core[\"Pc\" /* ɵɵpipe */](4, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"nd\" /* ɵɵtemplate */](5, AddonModQuizPlayerPage_ion_card_19_ion_item_22_p_5_Template, 2, 1, \"p\", 24);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r43 = core[\"Oc\" /* ɵɵnextContext */](2);\n        core[\"lc\" /* ɵɵadvance */](3);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](4, 2, \"addon.mod_quiz.cannotsubmitquizdueto\"));\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"ngForOf\", ctx_r43.preventSubmitMessages);\n    }\n}\nfunction AddonModQuizPlayerPage_ion_card_19_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-card\", 39);\n        core[\"Ec\" /* ɵɵelementStart */](1, \"ion-card-header\", 40);\n        core[\"Ec\" /* ɵɵelementStart */](2, \"ion-card-title\");\n        core[\"pd\" /* ɵɵtext */](3);\n        core[\"Pc\" /* ɵɵpipe */](4, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Ec\" /* ɵɵelementStart */](5, \"ion-item\", 40);\n        core[\"Ec\" /* ɵɵelementStart */](6, \"ion-label\");\n        core[\"Ec\" /* ɵɵelementStart */](7, \"ion-row\", 41);\n        core[\"Ec\" /* ɵɵelementStart */](8, \"ion-col\", 42);\n        core[\"Ec\" /* ɵɵelementStart */](9, \"strong\");\n        core[\"pd\" /* ɵɵtext */](10);\n        core[\"Pc\" /* ɵɵpipe */](11, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Ec\" /* ɵɵelementStart */](12, \"ion-col\", 43);\n        core[\"Ec\" /* ɵɵelementStart */](13, \"strong\");\n        core[\"pd\" /* ɵɵtext */](14, \"#\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Ec\" /* ɵɵelementStart */](15, \"ion-col\", 44);\n        core[\"Ec\" /* ɵɵelementStart */](16, \"strong\");\n        core[\"pd\" /* ɵɵtext */](17);\n        core[\"Pc\" /* ɵɵpipe */](18, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"nd\" /* ɵɵtemplate */](19, AddonModQuizPlayerPage_ion_card_19_ng_container_19_Template, 2, 1, \"ng-container\", 24);\n        core[\"nd\" /* ɵɵtemplate */](20, AddonModQuizPlayerPage_ion_card_19_ion_item_20_Template, 3, 1, \"ion-item\", 45);\n        core[\"nd\" /* ɵɵtemplate */](21, AddonModQuizPlayerPage_ion_card_19_core_timer_21_Template, 2, 4, \"core-timer\", 46);\n        core[\"nd\" /* ɵɵtemplate */](22, AddonModQuizPlayerPage_ion_card_19_ion_item_22_Template, 6, 4, \"ion-item\", 45);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r6 = core[\"Oc\" /* ɵɵnextContext */]();\n        core[\"lc\" /* ɵɵadvance */](3);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](4, 7, \"addon.mod_quiz.summaryofattempt\"));\n        core[\"lc\" /* ɵɵadvance */](7);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](11, 9, \"addon.mod_quiz.question\"));\n        core[\"lc\" /* ɵɵadvance */](7);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](18, 11, \"addon.mod_quiz.status\"));\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"ngForOf\", ctx_r6.summaryQuestions);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx_r6.dueDateWarning);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx_r6.endTime);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx_r6.preventSubmitMessages.length);\n    }\n}\nfunction AddonModQuizPlayerPage_ion_card_20_ion_button_5_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r56 = core[\"Fc\" /* ɵɵgetCurrentView */]();\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-button\", 54);\n        core[\"Mc\" /* ɵɵlistener */](\"click\", function AddonModQuizPlayerPage_ion_card_20_ion_button_5_Template_ion_button_click_0_listener() { core[\"fd\" /* ɵɵrestoreView */](_r56); const ctx_r55 = core[\"Oc\" /* ɵɵnextContext */](2); return ctx_r55.changePage(ctx_r55.attempt.currentpage); });\n        core[\"pd\" /* ɵɵtext */](1);\n        core[\"Pc\" /* ɵɵpipe */](2, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"rd\" /* ɵɵtextInterpolate1 */](\" \", core[\"Qc\" /* ɵɵpipeBind1 */](2, 1, \"addon.mod_quiz.returnattempt\"), \" \");\n    }\n}\nfunction AddonModQuizPlayerPage_ion_card_20_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-card\");\n        core[\"Ec\" /* ɵɵelementStart */](1, \"ion-item\", 40);\n        core[\"Ec\" /* ɵɵelementStart */](2, \"ion-label\");\n        core[\"pd\" /* ɵɵtext */](3);\n        core[\"Pc\" /* ɵɵpipe */](4, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"nd\" /* ɵɵtemplate */](5, AddonModQuizPlayerPage_ion_card_20_ion_button_5_Template, 3, 3, \"ion-button\", 53);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r7 = core[\"Oc\" /* ɵɵnextContext */]();\n        core[\"lc\" /* ɵɵadvance */](3);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](4, 2, \"addon.mod_quiz.errorparsequestions\"));\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx_r7.canReturn);\n    }\n}\nfunction AddonModQuizPlayerPage_div_21_ion_button_1_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-button\", 58);\n        core[\"pd\" /* ɵɵtext */](1);\n        core[\"Pc\" /* ɵɵpipe */](2, \"translate\");\n        core[\"zc\" /* ɵɵelement */](3, \"ion-icon\", 59);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r57 = core[\"Oc\" /* ɵɵnextContext */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"href\", ctx_r57.moduleUrl)(\"showBrowserWarning\", false);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"rd\" /* ɵɵtextInterpolate1 */](\" \", core[\"Qc\" /* ɵɵpipeBind1 */](2, 3, \"core.openinbrowser\"), \" \");\n    }\n}\nfunction AddonModQuizPlayerPage_div_21_ion_button_2_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r60 = core[\"Fc\" /* ɵɵgetCurrentView */]();\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-button\", 60);\n        core[\"Mc\" /* ɵɵlistener */](\"click\", function AddonModQuizPlayerPage_div_21_ion_button_2_Template_ion_button_click_0_listener() { core[\"fd\" /* ɵɵrestoreView */](_r60); const ctx_r59 = core[\"Oc\" /* ɵɵnextContext */](2); return ctx_r59.finishAttempt(true); });\n        core[\"pd\" /* ɵɵtext */](1);\n        core[\"Pc\" /* ɵɵpipe */](2, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"rd\" /* ɵɵtextInterpolate1 */](\" \", core[\"Qc\" /* ɵɵpipeBind1 */](2, 1, \"addon.mod_quiz.submitallandfinish\"), \" \");\n    }\n}\nfunction AddonModQuizPlayerPage_div_21_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"div\", 55);\n        core[\"nd\" /* ɵɵtemplate */](1, AddonModQuizPlayerPage_div_21_ion_button_1_Template, 4, 5, \"ion-button\", 56);\n        core[\"nd\" /* ɵɵtemplate */](2, AddonModQuizPlayerPage_div_21_ion_button_2_Template, 3, 3, \"ion-button\", 57);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r8 = core[\"Oc\" /* ɵɵnextContext */]();\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx_r8.preventSubmitMessages.length);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", !ctx_r8.attempt.finishedOffline && !ctx_r8.preventSubmitMessages.length);\n    }\n}\n/**\n * Page that allows attempting a quiz.\n */\nlet player_page_AddonModQuizPlayerPage = /*@__PURE__*/ (() => {\n    class AddonModQuizPlayerPage {\n        constructor(changeDetector, elementRef) {\n            this.changeDetector = changeDetector;\n            this.elementRef = elementRef;\n            this.component = services_quiz[\"b\" /* AddonModQuizProvider */].COMPONENT; // Component to link the files to.\n            this.loaded = false; // Whether data has been loaded.\n            this.quizAborted = false; // Whether the quiz was aborted due to an error.\n            this.offline = false; // Whether the quiz is being attempted in offline mode.\n            this.navigation = []; // List of questions to navigate them.\n            this.questions = []; // Questions of the current page.\n            this.nextPage = -2; // Next page.\n            this.previousPage = -1; // Previous page.\n            this.showSummary = false; // Whether the attempt summary should be displayed.\n            this.summaryQuestions = []; // The questions to display in the summary.\n            this.canReturn = false; // Whether the user can return to a page after seeing the summary.\n            this.preventSubmitMessages = []; // List of messages explaining why the quiz cannot be submitted.\n            this.autoSaveError = false; // Whether there's been an error in auto-save.\n            this.isSequential = false; // Whether quiz navigation is sequential.\n            this.preflightData = {}; // Preflight data to attempt the quiz.\n            this.newAttempt = false; // Whether the user is starting a new attempt.\n            this.quizDataLoaded = false; // Whether the quiz data has been loaded.\n            this.timeUpCalled = false; // Whether the time up function has been called.\n            this.forceLeave = false; // If true, don't perform any check when leaving the view.\n            this.reloadNavigation = false; // Whether navigation needs to be reloaded because some data was sent to server.\n        }\n        /**\n         * Component being initialized.\n         */\n        ngOnInit() {\n            try {\n                this.cmId = services_navigator[\"a\" /* CoreNavigator */].getRequiredRouteNumberParam('cmId');\n                this.courseId = services_navigator[\"a\" /* CoreNavigator */].getRequiredRouteNumberParam('courseId');\n                this.moduleUrl = services_navigator[\"a\" /* CoreNavigator */].getRouteParam('moduleUrl');\n            }\n            catch (error) {\n                dom[\"a\" /* CoreDomUtils */].showErrorModal(error);\n                services_navigator[\"a\" /* CoreNavigator */].back();\n                return;\n            }\n            // Create the auto save instance.\n            this.autoSave = new auto_save_AddonModQuizAutoSave('addon-mod_quiz-player-form', '#addon-mod_quiz-connection-error-button');\n            // Start the player when the page is loaded.\n            this.start();\n            // Listen for errors on auto-save.\n            this.autoSaveErrorSubscription = this.autoSave.onError().subscribe((error) => {\n                this.autoSaveError = error;\n                this.changeDetector.detectChanges();\n            });\n        }\n        /**\n         * Component being destroyed.\n         */\n        ngOnDestroy() {\n            var _a;\n            // Stop auto save.\n            this.autoSave.cancelAutoSave();\n            this.autoSave.stopCheckChangesProcess();\n            (_a = this.autoSaveErrorSubscription) === null || _a === void 0 ? void 0 : _a.unsubscribe();\n            if (this.quiz) {\n                // Unblock the quiz so it can be synced.\n                sync[\"a\" /* CoreSync */].unblockOperation(services_quiz[\"b\" /* AddonModQuizProvider */].COMPONENT, this.quiz.id);\n            }\n        }\n        /**\n         * Check if we can leave the page or not.\n         *\n         * @return Resolved if we can leave it, rejected if not.\n         */\n        canLeave() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                if (this.forceLeave || this.quizAborted || !this.questions.length || this.showSummary) {\n                    return true;\n                }\n                // Save answers.\n                const modal = yield dom[\"a\" /* CoreDomUtils */].showModalLoading('core.sending', true);\n                try {\n                    yield this.processAttempt(false, false);\n                }\n                catch (error) {\n                    // Save attempt failed. Show confirmation.\n                    modal.dismiss();\n                    yield dom[\"a\" /* CoreDomUtils */].showConfirm(singletons[\"J\" /* Translate */].instant('addon.mod_quiz.confirmleavequizonerror'));\n                    singletons_form[\"a\" /* CoreForms */].triggerFormCancelledEvent(this.formElement, sites[\"b\" /* CoreSites */].getCurrentSiteId());\n                }\n                finally {\n                    modal.dismiss();\n                }\n                return true;\n            });\n        }\n        /**\n         * Runs when the page is about to leave and no longer be the active page.\n         */\n        ionViewWillLeave() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                // Close any modal if present.\n                const modal = yield singletons[\"x\" /* ModalController */].getTop();\n                modal === null || modal === void 0 ? void 0 : modal.dismiss();\n            });\n        }\n        /**\n         * Abort the quiz.\n         */\n        abortQuiz() {\n            this.quizAborted = true;\n        }\n        /**\n         * A behaviour button in a question was clicked (Check, Redo, ...).\n         *\n         * @param button Clicked button.\n         */\n        behaviourButtonClicked(button) {\n            var _a, _b;\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                let modal;\n                try {\n                    // Confirm that the user really wants to do it.\n                    yield dom[\"a\" /* CoreDomUtils */].showConfirm(singletons[\"J\" /* Translate */].instant('core.areyousure'));\n                    modal = yield dom[\"a\" /* CoreDomUtils */].showModalLoading('core.sending', true);\n                    // Get the answers.\n                    const answers = yield this.prepareAnswers();\n                    // Add the clicked button data.\n                    answers[button.name] = button.value;\n                    // Behaviour checks are always in online.\n                    yield services_quiz[\"a\" /* AddonModQuiz */].processAttempt(this.quiz, this.attempt, answers, this.preflightData);\n                    this.reloadNavigation = true; // Data sent to server, navigation should be reloaded.\n                    // Reload the current page.\n                    const scrollElement = yield ((_a = this.content) === null || _a === void 0 ? void 0 : _a.getScrollElement());\n                    const scrollTop = (scrollElement === null || scrollElement === void 0 ? void 0 : scrollElement.scrollTop) || -1;\n                    this.loaded = false;\n                    (_b = this.content) === null || _b === void 0 ? void 0 : _b.scrollToTop(); // Scroll top so the spinner is seen.\n                    try {\n                        yield this.loadPage(this.attempt.currentpage);\n                    }\n                    finally {\n                        this.loaded = true;\n                        if (scrollTop != -1) {\n                            // Wait for content to be rendered.\n                            setTimeout(() => {\n                                var _a;\n                                (_a = this.content) === null || _a === void 0 ? void 0 : _a.scrollToPoint(0, scrollTop);\n                            }, 50);\n                        }\n                    }\n                }\n                catch (error) {\n                    dom[\"a\" /* CoreDomUtils */].showErrorModalDefault(error, 'Error performing action.');\n                }\n                finally {\n                    modal === null || modal === void 0 ? void 0 : modal.dismiss();\n                }\n            });\n        }\n        /**\n         * Change the current page. If slot is supplied, try to scroll to that question.\n         *\n         * @param page Page to load. -1 means summary.\n         * @param fromModal Whether the page was selected using the navigation modal.\n         * @param slot Slot of the question to scroll to.\n         * @return Promise resolved when done.\n         */\n        changePage(page, fromModal, slot) {\n            var _a;\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                if (!this.attempt) {\n                    return;\n                }\n                if (page != -1 && (this.attempt.state == services_quiz[\"b\" /* AddonModQuizProvider */].ATTEMPT_OVERDUE || this.attempt.finishedOffline)) {\n                    // We can't load a page if overdue or the local attempt is finished.\n                    return;\n                }\n                else if (page == this.attempt.currentpage && !this.showSummary && slot !== undefined) {\n                    // Navigating to a question in the current page.\n                    yield this.scrollToQuestion(slot);\n                    return;\n                }\n                else if ((page == this.attempt.currentpage && !this.showSummary) || (fromModal && this.isSequential && page != -1)) {\n                    // If the user is navigating to the current page we do nothing.\n                    // Also, in sequential quizzes we don't allow navigating using the modal except for finishing the quiz (summary).\n                    return;\n                }\n                else if (page === -1 && this.showSummary) {\n                    // Summary already shown.\n                    return;\n                }\n                (_a = this.content) === null || _a === void 0 ? void 0 : _a.scrollToTop();\n                // First try to save the attempt data. We only save it if we're not seeing the summary.\n                if (!this.showSummary) {\n                    const modal = yield dom[\"a\" /* CoreDomUtils */].showModalLoading('core.sending', true);\n                    try {\n                        yield this.processAttempt(false, false);\n                        modal.dismiss();\n                    }\n                    catch (error) {\n                        dom[\"a\" /* CoreDomUtils */].showErrorModalDefault(error, 'addon.mod_quiz.errorsaveattempt', true);\n                        modal.dismiss();\n                        return;\n                    }\n                    this.reloadNavigation = true; // Data sent to server, navigation should be reloaded.\n                }\n                this.loaded = false;\n                try {\n                    // Attempt data successfully saved, load the page or summary.\n                    // Stop checking for changes during page change.\n                    this.autoSave.stopCheckChangesProcess();\n                    if (page === -1) {\n                        yield this.loadSummary();\n                    }\n                    else {\n                        yield this.loadPage(page);\n                    }\n                }\n                catch (error) {\n                    // If the user isn't seeing the summary, start the check again.\n                    if (!this.showSummary) {\n                        this.autoSave.startCheckChangesProcess(this.quiz, this.attempt, this.preflightData, this.offline);\n                    }\n                    dom[\"a\" /* CoreDomUtils */].showErrorModalDefault(error, 'addon.mod_quiz.errorgetquestions', true);\n                }\n                finally {\n                    this.loaded = true;\n                    if (slot !== undefined) {\n                        // Scroll to the question.\n                        yield this.scrollToQuestion(slot);\n                    }\n                }\n            });\n        }\n        /**\n         * Convenience function to get the quiz data.\n         *\n         * @return Promise resolved when done.\n         */\n        fetchData() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                try {\n                    this.quiz = yield services_quiz[\"a\" /* AddonModQuiz */].getQuiz(this.courseId, this.cmId);\n                    // Block the quiz so it cannot be synced.\n                    sync[\"a\" /* CoreSync */].blockOperation(services_quiz[\"b\" /* AddonModQuizProvider */].COMPONENT, this.quiz.id);\n                    // Wait for any ongoing sync to finish. We won't sync a quiz while it's being played.\n                    yield quiz_sync[\"a\" /* AddonModQuizSync */].waitForSync(this.quiz.id);\n                    this.isSequential = services_quiz[\"a\" /* AddonModQuiz */].isNavigationSequential(this.quiz);\n                    if (services_quiz[\"a\" /* AddonModQuiz */].isQuizOffline(this.quiz)) {\n                        // Quiz supports offline.\n                        this.offline = true;\n                    }\n                    else {\n                        // Quiz doesn't support offline right now, but maybe it did and then the setting was changed.\n                        // If we have an unfinished offline attempt then we'll use offline mode.\n                        this.offline = yield services_quiz[\"a\" /* AddonModQuiz */].isLastAttemptOfflineUnfinished(this.quiz);\n                    }\n                    if (this.quiz.timelimit && this.quiz.timelimit > 0) {\n                        this.readableTimeLimit = time[\"a\" /* CoreTime */].formatTime(this.quiz.timelimit);\n                    }\n                    // Get access information for the quiz.\n                    this.quizAccessInfo = yield services_quiz[\"a\" /* AddonModQuiz */].getQuizAccessInformation(this.quiz.id, {\n                        cmId: this.quiz.coursemodule,\n                        readingStrategy: this.offline ? 1 /* PREFER_CACHE */ : 2 /* ONLY_NETWORK */,\n                    });\n                    // Get user attempts to determine last attempt.\n                    const attempts = yield services_quiz[\"a\" /* AddonModQuiz */].getUserAttempts(this.quiz.id, {\n                        cmId: this.quiz.coursemodule,\n                        readingStrategy: this.offline ? 1 /* PREFER_CACHE */ : 2 /* ONLY_NETWORK */,\n                    });\n                    if (!attempts.length) {\n                        // There are no attempts, start a new one.\n                        this.newAttempt = true;\n                        return;\n                    }\n                    // Get the last attempt. If it's finished, start a new one.\n                    this.lastAttempt = yield quiz_helper[\"a\" /* AddonModQuizHelper */].setAttemptCalculatedData(this.quiz, attempts[attempts.length - 1], false, undefined, true);\n                    this.newAttempt = services_quiz[\"a\" /* AddonModQuiz */].isAttemptFinished(this.lastAttempt.state);\n                }\n                catch (error) {\n                    dom[\"a\" /* CoreDomUtils */].showErrorModalDefault(error, 'addon.mod_quiz.errorgetquiz', true);\n                }\n            });\n        }\n        /**\n         * Finish an attempt, either by timeup or because the user clicked to finish it.\n         *\n         * @param userFinish Whether the user clicked to finish the attempt.\n         * @param timeUp Whether the quiz time is up.\n         * @return Promise resolved when done.\n         */\n        finishAttempt(userFinish, timeUp) {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                let modal;\n                try {\n                    // Show confirm if the user clicked the finish button and the quiz is in progress.\n                    if (!timeUp && this.attempt.state == services_quiz[\"b\" /* AddonModQuizProvider */].ATTEMPT_IN_PROGRESS) {\n                        yield dom[\"a\" /* CoreDomUtils */].showConfirm(singletons[\"J\" /* Translate */].instant('addon.mod_quiz.confirmclose'));\n                    }\n                    modal = yield dom[\"a\" /* CoreDomUtils */].showModalLoading('core.sending', true);\n                    yield this.processAttempt(userFinish, timeUp);\n                    // Trigger an event to notify the attempt was finished.\n                    events[\"b\" /* CoreEvents */].trigger(services_quiz[\"b\" /* AddonModQuizProvider */].ATTEMPT_FINISHED_EVENT, {\n                        quizId: this.quiz.id,\n                        attemptId: this.attempt.id,\n                        synced: !this.offline,\n                    }, sites[\"b\" /* CoreSites */].getCurrentSiteId());\n                    events[\"b\" /* CoreEvents */].trigger(events[\"b\" /* CoreEvents */].ACTIVITY_DATA_SENT, { module: 'quiz' });\n                    // Leave the player.\n                    this.forceLeave = true;\n                    services_navigator[\"a\" /* CoreNavigator */].back();\n                }\n                catch (error) {\n                    dom[\"a\" /* CoreDomUtils */].showErrorModalDefault(error, 'addon.mod_quiz.errorsaveattempt', true);\n                }\n                finally {\n                    modal === null || modal === void 0 ? void 0 : modal.dismiss();\n                }\n            });\n        }\n        /**\n         * Fix sequence checks of current page.\n         *\n         * @return Promise resolved when done.\n         */\n        fixSequenceChecks() {\n            var _a;\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                // Get current page data again to get the latest sequencechecks.\n                const data = yield services_quiz[\"a\" /* AddonModQuiz */].getAttemptData(this.attempt.id, this.attempt.currentpage, this.preflightData, {\n                    cmId: this.quiz.coursemodule,\n                    readingStrategy: this.offline ? 1 /* PREFER_CACHE */ : 2 /* ONLY_NETWORK */,\n                });\n                const newSequenceChecks = {};\n                data.questions.forEach((question) => {\n                    const sequenceCheck = question_helper[\"a\" /* CoreQuestionHelper */].getQuestionSequenceCheckFromHtml(question.html);\n                    if (sequenceCheck) {\n                        newSequenceChecks[question.slot] = sequenceCheck;\n                    }\n                });\n                // Notify the new sequence checks to the components.\n                (_a = this.questionComponents) === null || _a === void 0 ? void 0 : _a.forEach((component) => {\n                    component.updateSequenceCheck(newSequenceChecks);\n                });\n            });\n        }\n        /**\n         * Get the input answers.\n         *\n         * @return Object with the answers.\n         */\n        getAnswers() {\n            return question_helper[\"a\" /* CoreQuestionHelper */].getAnswersFromForm(document.forms['addon-mod_quiz-player-form']);\n        }\n        /**\n         * Initializes the timer if enabled.\n         */\n        initTimer() {\n            var _a;\n            if (!((_a = this.attemptAccessInfo) === null || _a === void 0 ? void 0 : _a.endtime) || this.attemptAccessInfo.endtime < 0) {\n                return;\n            }\n            // Quiz has an end time. Check if time left should be shown.\n            const shouldShowTime = services_quiz[\"a\" /* AddonModQuiz */].shouldShowTimeLeft(this.quizAccessInfo.activerulenames, this.attempt, this.attemptAccessInfo.endtime);\n            if (shouldShowTime) {\n                this.endTime = this.attemptAccessInfo.endtime;\n            }\n            else {\n                delete this.endTime;\n            }\n        }\n        /**\n         * Load a page questions.\n         *\n         * @param page The page to load.\n         * @return Promise resolved when done.\n         */\n        loadPage(page) {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                const data = yield services_quiz[\"a\" /* AddonModQuiz */].getAttemptData(this.attempt.id, page, this.preflightData, {\n                    cmId: this.quiz.coursemodule,\n                    readingStrategy: this.offline ? 1 /* PREFER_CACHE */ : 2 /* ONLY_NETWORK */,\n                });\n                // Update attempt, status could change during the execution.\n                this.attempt = data.attempt;\n                this.attempt.currentpage = page;\n                this.questions = data.questions;\n                this.nextPage = data.nextpage;\n                this.previousPage = this.isSequential ? -1 : page - 1;\n                this.showSummary = false;\n                this.questions.forEach((question) => {\n                    // Get the readable mark for each question.\n                    question.readableMark = quiz_helper[\"a\" /* AddonModQuizHelper */].getQuestionMarkFromHtml(question.html);\n                    // Extract the question info box.\n                    question_helper[\"a\" /* CoreQuestionHelper */].extractQuestionInfoBox(question, '.info');\n                    // Check if the question is blocked. If it is, treat it as a description question.\n                    if (services_quiz[\"a\" /* AddonModQuiz */].isQuestionBlocked(question)) {\n                        question.type = 'description';\n                    }\n                });\n                // Mark the page as viewed.\n                utils[\"a\" /* CoreUtils */].ignoreErrors(services_quiz[\"a\" /* AddonModQuiz */].logViewAttempt(this.attempt.id, page, this.preflightData, this.offline, this.quiz));\n                // Start looking for changes.\n                this.autoSave.startCheckChangesProcess(this.quiz, this.attempt, this.preflightData, this.offline);\n            });\n        }\n        /**\n         * Load attempt summary.\n         *\n         * @return Promise resolved when done.\n         */\n        loadSummary() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                this.summaryQuestions = [];\n                this.summaryQuestions = yield services_quiz[\"a\" /* AddonModQuiz */].getAttemptSummary(this.attempt.id, this.preflightData, {\n                    cmId: this.quiz.coursemodule,\n                    loadLocal: this.offline,\n                    readingStrategy: this.offline ? 1 /* PREFER_CACHE */ : 2 /* ONLY_NETWORK */,\n                });\n                this.showSummary = true;\n                this.canReturn = this.attempt.state == services_quiz[\"b\" /* AddonModQuizProvider */].ATTEMPT_IN_PROGRESS && !this.attempt.finishedOffline;\n                this.preventSubmitMessages = services_quiz[\"a\" /* AddonModQuiz */].getPreventSubmitMessages(this.summaryQuestions);\n                this.dueDateWarning = services_quiz[\"a\" /* AddonModQuiz */].getAttemptDueDateWarning(this.quiz, this.attempt);\n                // Log summary as viewed.\n                utils[\"a\" /* CoreUtils */].ignoreErrors(services_quiz[\"a\" /* AddonModQuiz */].logViewAttemptSummary(this.attempt.id, this.preflightData, this.quiz.id, this.quiz.name));\n            });\n        }\n        /**\n         * Load data to navigate the questions using the navigation modal.\n         *\n         * @return Promise resolved when done.\n         */\n        loadNavigation() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                // We use the attempt summary to build the navigation because it contains all the questions.\n                this.navigation = yield services_quiz[\"a\" /* AddonModQuiz */].getAttemptSummary(this.attempt.id, this.preflightData, {\n                    cmId: this.quiz.coursemodule,\n                    loadLocal: this.offline,\n                    readingStrategy: this.offline ? 1 /* PREFER_CACHE */ : 2 /* ONLY_NETWORK */,\n                });\n                this.navigation.forEach((question) => {\n                    question.stateClass = question_helper[\"a\" /* CoreQuestionHelper */].getQuestionStateClass(question.state || '');\n                });\n            });\n        }\n        /**\n         * Open the navigation modal.\n         *\n         * @return Promise resolved when done.\n         */\n        openNavigation() {\n            var _a;\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                if (this.reloadNavigation) {\n                    // Some data has changed, reload the navigation.\n                    const modal = yield dom[\"a\" /* CoreDomUtils */].showModalLoading();\n                    yield utils[\"a\" /* CoreUtils */].ignoreErrors(this.loadNavigation());\n                    modal.dismiss();\n                    this.reloadNavigation = false;\n                }\n                // Create the navigation modal.\n                const modalData = yield dom[\"a\" /* CoreDomUtils */].openSideModal({\n                    component: navigation_modal[\"a\" /* AddonModQuizNavigationModalComponent */],\n                    componentProps: {\n                        navigation: this.navigation,\n                        summaryShown: this.showSummary,\n                        currentPage: (_a = this.attempt) === null || _a === void 0 ? void 0 : _a.currentpage,\n                        isReview: false,\n                    },\n                });\n                if (!modalData) {\n                    return;\n                }\n                this.changePage(modalData.page, true, modalData.slot);\n            });\n        }\n        /**\n         * Prepare the answers to be sent for the attempt.\n         *\n         * @return Promise resolved with the answers.\n         */\n        prepareAnswers() {\n            return question_helper[\"a\" /* CoreQuestionHelper */].prepareAnswers(this.questions, this.getAnswers(), this.offline, this.component, this.quiz.coursemodule);\n        }\n        /**\n         * Process attempt.\n         *\n         * @param userFinish Whether the user clicked to finish the attempt.\n         * @param timeUp Whether the quiz time is up.\n         * @param retrying Whether we're retrying the change.\n         * @return Promise resolved when done.\n         */\n        processAttempt(userFinish, timeUp, retrying) {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                // Get the answers to send.\n                let answers = {};\n                if (!this.showSummary) {\n                    answers = yield this.prepareAnswers();\n                }\n                try {\n                    // Send the answers.\n                    yield services_quiz[\"a\" /* AddonModQuiz */].processAttempt(this.quiz, this.attempt, answers, this.preflightData, userFinish, timeUp, this.offline);\n                }\n                catch (error) {\n                    if (!error || error.errorcode != 'submissionoutofsequencefriendlymessage') {\n                        throw error;\n                    }\n                    try {\n                        // There was an error with the sequence check. Try to ammend it.\n                        yield this.fixSequenceChecks();\n                    }\n                    catch (_a) {\n                        throw error;\n                    }\n                    if (retrying) {\n                        // We're already retrying, don't send the data again because it could cause an infinite loop.\n                        throw error;\n                    }\n                    // Sequence checks updated, try to send the data again.\n                    return this.processAttempt(userFinish, timeUp, true);\n                }\n                // Answers saved, cancel auto save.\n                this.autoSave.cancelAutoSave();\n                this.autoSave.hideAutoSaveError();\n                if (this.formElement) {\n                    singletons_form[\"a\" /* CoreForms */].triggerFormSubmittedEvent(this.formElement, !this.offline, sites[\"b\" /* CoreSites */].getCurrentSiteId());\n                }\n                return question_helper[\"a\" /* CoreQuestionHelper */].clearTmpData(this.questions, this.component, this.quiz.coursemodule);\n            });\n        }\n        /**\n         * Scroll to a certain question.\n         *\n         * @param slot Slot of the question to scroll to.\n         */\n        scrollToQuestion(slot) {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                yield utils[\"a\" /* CoreUtils */].nextTick();\n                yield components_registry[\"a\" /* CoreComponentsRegistry */].waitComponentsReady(this.elementRef.nativeElement, 'core-question');\n                yield singletons_dom[\"a\" /* CoreDom */].scrollToElement(this.elementRef.nativeElement, '#addon-mod_quiz-question-' + slot);\n            });\n        }\n        /**\n         * Show connection error.\n         *\n         * @param ev Click event.\n         */\n        showConnectionError(ev) {\n            this.autoSave.showAutoSaveError(ev);\n        }\n        /**\n         * Convenience function to start the player.\n         */\n        start() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                try {\n                    this.loaded = false;\n                    if (!this.quizDataLoaded) {\n                        // Fetch data.\n                        yield this.fetchData();\n                        this.quizDataLoaded = true;\n                    }\n                    // Quiz data has been loaded, try to start or continue.\n                    yield this.startOrContinueAttempt();\n                }\n                finally {\n                    this.loaded = true;\n                }\n            });\n        }\n        /**\n         * Start or continue an attempt.\n         *\n         * @return Promise resolved when done.\n         */\n        startOrContinueAttempt() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                try {\n                    let attempt = this.newAttempt ? undefined : this.lastAttempt;\n                    // Get the preflight data and start attempt if needed.\n                    attempt = yield quiz_helper[\"a\" /* AddonModQuizHelper */].getAndCheckPreflightData(this.quiz, this.quizAccessInfo, this.preflightData, attempt, this.offline, false, 'addon.mod_quiz.startattempt');\n                    // Re-fetch attempt access information with the right attempt (might have changed because a new attempt was created).\n                    this.attemptAccessInfo = yield services_quiz[\"a\" /* AddonModQuiz */].getAttemptAccessInformation(this.quiz.id, attempt.id, {\n                        cmId: this.quiz.coursemodule,\n                        readingStrategy: this.offline ? 1 /* PREFER_CACHE */ : 2 /* ONLY_NETWORK */,\n                    });\n                    this.attempt = attempt;\n                    yield this.loadNavigation();\n                    if (this.attempt.state != services_quiz[\"b\" /* AddonModQuizProvider */].ATTEMPT_OVERDUE && !this.attempt.finishedOffline) {\n                        // Attempt not overdue and not finished in offline, load page.\n                        yield this.loadPage(this.attempt.currentpage);\n                        this.initTimer();\n                    }\n                    else {\n                        // Attempt is overdue or finished in offline, we can only load the summary.\n                        yield this.loadSummary();\n                    }\n                }\n                catch (error) {\n                    dom[\"a\" /* CoreDomUtils */].showErrorModalDefault(error, 'addon.mod_quiz.errorgetquestions', true);\n                }\n            });\n        }\n        /**\n         * Quiz time has finished.\n         */\n        timeUp() {\n            if (this.timeUpCalled) {\n                return;\n            }\n            this.timeUpCalled = true;\n            this.finishAttempt(false, true);\n        }\n    }\n    AddonModQuizPlayerPage.ɵfac = function AddonModQuizPlayerPage_Factory(t) { return new (t || AddonModQuizPlayerPage)(core[\"yc\" /* ɵɵdirectiveInject */](core[\"j\" /* ChangeDetectorRef */]), core[\"yc\" /* ɵɵdirectiveInject */](core[\"r\" /* ElementRef */])); };\n    AddonModQuizPlayerPage.ɵcmp = core[\"sc\" /* ɵɵdefineComponent */]({ type: AddonModQuizPlayerPage, selectors: [[\"page-addon-mod-quiz-player\"]], viewQuery: function AddonModQuizPlayerPage_Query(rf, ctx) {\n            if (rf & 1) {\n                core[\"ud\" /* ɵɵviewQuery */](ionic_angular[\"v\" /* IonContent */], true);\n                core[\"ud\" /* ɵɵviewQuery */](_c0, true);\n                core[\"ud\" /* ɵɵviewQuery */](question_question[\"a\" /* CoreQuestionComponent */], true);\n            }\n            if (rf & 2) {\n                var _t;\n                core[\"dd\" /* ɵɵqueryRefresh */](_t = core[\"Nc\" /* ɵɵloadQuery */]()) && (ctx.content = _t.first);\n                core[\"dd\" /* ɵɵqueryRefresh */](_t = core[\"Nc\" /* ɵɵloadQuery */]()) && (ctx.formElement = _t.first);\n                core[\"dd\" /* ɵɵqueryRefresh */](_t = core[\"Nc\" /* ɵɵloadQuery */]()) && (ctx.questionComponents = _t);\n            }\n        }, decls: 22, vars: 17, consts: [[\"slot\", \"start\"], [3, \"text\"], [\"contextLevel\", \"module\", 3, \"text\", \"contextInstanceId\", \"courseId\", 4, \"ngIf\"], [\"slot\", \"end\"], [\"fill\", \"clear\", \"id\", \"addon-mod_quiz-connection-error-button\", \"aria-haspopup\", \"dialog\", 3, \"hidden\", \"click\"], [\"name\", \"fas-exclamation-circle\", \"slot\", \"icon-only\", \"aria-hidden\", \"true\"], [3, \"click\", 4, \"ngIf\"], [\"color\", \"light\", 4, \"ngIf\"], [1, \"limited-width\"], [1, \"has-spacer\", 3, \"hideUntil\"], [\"expand\", \"block\", \"class\", \"ion-margin\", 3, \"click\", 4, \"ngIf\"], [\"name\", \"addon-mod_quiz-player-form\", 4, \"ngIf\"], [\"class\", \"spacer-top\", 4, \"ngIf\"], [\"class\", \"addon-mod_quiz-table\", 4, \"ngIf\"], [4, \"ngIf\"], [\"collapsible-footer\", \"\", \"appearOnBottom\", \"\", \"slot\", \"fixed\", \"class\", \"list-item-limited-width\", 4, \"ngIf\"], [\"contextLevel\", \"module\", 3, \"text\", \"contextInstanceId\", \"courseId\"], [3, \"click\"], [\"name\", \"fas-bookmark\", \"slot\", \"icon-only\", \"aria-hidden\", \"true\"], [\"color\", \"light\"], [3, \"endTime\", \"timerText\", \"align\", \"finished\"], [\"expand\", \"block\", 1, \"ion-margin\", 3, \"click\"], [\"name\", \"addon-mod_quiz-player-form\"], [\"quizForm\", \"\"], [4, \"ngFor\", \"ngForOf\"], [3, \"id\"], [\"class\", \"inline\", 4, \"ngIf\"], [\"slot\", \"end\", \"class\", \"ion-text-wrap ion-margin-horizontal addon-mod_quiz-question-note\", 4, \"ngIf\"], [\"contextLevel\", \"module\", 1, \"ion-text-wrap\", 3, \"question\", \"component\", \"componentId\", \"attemptId\", \"usageId\", \"offlineEnabled\", \"contextInstanceId\", \"courseId\", \"preferredBehaviour\", \"review\", \"onAbort\", \"buttonClicked\"], [1, \"inline\"], [\"slot\", \"end\", 1, \"ion-text-wrap\", \"ion-margin-horizontal\", \"addon-mod_quiz-question-note\"], [\"class\", \"block\", 4, \"ngIf\"], [1, \"block\"], [1, \"spacer-top\"], [\"expand\", \"block\", \"fill\", \"outline\", 1, \"ion-text-wrap\", 3, \"click\"], [\"name\", \"fas-chevron-left\", \"slot\", \"start\", \"aria-hidden\", \"true\"], [\"expand\", \"block\", \"class\", \"ion-text-wrap\", 3, \"click\", 4, \"ngIf\"], [\"expand\", \"block\", 1, \"ion-text-wrap\", 3, \"click\"], [\"name\", \"fas-chevron-right\", \"slot\", \"end\", \"aria-hidden\", \"true\"], [1, \"addon-mod_quiz-table\"], [1, \"ion-text-wrap\"], [1, \"ion-align-items-center\"], [\"size\", \"3\", 1, \"ion-text-center\", \"ion-hide-md-down\"], [\"size\", \"3\", 1, \"ion-text-center\", \"ion-hide-md-up\"], [\"size\", \"9\", 1, \"ion-text-center\"], [\"class\", \"ion-text-wrap\", 4, \"ngIf\"], [3, \"endTime\", \"timerText\", \"finished\", 4, \"ngIf\"], [3, \"detail\", \"button\", \"click\", 4, \"ngIf\"], [3, \"detail\", \"button\", \"click\"], [\"size\", \"3\", 1, \"ion-text-center\"], [\"size\", \"9\", 1, \"ion-text-center\", \"ion-text-wrap\"], [3, \"endTime\", \"timerText\", \"finished\"], [1, \"item-heading\"], [\"expand\", \"block\", \"class\", \"ion-margin ion-text-wrap\", \"fill\", \"outline\", 3, \"click\", 4, \"ngIf\"], [\"expand\", \"block\", \"fill\", \"outline\", 1, \"ion-margin\", \"ion-text-wrap\", 3, \"click\"], [\"collapsible-footer\", \"\", \"appearOnBottom\", \"\", \"slot\", \"fixed\", 1, \"list-item-limited-width\"], [\"expand\", \"block\", \"class\", \"ion-margin ion-text-wrap\", \"core-link\", \"\", 3, \"href\", \"showBrowserWarning\", 4, \"ngIf\"], [\"expand\", \"block\", \"class\", \"ion-margin ion-text-wrap\", 3, \"click\", 4, \"ngIf\"], [\"expand\", \"block\", \"core-link\", \"\", 1, \"ion-margin\", \"ion-text-wrap\", 3, \"href\", \"showBrowserWarning\"], [\"name\", \"fas-external-link-alt\", \"slot\", \"end\", \"aria-hidden\", \"true\"], [\"expand\", \"block\", 1, \"ion-margin\", \"ion-text-wrap\", 3, \"click\"]], template: function AddonModQuizPlayerPage_Template(rf, ctx) {\n            if (rf & 1) {\n                core[\"Ec\" /* ɵɵelementStart */](0, \"ion-header\");\n                core[\"Ec\" /* ɵɵelementStart */](1, \"ion-toolbar\");\n                core[\"Ec\" /* ɵɵelementStart */](2, \"ion-buttons\", 0);\n                core[\"zc\" /* ɵɵelement */](3, \"ion-back-button\", 1);\n                core[\"Pc\" /* ɵɵpipe */](4, \"translate\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](5, \"ion-title\");\n                core[\"Ec\" /* ɵɵelementStart */](6, \"h1\");\n                core[\"nd\" /* ɵɵtemplate */](7, AddonModQuizPlayerPage_core_format_text_7_Template, 1, 3, \"core-format-text\", 2);\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](8, \"ion-buttons\", 3);\n                core[\"Ec\" /* ɵɵelementStart */](9, \"ion-button\", 4);\n                core[\"Mc\" /* ɵɵlistener */](\"click\", function AddonModQuizPlayerPage_Template_ion_button_click_9_listener($event) { return ctx.showConnectionError($event); });\n                core[\"Pc\" /* ɵɵpipe */](10, \"translate\");\n                core[\"zc\" /* ɵɵelement */](11, \"ion-icon\", 5);\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"nd\" /* ɵɵtemplate */](12, AddonModQuizPlayerPage_ion_button_12_Template, 3, 3, \"ion-button\", 6);\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"nd\" /* ɵɵtemplate */](13, AddonModQuizPlayerPage_ion_toolbar_13_Template, 4, 5, \"ion-toolbar\", 7);\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](14, \"ion-content\", 8);\n                core[\"Ec\" /* ɵɵelementStart */](15, \"core-loading\", 9);\n                core[\"nd\" /* ɵɵtemplate */](16, AddonModQuizPlayerPage_ion_button_16_Template, 3, 3, \"ion-button\", 10);\n                core[\"nd\" /* ɵɵtemplate */](17, AddonModQuizPlayerPage_form_17_Template, 3, 1, \"form\", 11);\n                core[\"nd\" /* ɵɵtemplate */](18, AddonModQuizPlayerPage_ion_row_18_Template, 3, 2, \"ion-row\", 12);\n                core[\"nd\" /* ɵɵtemplate */](19, AddonModQuizPlayerPage_ion_card_19_Template, 23, 13, \"ion-card\", 13);\n                core[\"nd\" /* ɵɵtemplate */](20, AddonModQuizPlayerPage_ion_card_20_Template, 6, 4, \"ion-card\", 14);\n                core[\"nd\" /* ɵɵtemplate */](21, AddonModQuizPlayerPage_div_21_Template, 3, 2, \"div\", 15);\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n            }\n            if (rf & 2) {\n                core[\"lc\" /* ɵɵadvance */](3);\n                core[\"Vc\" /* ɵɵproperty */](\"text\", core[\"Qc\" /* ɵɵpipeBind1 */](4, 13, \"core.back\"));\n                core[\"lc\" /* ɵɵadvance */](4);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx.quiz);\n                core[\"lc\" /* ɵɵadvance */](2);\n                core[\"Vc\" /* ɵɵproperty */](\"hidden\", !ctx.autoSaveError);\n                core[\"mc\" /* ɵɵattribute */](\"aria-label\", core[\"Qc\" /* ɵɵpipeBind1 */](10, 15, \"addon.mod_quiz.connectionerror\"));\n                core[\"lc\" /* ɵɵadvance */](3);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx.navigation.length);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx.loaded && ctx.endTime && ctx.questions.length && !ctx.quizAborted && !ctx.showSummary);\n                core[\"lc\" /* ɵɵadvance */](2);\n                core[\"Vc\" /* ɵɵproperty */](\"hideUntil\", ctx.loaded);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", !ctx.attempt);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx.questions.length && !ctx.quizAborted && !ctx.showSummary);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx.questions.length && !ctx.quizAborted && !ctx.showSummary);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", !ctx.quizAborted && ctx.showSummary && ctx.summaryQuestions.length);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx.attempt && (!ctx.questions.length && !ctx.showSummary || ctx.quizAborted));\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", !ctx.quizAborted && ctx.showSummary && ctx.summaryQuestions.length && ctx.loaded);\n            }\n        }, directives: [ionic_angular[\"C\" /* IonHeader */], ionic_angular[\"Ab\" /* IonToolbar */], ionic_angular[\"m\" /* IonButtons */], ionic_angular[\"h\" /* IonBackButton */], ionic_angular[\"i\" /* IonBackButtonDelegate */], ionic_angular[\"yb\" /* IonTitle */], common[\"t\" /* NgIf */], update_non_reactive_attributes[\"a\" /* CoreUpdateNonReactiveAttributesDirective */], ionic_angular[\"l\" /* IonButton */], ionic_angular[\"D\" /* IonIcon */], fa_icon[\"a\" /* CoreFaIconDirective */], content[\"a\" /* CoreContentDirective */], ionic_angular[\"v\" /* IonContent */], loading[\"a\" /* CoreLoadingComponent */], format_text[\"a\" /* CoreFormatTextDirective */], timer[\"a\" /* CoreTimerComponent */], fesm2015_forms[\"H\" /* ɵangular_packages_forms_forms_y */], fesm2015_forms[\"s\" /* NgControlStatusGroup */], fesm2015_forms[\"t\" /* NgForm */], common[\"s\" /* NgForOf */], ionic_angular[\"n\" /* IonCard */], ionic_angular[\"J\" /* IonItemDivider */], ionic_angular[\"O\" /* IonLabel */], question_question[\"a\" /* CoreQuestionComponent */], ionic_angular[\"hb\" /* IonRow */], ionic_angular[\"u\" /* IonCol */], ionic_angular[\"p\" /* IonCardHeader */], ionic_angular[\"r\" /* IonCardTitle */], ionic_angular[\"I\" /* IonItem */], collapsible_footer[\"a\" /* CoreCollapsibleFooterDirective */], directives_link[\"a\" /* CoreLinkDirective */]], pipes: [ngx_translate_core[\"d\" /* TranslatePipe */]], styles: [\"[_nghost-%COMP%]   .addon-mod_quiz-question-note[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:2px;margin-bottom:2px}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{border-bottom:1px solid var(--stroke)}[_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-0[_ngcontent-%COMP%]{background-color:#ca3120!important}[_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-0[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-0[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], [_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-0[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--white)}[_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-1[_ngcontent-%COMP%]{background-color:rgba(202,49,32,.9333333333)!important}[_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-1[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-1[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], [_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--white)}[_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-2[_ngcontent-%COMP%]{background-color:rgba(202,49,32,.8666666667)!important}[_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-2[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-2[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], [_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--white)}[_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-3[_ngcontent-%COMP%]{background-color:rgba(202,49,32,.8)!important}[_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-3[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-3[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], [_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-3[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--white)}[_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-4[_ngcontent-%COMP%]{background-color:rgba(202,49,32,.7333333333)!important}[_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-4[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-4[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], [_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--white)}[_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-5[_ngcontent-%COMP%]{background-color:rgba(202,49,32,.6666666667)!important}[_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-5[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-5[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], [_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-5[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--white)}[_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-6[_ngcontent-%COMP%]{background-color:rgba(202,49,32,.6)!important}[_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-6[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-6[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], [_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-6[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--white)}[_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-7[_ngcontent-%COMP%]{background-color:rgba(202,49,32,.5333333333)!important}[_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-7[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-7[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], [_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-7[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--white)}[_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-8[_ngcontent-%COMP%]{background-color:rgba(202,49,32,.4666666667)!important}[_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-9[_ngcontent-%COMP%]{background-color:rgba(202,49,32,.4)!important}[_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-10[_ngcontent-%COMP%]{background-color:rgba(202,49,32,.3333333333)!important}[_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-11[_ngcontent-%COMP%]{background-color:rgba(202,49,32,.2666666667)!important}[_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-12[_ngcontent-%COMP%]{background-color:rgba(202,49,32,.2)!important}[_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-13[_ngcontent-%COMP%]{background-color:rgba(202,49,32,.1333333333)!important}[_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-14[_ngcontent-%COMP%]{background-color:rgba(202,49,32,.0666666667)!important}[_nghost-%COMP%]   core-timer[_ngcontent-%COMP%]   .core-timer.core-timer-timeleft-15[_ngcontent-%COMP%]{background-color:rgba(202,49,32,0)!important}\"] });\n    return AddonModQuizPlayerPage;\n})();\n\n// CONCATENATED MODULE: ./src/addons/mod/quiz/pages/player/player.module.ts\n// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n\n\n\n\nconst routes = [\n    {\n        path: '',\n        component: player_page_AddonModQuizPlayerPage,\n        canDeactivate: [can_leave[\"a\" /* CanLeaveGuard */]],\n    },\n];\nlet player_module_AddonModQuizPlayerPageModule = /*@__PURE__*/ (() => {\n    class AddonModQuizPlayerPageModule {\n    }\n    AddonModQuizPlayerPageModule.ɵmod = core[\"wc\" /* ɵɵdefineNgModule */]({ type: AddonModQuizPlayerPageModule });\n    AddonModQuizPlayerPageModule.ɵinj = core[\"vc\" /* ɵɵdefineInjector */]({ factory: function AddonModQuizPlayerPageModule_Factory(t) { return new (t || AddonModQuizPlayerPageModule)(); }, imports: [[\n                router[\"m\" /* RouterModule */].forChild(routes),\n                shared_module[\"a\" /* CoreSharedModule */],\n                components_module[\"a\" /* CoreQuestionComponentsModule */],\n            ], router[\"m\" /* RouterModule */]] });\n    return AddonModQuizPlayerPageModule;\n})();\n(function () {\n    (typeof ngJitMode === \"undefined\" || ngJitMode) && core[\"kd\" /* ɵɵsetNgModuleScope */](player_module_AddonModQuizPlayerPageModule, { declarations: [player_page_AddonModQuizPlayerPage], imports: [router[\"m\" /* RouterModule */], shared_module[\"a\" /* CoreSharedModule */],\n            components_module[\"a\" /* CoreQuestionComponentsModule */]], exports: [router[\"m\" /* RouterModule */]] });\n})();\n\n\n/***/ })\n\n}]);","inputSourceMap":null}