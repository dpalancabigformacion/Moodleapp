{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[118],{IcH5:function(e,t,c){\"use strict\";c.r(t),c.d(t,\"CoreSettingsSpaceUsagePageModule\",(function(){return P}));var a=c(\"tyNb\"),i=c(\"L3Fv\"),s=c(\"mrSG\"),n=c(\"9+EE\"),o=c(\"fjkH\"),r=c(\"1gmh\"),l=c(\"fXoL\"),g=c(\"TEn/\"),d=c(\"ACV2\"),p=c(\"nt/U\"),S=c(\"PgjG\"),u=c(\"ofXK\"),h=c(\"hMzs\"),f=c(\"ACYt\"),m=c(\"3CSS\"),U=c(\"sYmb\"),_=c(\"1iFe\");function CoreSettingsSpaceUsagePage_ion_item_17_ion_badge_8_Template(e,t){if(1&e&&(l.Ec(0,\"ion-badge\",15),l.pd(1),l.Pc(2,\"coreBytesToSize\"),l.Dc()),2&e){const e=l.Oc().$implicit;l.lc(1),l.qd(l.Qc(2,1,e.spaceUsage))}}const _c0=function(e){return{name:e}};function CoreSettingsSpaceUsagePage_ion_item_17_Template(e,t){if(1&e){const e=l.Fc();l.Ec(0,\"ion-item\"),l.Ec(1,\"ion-label\",9),l.Ec(2,\"p\",10),l.zc(3,\"core-format-text\",11),l.Dc(),l.Ec(4,\"p\",9),l.pd(5),l.Dc(),l.Ec(6,\"p\"),l.pd(7),l.Dc(),l.nd(8,CoreSettingsSpaceUsagePage_ion_item_17_ion_badge_8_Template,3,3,\"ion-badge\",12),l.Dc(),l.Ec(9,\"ion-button\",13),l.Mc(\"click\",(function CoreSettingsSpaceUsagePage_ion_item_17_Template_ion_button_click_9_listener(){l.fd(e);const c=t.$implicit;return l.Oc().deleteSiteStorage(c)})),l.zc(10,\"ion-icon\",14),l.Pc(11,\"translate\"),l.Dc(),l.Dc()}if(2&e){const e=t.$implicit,c=l.Oc();l.qc(\"item-current\",e.id==c.currentSiteId),l.lc(3),l.Vc(\"text\",e.siteName)(\"siteId\",e.id),l.lc(2),l.qd(e.fullName),l.lc(2),l.qd(e.siteUrlWithoutProtocol),l.lc(1),l.Vc(\"ngIf\",void 0!==e.spaceUsage),l.lc(1),l.Vc(\"hidden\",e.spaceUsage+e.cacheEntries<=0),l.lc(1),l.mc(\"aria-label\",l.Rc(11,9,\"addon.storagemanager.deletedatafrom\",l.ad(12,_c0,e.siteName)))}}let b=(()=>{class CoreSettingsSpaceUsagePage{constructor(){this.loaded=!1,this.sites=[],this.currentSiteId=\"\",this.totals={cacheEntries:0,spaceUsage:0},this.currentSiteId=n.b.getCurrentSiteId(),this.sitesObserver=o.b.on(o.b.SITE_UPDATED,(e=>Object(s.a)(this,void 0,void 0,(function*(){const t=yield n.b.getSite(e.siteId),c=this.sites.find((e=>e.id==t.id));if(c){const e=t.getInfo();c.siteName=t.getSiteName(),e&&(c.siteUrl=e.siteurl,c.fullName=e.fullname)}}))))}ngOnInit(){this.loadSiteData().finally((()=>{this.loaded=!0}))}loadSiteData(){return Object(s.a)(this,void 0,void 0,(function*(){let e=0,t=0;this.sites=yield n.b.getSortedSites();const c=r.a.instance;yield Promise.all(this.sites.map((a=>Object(s.a)(this,void 0,void 0,(function*(){const i=yield c.getSiteSpaceUsage(a.id);a.cacheEntries=i.cacheEntries,a.spaceUsage=i.spaceUsage,e+=a.spaceUsage||0,t+=a.cacheEntries||0}))))),this.totals.spaceUsage=e,this.totals.cacheEntries=t}))}refreshData(e){this.loadSiteData().finally((()=>{null==e?void 0:e.complete()}))}deleteSiteStorage(e){return Object(s.a)(this,void 0,void 0,(function*(){try{const t=yield r.a.deleteSiteStorage(e.siteName||\"\",e.id);this.totals.spaceUsage-=e.spaceUsage-t.spaceUsage,this.totals.spaceUsage-=e.cacheEntries-t.cacheEntries,e.spaceUsage=t.spaceUsage,e.cacheEntries=t.cacheEntries}catch(e){}}))}ngOnDestroy(){var e;null===(e=this.sitesObserver)||void 0===e?void 0:e.off()}}return CoreSettingsSpaceUsagePage.ɵfac=function CoreSettingsSpaceUsagePage_Factory(e){return new(e||CoreSettingsSpaceUsagePage)},CoreSettingsSpaceUsagePage.ɵcmp=l.sc({type:CoreSettingsSpaceUsagePage,selectors:[[\"page-core-app-settings-space-usage\"]],decls:26,vars:18,consts:[[\"slot\",\"start\"],[3,\"text\"],[\"slot\",\"end\"],[1,\"limited-width\"],[\"slot\",\"fixed\",3,\"disabled\",\"ionRefresh\"],[3,\"pullingText\"],[3,\"hideUntil\"],[3,\"item-current\",4,\"ngFor\",\"ngForOf\"],[\"slot\",\"end\",1,\"ion-margin-end\"],[1,\"ion-text-wrap\"],[1,\"item-heading\"],[\"clean\",\"true\",3,\"text\",\"siteId\"],[\"color\",\"light\",4,\"ngIf\"],[\"fill\",\"clear\",\"color\",\"danger\",\"slot\",\"end\",3,\"hidden\",\"click\"],[\"name\",\"fas-trash\",\"slot\",\"icon-only\"],[\"color\",\"light\"]],template:function CoreSettingsSpaceUsagePage_Template(e,t){1&e&&(l.Ec(0,\"ion-header\"),l.Ec(1,\"ion-toolbar\"),l.Ec(2,\"ion-buttons\",0),l.zc(3,\"ion-back-button\",1),l.Pc(4,\"translate\"),l.Dc(),l.Ec(5,\"ion-title\"),l.Ec(6,\"h1\"),l.pd(7),l.Pc(8,\"translate\"),l.Dc(),l.Dc(),l.Ec(9,\"ion-buttons\",2),l.zc(10,\"core-navbar-buttons\"),l.Dc(),l.Dc(),l.Dc(),l.Ec(11,\"ion-content\",3),l.Ec(12,\"ion-refresher\",4),l.Mc(\"ionRefresh\",(function CoreSettingsSpaceUsagePage_Template_ion_refresher_ionRefresh_12_listener(e){return t.refreshData(e.target)})),l.zc(13,\"ion-refresher-content\",5),l.Pc(14,\"translate\"),l.Dc(),l.Ec(15,\"core-loading\",6),l.Ec(16,\"ion-list\"),l.nd(17,CoreSettingsSpaceUsagePage_ion_item_17_Template,12,14,\"ion-item\",7),l.Ec(18,\"ion-item-divider\"),l.Ec(19,\"ion-label\"),l.Ec(20,\"h2\"),l.pd(21),l.Pc(22,\"translate\"),l.Dc(),l.Dc(),l.Ec(23,\"p\",8),l.pd(24),l.Pc(25,\"coreBytesToSize\"),l.Dc(),l.Dc(),l.Dc(),l.Dc(),l.Dc()),2&e&&(l.lc(3),l.Vc(\"text\",l.Qc(4,8,\"core.back\")),l.lc(4),l.qd(l.Qc(8,10,\"core.settings.spaceusage\")),l.lc(5),l.Vc(\"disabled\",!t.loaded),l.lc(1),l.Wc(\"pullingText\",l.Qc(14,12,\"core.pulltorefresh\")),l.lc(2),l.Vc(\"hideUntil\",t.loaded),l.lc(2),l.Vc(\"ngForOf\",t.sites),l.lc(4),l.qd(l.Qc(22,14,\"core.settings.total\")),l.lc(3),l.rd(\" \",l.Qc(25,16,t.totals.spaceUsage),\" \"))},directives:[g.C,g.Ab,g.m,g.h,g.i,g.yb,d.a,p.a,g.v,g.bb,g.cb,S.a,g.P,u.s,g.J,g.O,g.I,h.a,u.t,f.a,g.l,g.D,m.a,g.k],pipes:[U.d,_.a],encapsulation:2}),CoreSettingsSpaceUsagePage})();const E=[{path:\"\",component:b}];let P=(()=>{class CoreSettingsSpaceUsagePageModule{}return CoreSettingsSpaceUsagePageModule.ɵmod=l.wc({type:CoreSettingsSpaceUsagePageModule}),CoreSettingsSpaceUsagePageModule.ɵinj=l.vc({factory:function CoreSettingsSpaceUsagePageModule_Factory(e){return new(e||CoreSettingsSpaceUsagePageModule)},imports:[[a.m.forChild(E),i.a],a.m]}),CoreSettingsSpaceUsagePageModule})();void((\"undefined\"==typeof ngJitMode||ngJitMode)&&l.kd(P,{declarations:[b],imports:[a.m,i.a],exports:[a.m]}))}}]);","name":"118.53a876fb51be11d2e96d.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[118],{\n\n/***/ \"IcH5\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"CoreSettingsSpaceUsagePageModule\", function() { return /* binding */ space_usage_module_CoreSettingsSpaceUsagePageModule; });\n\n// EXTERNAL MODULE: ./node_modules/@angular/router/__ivy_ngcc__/fesm2015/router.js + 10 modules\nvar router = __webpack_require__(\"tyNb\");\n\n// EXTERNAL MODULE: ./src/core/shared.module.ts + 3 modules\nvar shared_module = __webpack_require__(\"L3Fv\");\n\n// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.js\nvar tslib_es6 = __webpack_require__(\"mrSG\");\n\n// EXTERNAL MODULE: ./src/core/services/sites.ts\nvar sites = __webpack_require__(\"9+EE\");\n\n// EXTERNAL MODULE: ./src/core/singletons/events.ts\nvar events = __webpack_require__(\"fjkH\");\n\n// EXTERNAL MODULE: ./src/core/features/settings/services/settings-helper.ts\nvar settings_helper = __webpack_require__(\"1gmh\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js\nvar core = __webpack_require__(\"fXoL\");\n\n// EXTERNAL MODULE: ./node_modules/@ionic/angular/__ivy_ngcc__/fesm2015/ionic-angular.js + 5 modules\nvar ionic_angular = __webpack_require__(\"TEn/\");\n\n// EXTERNAL MODULE: ./src/core/components/navbar-buttons/navbar-buttons.ts\nvar navbar_buttons = __webpack_require__(\"ACV2\");\n\n// EXTERNAL MODULE: ./src/core/directives/content.ts\nvar content = __webpack_require__(\"nt/U\");\n\n// EXTERNAL MODULE: ./src/core/components/loading/loading.ts\nvar loading = __webpack_require__(\"PgjG\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/common/__ivy_ngcc__/fesm2015/common.js\nvar common = __webpack_require__(\"ofXK\");\n\n// EXTERNAL MODULE: ./src/core/directives/format-text.ts\nvar format_text = __webpack_require__(\"hMzs\");\n\n// EXTERNAL MODULE: ./src/core/directives/update-non-reactive-attributes.ts\nvar update_non_reactive_attributes = __webpack_require__(\"ACYt\");\n\n// EXTERNAL MODULE: ./src/core/directives/fa-icon.ts\nvar fa_icon = __webpack_require__(\"3CSS\");\n\n// EXTERNAL MODULE: ./node_modules/@ngx-translate/core/__ivy_ngcc__/fesm2015/ngx-translate-core.js + 8 modules\nvar ngx_translate_core = __webpack_require__(\"sYmb\");\n\n// EXTERNAL MODULE: ./src/core/pipes/bytes-to-size.ts\nvar bytes_to_size = __webpack_require__(\"1iFe\");\n\n// CONCATENATED MODULE: ./src/core/features/settings/pages/space-usage/space-usage.ts\n\n// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction CoreSettingsSpaceUsagePage_ion_item_17_ion_badge_8_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-badge\", 15);\n        core[\"pd\" /* ɵɵtext */](1);\n        core[\"Pc\" /* ɵɵpipe */](2, \"coreBytesToSize\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const site_r1 = core[\"Oc\" /* ɵɵnextContext */]().$implicit;\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](2, 1, site_r1.spaceUsage));\n    }\n}\nconst _c0 = function (a0) { return { name: a0 }; };\nfunction CoreSettingsSpaceUsagePage_ion_item_17_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r5 = core[\"Fc\" /* ɵɵgetCurrentView */]();\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-item\");\n        core[\"Ec\" /* ɵɵelementStart */](1, \"ion-label\", 9);\n        core[\"Ec\" /* ɵɵelementStart */](2, \"p\", 10);\n        core[\"zc\" /* ɵɵelement */](3, \"core-format-text\", 11);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Ec\" /* ɵɵelementStart */](4, \"p\", 9);\n        core[\"pd\" /* ɵɵtext */](5);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Ec\" /* ɵɵelementStart */](6, \"p\");\n        core[\"pd\" /* ɵɵtext */](7);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"nd\" /* ɵɵtemplate */](8, CoreSettingsSpaceUsagePage_ion_item_17_ion_badge_8_Template, 3, 3, \"ion-badge\", 12);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Ec\" /* ɵɵelementStart */](9, \"ion-button\", 13);\n        core[\"Mc\" /* ɵɵlistener */](\"click\", function CoreSettingsSpaceUsagePage_ion_item_17_Template_ion_button_click_9_listener() { core[\"fd\" /* ɵɵrestoreView */](_r5); const site_r1 = ctx.$implicit; const ctx_r4 = core[\"Oc\" /* ɵɵnextContext */](); return ctx_r4.deleteSiteStorage(site_r1); });\n        core[\"zc\" /* ɵɵelement */](10, \"ion-icon\", 14);\n        core[\"Pc\" /* ɵɵpipe */](11, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const site_r1 = ctx.$implicit;\n        const ctx_r0 = core[\"Oc\" /* ɵɵnextContext */]();\n        core[\"qc\" /* ɵɵclassProp */](\"item-current\", site_r1.id == ctx_r0.currentSiteId);\n        core[\"lc\" /* ɵɵadvance */](3);\n        core[\"Vc\" /* ɵɵproperty */](\"text\", site_r1.siteName)(\"siteId\", site_r1.id);\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"qd\" /* ɵɵtextInterpolate */](site_r1.fullName);\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"qd\" /* ɵɵtextInterpolate */](site_r1.siteUrlWithoutProtocol);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", site_r1.spaceUsage !== undefined);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"hidden\", site_r1.spaceUsage + site_r1.cacheEntries <= 0);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"mc\" /* ɵɵattribute */](\"aria-label\", core[\"Rc\" /* ɵɵpipeBind2 */](11, 9, \"addon.storagemanager.deletedatafrom\", core[\"ad\" /* ɵɵpureFunction1 */](12, _c0, site_r1.siteName)));\n    }\n}\n/**\n * Page that displays the space usage settings.\n */\nlet space_usage_CoreSettingsSpaceUsagePage = /*@__PURE__*/ (() => {\n    class CoreSettingsSpaceUsagePage {\n        constructor() {\n            this.loaded = false;\n            this.sites = [];\n            this.currentSiteId = '';\n            this.totals = {\n                cacheEntries: 0,\n                spaceUsage: 0,\n            };\n            this.currentSiteId = sites[\"b\" /* CoreSites */].getCurrentSiteId();\n            this.sitesObserver = events[\"b\" /* CoreEvents */].on(events[\"b\" /* CoreEvents */].SITE_UPDATED, (data) => Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                const site = yield sites[\"b\" /* CoreSites */].getSite(data.siteId);\n                const siteEntry = this.sites.find((siteEntry) => siteEntry.id == site.id);\n                if (siteEntry) {\n                    const siteInfo = site.getInfo();\n                    siteEntry.siteName = site.getSiteName();\n                    if (siteInfo) {\n                        siteEntry.siteUrl = siteInfo.siteurl;\n                        siteEntry.fullName = siteInfo.fullname;\n                    }\n                }\n            }));\n        }\n        /**\n         * View loaded.\n         */\n        ngOnInit() {\n            this.loadSiteData().finally(() => {\n                this.loaded = true;\n            });\n        }\n        /**\n         * Convenience function to load site data/usage and calculate the totals.\n         *\n         * @return Resolved when done.\n         */\n        loadSiteData() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                // Calculate total usage.\n                let totalSize = 0;\n                let totalEntries = 0;\n                this.sites = yield sites[\"b\" /* CoreSites */].getSortedSites();\n                const settingsHelper = settings_helper[\"a\" /* CoreSettingsHelper */].instance;\n                // Get space usage.\n                yield Promise.all(this.sites.map((site) => Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                    const siteInfo = yield settingsHelper.getSiteSpaceUsage(site.id);\n                    site.cacheEntries = siteInfo.cacheEntries;\n                    site.spaceUsage = siteInfo.spaceUsage;\n                    totalSize += site.spaceUsage || 0;\n                    totalEntries += site.cacheEntries || 0;\n                })));\n                this.totals.spaceUsage = totalSize;\n                this.totals.cacheEntries = totalEntries;\n            });\n        }\n        /**\n         * Refresh the data.\n         *\n         * @param event Refresher event.\n         */\n        refreshData(refresher) {\n            this.loadSiteData().finally(() => {\n                refresher === null || refresher === void 0 ? void 0 : refresher.complete();\n            });\n        }\n        /**\n         * Deletes files of a site and the tables that can be cleared.\n         *\n         * @param siteData Site object with space usage.\n         */\n        deleteSiteStorage(siteData) {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                try {\n                    const newInfo = yield settings_helper[\"a\" /* CoreSettingsHelper */].deleteSiteStorage(siteData.siteName || '', siteData.id);\n                    this.totals.spaceUsage -= siteData.spaceUsage - newInfo.spaceUsage;\n                    this.totals.spaceUsage -= siteData.cacheEntries - newInfo.cacheEntries;\n                    siteData.spaceUsage = newInfo.spaceUsage;\n                    siteData.cacheEntries = newInfo.cacheEntries;\n                }\n                catch (_a) {\n                    // Ignore cancelled confirmation modal.\n                }\n            });\n        }\n        /**\n         * Page destroyed.\n         */\n        ngOnDestroy() {\n            var _a;\n            (_a = this.sitesObserver) === null || _a === void 0 ? void 0 : _a.off();\n        }\n    }\n    CoreSettingsSpaceUsagePage.ɵfac = function CoreSettingsSpaceUsagePage_Factory(t) { return new (t || CoreSettingsSpaceUsagePage)(); };\n    CoreSettingsSpaceUsagePage.ɵcmp = core[\"sc\" /* ɵɵdefineComponent */]({ type: CoreSettingsSpaceUsagePage, selectors: [[\"page-core-app-settings-space-usage\"]], decls: 26, vars: 18, consts: [[\"slot\", \"start\"], [3, \"text\"], [\"slot\", \"end\"], [1, \"limited-width\"], [\"slot\", \"fixed\", 3, \"disabled\", \"ionRefresh\"], [3, \"pullingText\"], [3, \"hideUntil\"], [3, \"item-current\", 4, \"ngFor\", \"ngForOf\"], [\"slot\", \"end\", 1, \"ion-margin-end\"], [1, \"ion-text-wrap\"], [1, \"item-heading\"], [\"clean\", \"true\", 3, \"text\", \"siteId\"], [\"color\", \"light\", 4, \"ngIf\"], [\"fill\", \"clear\", \"color\", \"danger\", \"slot\", \"end\", 3, \"hidden\", \"click\"], [\"name\", \"fas-trash\", \"slot\", \"icon-only\"], [\"color\", \"light\"]], template: function CoreSettingsSpaceUsagePage_Template(rf, ctx) {\n            if (rf & 1) {\n                core[\"Ec\" /* ɵɵelementStart */](0, \"ion-header\");\n                core[\"Ec\" /* ɵɵelementStart */](1, \"ion-toolbar\");\n                core[\"Ec\" /* ɵɵelementStart */](2, \"ion-buttons\", 0);\n                core[\"zc\" /* ɵɵelement */](3, \"ion-back-button\", 1);\n                core[\"Pc\" /* ɵɵpipe */](4, \"translate\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](5, \"ion-title\");\n                core[\"Ec\" /* ɵɵelementStart */](6, \"h1\");\n                core[\"pd\" /* ɵɵtext */](7);\n                core[\"Pc\" /* ɵɵpipe */](8, \"translate\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](9, \"ion-buttons\", 2);\n                core[\"zc\" /* ɵɵelement */](10, \"core-navbar-buttons\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](11, \"ion-content\", 3);\n                core[\"Ec\" /* ɵɵelementStart */](12, \"ion-refresher\", 4);\n                core[\"Mc\" /* ɵɵlistener */](\"ionRefresh\", function CoreSettingsSpaceUsagePage_Template_ion_refresher_ionRefresh_12_listener($event) { return ctx.refreshData($event.target); });\n                core[\"zc\" /* ɵɵelement */](13, \"ion-refresher-content\", 5);\n                core[\"Pc\" /* ɵɵpipe */](14, \"translate\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](15, \"core-loading\", 6);\n                core[\"Ec\" /* ɵɵelementStart */](16, \"ion-list\");\n                core[\"nd\" /* ɵɵtemplate */](17, CoreSettingsSpaceUsagePage_ion_item_17_Template, 12, 14, \"ion-item\", 7);\n                core[\"Ec\" /* ɵɵelementStart */](18, \"ion-item-divider\");\n                core[\"Ec\" /* ɵɵelementStart */](19, \"ion-label\");\n                core[\"Ec\" /* ɵɵelementStart */](20, \"h2\");\n                core[\"pd\" /* ɵɵtext */](21);\n                core[\"Pc\" /* ɵɵpipe */](22, \"translate\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](23, \"p\", 8);\n                core[\"pd\" /* ɵɵtext */](24);\n                core[\"Pc\" /* ɵɵpipe */](25, \"coreBytesToSize\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n            }\n            if (rf & 2) {\n                core[\"lc\" /* ɵɵadvance */](3);\n                core[\"Vc\" /* ɵɵproperty */](\"text\", core[\"Qc\" /* ɵɵpipeBind1 */](4, 8, \"core.back\"));\n                core[\"lc\" /* ɵɵadvance */](4);\n                core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](8, 10, \"core.settings.spaceusage\"));\n                core[\"lc\" /* ɵɵadvance */](5);\n                core[\"Vc\" /* ɵɵproperty */](\"disabled\", !ctx.loaded);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Wc\" /* ɵɵpropertyInterpolate */](\"pullingText\", core[\"Qc\" /* ɵɵpipeBind1 */](14, 12, \"core.pulltorefresh\"));\n                core[\"lc\" /* ɵɵadvance */](2);\n                core[\"Vc\" /* ɵɵproperty */](\"hideUntil\", ctx.loaded);\n                core[\"lc\" /* ɵɵadvance */](2);\n                core[\"Vc\" /* ɵɵproperty */](\"ngForOf\", ctx.sites);\n                core[\"lc\" /* ɵɵadvance */](4);\n                core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](22, 14, \"core.settings.total\"));\n                core[\"lc\" /* ɵɵadvance */](3);\n                core[\"rd\" /* ɵɵtextInterpolate1 */](\" \", core[\"Qc\" /* ɵɵpipeBind1 */](25, 16, ctx.totals.spaceUsage), \" \");\n            }\n        }, directives: [ionic_angular[\"C\" /* IonHeader */], ionic_angular[\"Ab\" /* IonToolbar */], ionic_angular[\"m\" /* IonButtons */], ionic_angular[\"h\" /* IonBackButton */], ionic_angular[\"i\" /* IonBackButtonDelegate */], ionic_angular[\"yb\" /* IonTitle */], navbar_buttons[\"a\" /* CoreNavBarButtonsComponent */], content[\"a\" /* CoreContentDirective */], ionic_angular[\"v\" /* IonContent */], ionic_angular[\"bb\" /* IonRefresher */], ionic_angular[\"cb\" /* IonRefresherContent */], loading[\"a\" /* CoreLoadingComponent */], ionic_angular[\"P\" /* IonList */], common[\"s\" /* NgForOf */], ionic_angular[\"J\" /* IonItemDivider */], ionic_angular[\"O\" /* IonLabel */], ionic_angular[\"I\" /* IonItem */], format_text[\"a\" /* CoreFormatTextDirective */], common[\"t\" /* NgIf */], update_non_reactive_attributes[\"a\" /* CoreUpdateNonReactiveAttributesDirective */], ionic_angular[\"l\" /* IonButton */], ionic_angular[\"D\" /* IonIcon */], fa_icon[\"a\" /* CoreFaIconDirective */], ionic_angular[\"k\" /* IonBadge */]], pipes: [ngx_translate_core[\"d\" /* TranslatePipe */], bytes_to_size[\"a\" /* CoreBytesToSizePipe */]], encapsulation: 2 });\n    return CoreSettingsSpaceUsagePage;\n})();\n\n// CONCATENATED MODULE: ./src/core/features/settings/pages/space-usage/space-usage.module.ts\n// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n\n\nconst routes = [\n    {\n        path: '',\n        component: space_usage_CoreSettingsSpaceUsagePage,\n    },\n];\nlet space_usage_module_CoreSettingsSpaceUsagePageModule = /*@__PURE__*/ (() => {\n    class CoreSettingsSpaceUsagePageModule {\n    }\n    CoreSettingsSpaceUsagePageModule.ɵmod = core[\"wc\" /* ɵɵdefineNgModule */]({ type: CoreSettingsSpaceUsagePageModule });\n    CoreSettingsSpaceUsagePageModule.ɵinj = core[\"vc\" /* ɵɵdefineInjector */]({ factory: function CoreSettingsSpaceUsagePageModule_Factory(t) { return new (t || CoreSettingsSpaceUsagePageModule)(); }, imports: [[\n                router[\"m\" /* RouterModule */].forChild(routes),\n                shared_module[\"a\" /* CoreSharedModule */],\n            ], router[\"m\" /* RouterModule */]] });\n    return CoreSettingsSpaceUsagePageModule;\n})();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && core[\"kd\" /* ɵɵsetNgModuleScope */](space_usage_module_CoreSettingsSpaceUsagePageModule, { declarations: [space_usage_CoreSettingsSpaceUsagePage], imports: [router[\"m\" /* RouterModule */], shared_module[\"a\" /* CoreSharedModule */]], exports: [router[\"m\" /* RouterModule */]] }); })();\n\n\n/***/ })\n\n}]);","inputSourceMap":null}