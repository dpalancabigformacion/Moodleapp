{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[110],{\"+hPx\":function(e,t,o){\"use strict\";o.r(t),o.d(t,\"CoreMainMenuHomePageModule\",(function(){return E}));var n=o(\"fXoL\"),a=o(\"tyNb\"),i=o(\"vY5A\"),r=o(\"L3Fv\"),c=o(\"9+EE\"),s=o(\"fjkH\"),l=o(\"NhJP\"),u=o(\"TkC7\"),d=o(\"bFG1\"),m=o(\"u7qe\"),M=o(\"YyYz\"),b=o(\"TEn/\"),g=o(\"hMzs\"),p=o(\"C1x5\"),h=o(\"PgjG\"),_=o(\"ofXK\"),C=o(\"r8G5\"),P=o(\"sYmb\");function CoreMainMenuHomePage_core_empty_box_12_Template(e,t){1&e&&(n.zc(0,\"core-empty-box\",8),n.Pc(1,\"translate\")),2&e&&n.Vc(\"message\",n.Qc(1,1,\"core.courses.nocourses\"))}function CoreMainMenuHomePage_core_tabs_outlet_13_Template(e,t){if(1&e){const e=n.Fc();n.Ec(0,\"core-tabs-outlet\",9),n.Mc(\"ionChange\",(function CoreMainMenuHomePage_core_tabs_outlet_13_Template_core_tabs_outlet_ionChange_0_listener(){n.fd(e);return n.Oc().tabSelected()})),n.Dc()}if(2&e){const e=n.Oc();n.Vc(\"hideUntil\",e.loaded)(\"tabs\",e.tabs)}}let f=(()=>{class CoreMainMenuHomePage{constructor(){this.siteName=\"\",this.tabs=[],this.loaded=!1}ngOnInit(){this.deepLinkManager=new M.a,this.loadSiteName(),this.subscription=u.a.getHandlersObservable().subscribe((e=>{e&&this.initHandlers(e)})),this.updateSiteObserver=s.b.on(s.b.SITE_UPDATED,(()=>{this.loadSiteName()}),c.b.getCurrentSiteId())}initHandlers(e){const t=u.a.areHandlersLoaded(),o=d.a.arrayToObject(e,\"title\"),n=e.map((e=>{const t=this.tabs.find((t=>t.title==e.title));return t||{page:`/main/${m.b.PAGE_NAME}/${e.page}`,pageParams:e.pageParams,title:e.title,class:e.class,icon:e.icon,badge:e.badge}}));n.sort(((e,t)=>(o[t.title].priority||0)-(o[e.title].priority||0))),this.tabs=n,setTimeout((()=>{this.loaded=t}),50)}loadSiteName(){this.siteName=c.b.getRequiredCurrentSite().getSiteName()||\"\"}tabSelected(){var e;null===(e=this.deepLinkManager)||void 0===e?void 0:e.treatLink()}ionViewDidEnter(){var e;null===(e=this.tabsComponent)||void 0===e?void 0:e.ionViewDidEnter()}ionViewDidLeave(){var e;null===(e=this.tabsComponent)||void 0===e?void 0:e.ionViewDidLeave()}}return CoreMainMenuHomePage.ɵfac=function CoreMainMenuHomePage_Factory(e){return new(e||CoreMainMenuHomePage)},CoreMainMenuHomePage.ɵcmp=n.sc({type:CoreMainMenuHomePage,selectors:[[\"page-core-mainmenu-home\"]],viewQuery:function CoreMainMenuHomePage_Query(e,t){var o;(1&e&&n.ud(l.a,!0),2&e)&&(n.dd(o=n.Nc())&&(t.tabsComponent=o.first))},decls:14,vars:9,consts:[[\"slot\",\"start\"],[3,\"text\"],[\"contextLevel\",\"system\",1,\"core-header-sitename\",3,\"text\",\"contextInstanceId\"],[\"src\",\"assets/img/top_logo.png\",1,\"core-header-logo\",3,\"alt\"],[\"slot\",\"end\"],[3,\"hideUntil\"],[\"icon\",\"fas-home\",3,\"message\",4,\"ngIf\"],[3,\"hideUntil\",\"tabs\",\"ionChange\",4,\"ngIf\"],[\"icon\",\"fas-home\",3,\"message\"],[3,\"hideUntil\",\"tabs\",\"ionChange\"]],template:function CoreMainMenuHomePage_Template(e,t){1&e&&(n.Ec(0,\"ion-header\"),n.Ec(1,\"ion-toolbar\"),n.Ec(2,\"ion-buttons\",0),n.zc(3,\"ion-back-button\",1),n.Pc(4,\"translate\"),n.Dc(),n.Ec(5,\"ion-title\"),n.Ec(6,\"h1\"),n.zc(7,\"core-format-text\",2),n.zc(8,\"img\",3),n.Dc(),n.Dc(),n.Ec(9,\"ion-buttons\",4),n.zc(10,\"core-user-menu-button\"),n.Dc(),n.Dc(),n.Dc(),n.Ec(11,\"core-loading\",5),n.nd(12,CoreMainMenuHomePage_core_empty_box_12_Template,2,3,\"core-empty-box\",6),n.Dc(),n.nd(13,CoreMainMenuHomePage_core_tabs_outlet_13_Template,1,2,\"core-tabs-outlet\",7)),2&e&&(n.lc(3),n.Vc(\"text\",n.Qc(4,7,\"core.back\")),n.lc(4),n.Vc(\"text\",t.siteName)(\"contextInstanceId\",0),n.lc(1),n.Vc(\"alt\",t.siteName),n.lc(3),n.Vc(\"hideUntil\",t.loaded),n.lc(1),n.Vc(\"ngIf\",0==t.tabs.length),n.lc(1),n.Vc(\"ngIf\",t.tabs.length>0))},directives:[b.C,b.Ab,b.m,b.h,b.i,b.yb,g.a,p.a,h.a,_.t,C.a,l.a],pipes:[P.d],encapsulation:2}),CoreMainMenuHomePage})();var H=o(\"Rqnc\"),v=o(\"wG2S\"),y=o(\"dQ3M\");function buildRoutes(e){const t=Object(i.d)(e,H.b);return[...Object(v.b)(e,{path:\"\",data:{mainMenuTabRoot:m.b.PAGE_NAME},component:f,children:t.children}),...t.siblings]}let E=(()=>{class CoreMainMenuHomePageModule{}return CoreMainMenuHomePageModule.ɵmod=n.wc({type:CoreMainMenuHomePageModule}),CoreMainMenuHomePageModule.ɵinj=n.vc({factory:function CoreMainMenuHomePageModule_Factory(e){return new(e||CoreMainMenuHomePageModule)},providers:[{provide:a.g,multi:!0,useFactory:buildRoutes,deps:[n.x]}],imports:[[r.a,y.a],a.m]}),CoreMainMenuHomePageModule})();void((\"undefined\"==typeof ngJitMode||ngJitMode)&&n.kd(E,{declarations:[f],imports:[r.a,y.a],exports:[a.m]}))}}]);","name":"110.1dbe208d9dfd67497e10.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[110],{\n\n/***/ \"+hPx\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"CoreMainMenuHomePageModule\", function() { return /* binding */ home_module_CoreMainMenuHomePageModule; });\n\n// EXTERNAL MODULE: ./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js\nvar core = __webpack_require__(\"fXoL\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/router/__ivy_ngcc__/fesm2015/router.js + 10 modules\nvar router = __webpack_require__(\"tyNb\");\n\n// EXTERNAL MODULE: ./src/app/app-routing.module.ts\nvar app_routing_module = __webpack_require__(\"vY5A\");\n\n// EXTERNAL MODULE: ./src/core/shared.module.ts + 3 modules\nvar shared_module = __webpack_require__(\"L3Fv\");\n\n// EXTERNAL MODULE: ./src/core/services/sites.ts\nvar sites = __webpack_require__(\"9+EE\");\n\n// EXTERNAL MODULE: ./src/core/singletons/events.ts\nvar events = __webpack_require__(\"fjkH\");\n\n// EXTERNAL MODULE: ./src/core/components/tabs-outlet/tabs-outlet.ts\nvar tabs_outlet = __webpack_require__(\"NhJP\");\n\n// EXTERNAL MODULE: ./src/core/features/mainmenu/services/home-delegate.ts\nvar home_delegate = __webpack_require__(\"TkC7\");\n\n// EXTERNAL MODULE: ./src/core/services/utils/utils.ts\nvar utils = __webpack_require__(\"bFG1\");\n\n// EXTERNAL MODULE: ./src/core/features/mainmenu/services/handlers/mainmenu.ts\nvar mainmenu = __webpack_require__(\"u7qe\");\n\n// EXTERNAL MODULE: ./src/core/features/mainmenu/classes/deep-link-manager.ts\nvar deep_link_manager = __webpack_require__(\"YyYz\");\n\n// EXTERNAL MODULE: ./node_modules/@ionic/angular/__ivy_ngcc__/fesm2015/ionic-angular.js + 5 modules\nvar ionic_angular = __webpack_require__(\"TEn/\");\n\n// EXTERNAL MODULE: ./src/core/directives/format-text.ts\nvar format_text = __webpack_require__(\"hMzs\");\n\n// EXTERNAL MODULE: ./src/core/features/mainmenu/components/user-menu-button/user-menu-button.ts\nvar user_menu_button = __webpack_require__(\"C1x5\");\n\n// EXTERNAL MODULE: ./src/core/components/loading/loading.ts\nvar loading = __webpack_require__(\"PgjG\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/common/__ivy_ngcc__/fesm2015/common.js\nvar common = __webpack_require__(\"ofXK\");\n\n// EXTERNAL MODULE: ./src/core/components/empty-box/empty-box.ts\nvar empty_box = __webpack_require__(\"r8G5\");\n\n// EXTERNAL MODULE: ./node_modules/@ngx-translate/core/__ivy_ngcc__/fesm2015/ngx-translate-core.js + 8 modules\nvar ngx_translate_core = __webpack_require__(\"sYmb\");\n\n// CONCATENATED MODULE: ./src/core/features/mainmenu/pages/home/home.ts\n// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction CoreMainMenuHomePage_core_empty_box_12_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"zc\" /* ɵɵelement */](0, \"core-empty-box\", 8);\n        core[\"Pc\" /* ɵɵpipe */](1, \"translate\");\n    }\n    if (rf & 2) {\n        core[\"Vc\" /* ɵɵproperty */](\"message\", core[\"Qc\" /* ɵɵpipeBind1 */](1, 1, \"core.courses.nocourses\"));\n    }\n}\nfunction CoreMainMenuHomePage_core_tabs_outlet_13_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r3 = core[\"Fc\" /* ɵɵgetCurrentView */]();\n        core[\"Ec\" /* ɵɵelementStart */](0, \"core-tabs-outlet\", 9);\n        core[\"Mc\" /* ɵɵlistener */](\"ionChange\", function CoreMainMenuHomePage_core_tabs_outlet_13_Template_core_tabs_outlet_ionChange_0_listener() { core[\"fd\" /* ɵɵrestoreView */](_r3); const ctx_r2 = core[\"Oc\" /* ɵɵnextContext */](); return ctx_r2.tabSelected(); });\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r1 = core[\"Oc\" /* ɵɵnextContext */]();\n        core[\"Vc\" /* ɵɵproperty */](\"hideUntil\", ctx_r1.loaded)(\"tabs\", ctx_r1.tabs);\n    }\n}\n/**\n * Page that displays the Home.\n */\nlet home_CoreMainMenuHomePage = /*@__PURE__*/ (() => {\n    class CoreMainMenuHomePage {\n        constructor() {\n            this.siteName = '';\n            this.tabs = [];\n            this.loaded = false;\n        }\n        /**\n         * @inheritdoc\n         */\n        ngOnInit() {\n            this.deepLinkManager = new deep_link_manager[\"a\" /* CoreMainMenuDeepLinkManager */]();\n            this.loadSiteName();\n            this.subscription = home_delegate[\"a\" /* CoreMainMenuHomeDelegate */].getHandlersObservable().subscribe((handlers) => {\n                handlers && this.initHandlers(handlers);\n            });\n            // Refresh the enabled flags if site is updated.\n            this.updateSiteObserver = events[\"b\" /* CoreEvents */].on(events[\"b\" /* CoreEvents */].SITE_UPDATED, () => {\n                this.loadSiteName();\n            }, sites[\"b\" /* CoreSites */].getCurrentSiteId());\n        }\n        /**\n         * Init handlers on change (size or handlers).\n         */\n        initHandlers(handlers) {\n            // Re-build the list of tabs.\n            const loaded = home_delegate[\"a\" /* CoreMainMenuHomeDelegate */].areHandlersLoaded();\n            const handlersMap = utils[\"a\" /* CoreUtils */].arrayToObject(handlers, 'title');\n            const newTabs = handlers.map((handler) => {\n                const tab = this.tabs.find(tab => tab.title == handler.title);\n                // If a handler is already in the list, use existing object to prevent re-creating the tab.\n                if (tab) {\n                    return tab;\n                }\n                return {\n                    page: `/main/${mainmenu[\"b\" /* CoreMainMenuHomeHandlerService */].PAGE_NAME}/${handler.page}`,\n                    pageParams: handler.pageParams,\n                    title: handler.title,\n                    class: handler.class,\n                    icon: handler.icon,\n                    badge: handler.badge,\n                };\n            });\n            // Sort them by priority so new handlers are in the right position.\n            newTabs.sort((a, b) => (handlersMap[b.title].priority || 0) - (handlersMap[a.title].priority || 0));\n            this.tabs = newTabs;\n            // Try to prevent empty box displayed for an instant when it shouldn't.\n            setTimeout(() => {\n                this.loaded = loaded;\n            }, 50);\n        }\n        /**\n         * Load the site name.\n         */\n        loadSiteName() {\n            this.siteName = sites[\"b\" /* CoreSites */].getRequiredCurrentSite().getSiteName() || '';\n        }\n        /**\n         * Tab was selected.\n         */\n        tabSelected() {\n            var _a;\n            (_a = this.deepLinkManager) === null || _a === void 0 ? void 0 : _a.treatLink();\n        }\n        /**\n         * User entered the page.\n         */\n        ionViewDidEnter() {\n            var _a;\n            (_a = this.tabsComponent) === null || _a === void 0 ? void 0 : _a.ionViewDidEnter();\n        }\n        /**\n         * User left the page.\n         */\n        ionViewDidLeave() {\n            var _a;\n            (_a = this.tabsComponent) === null || _a === void 0 ? void 0 : _a.ionViewDidLeave();\n        }\n    }\n    CoreMainMenuHomePage.ɵfac = function CoreMainMenuHomePage_Factory(t) { return new (t || CoreMainMenuHomePage)(); };\n    CoreMainMenuHomePage.ɵcmp = core[\"sc\" /* ɵɵdefineComponent */]({ type: CoreMainMenuHomePage, selectors: [[\"page-core-mainmenu-home\"]], viewQuery: function CoreMainMenuHomePage_Query(rf, ctx) {\n            if (rf & 1) {\n                core[\"ud\" /* ɵɵviewQuery */](tabs_outlet[\"a\" /* CoreTabsOutletComponent */], true);\n            }\n            if (rf & 2) {\n                var _t;\n                core[\"dd\" /* ɵɵqueryRefresh */](_t = core[\"Nc\" /* ɵɵloadQuery */]()) && (ctx.tabsComponent = _t.first);\n            }\n        }, decls: 14, vars: 9, consts: [[\"slot\", \"start\"], [3, \"text\"], [\"contextLevel\", \"system\", 1, \"core-header-sitename\", 3, \"text\", \"contextInstanceId\"], [\"src\", \"assets/img/top_logo.png\", 1, \"core-header-logo\", 3, \"alt\"], [\"slot\", \"end\"], [3, \"hideUntil\"], [\"icon\", \"fas-home\", 3, \"message\", 4, \"ngIf\"], [3, \"hideUntil\", \"tabs\", \"ionChange\", 4, \"ngIf\"], [\"icon\", \"fas-home\", 3, \"message\"], [3, \"hideUntil\", \"tabs\", \"ionChange\"]], template: function CoreMainMenuHomePage_Template(rf, ctx) {\n            if (rf & 1) {\n                core[\"Ec\" /* ɵɵelementStart */](0, \"ion-header\");\n                core[\"Ec\" /* ɵɵelementStart */](1, \"ion-toolbar\");\n                core[\"Ec\" /* ɵɵelementStart */](2, \"ion-buttons\", 0);\n                core[\"zc\" /* ɵɵelement */](3, \"ion-back-button\", 1);\n                core[\"Pc\" /* ɵɵpipe */](4, \"translate\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](5, \"ion-title\");\n                core[\"Ec\" /* ɵɵelementStart */](6, \"h1\");\n                core[\"zc\" /* ɵɵelement */](7, \"core-format-text\", 2);\n                core[\"zc\" /* ɵɵelement */](8, \"img\", 3);\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](9, \"ion-buttons\", 4);\n                core[\"zc\" /* ɵɵelement */](10, \"core-user-menu-button\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](11, \"core-loading\", 5);\n                core[\"nd\" /* ɵɵtemplate */](12, CoreMainMenuHomePage_core_empty_box_12_Template, 2, 3, \"core-empty-box\", 6);\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"nd\" /* ɵɵtemplate */](13, CoreMainMenuHomePage_core_tabs_outlet_13_Template, 1, 2, \"core-tabs-outlet\", 7);\n            }\n            if (rf & 2) {\n                core[\"lc\" /* ɵɵadvance */](3);\n                core[\"Vc\" /* ɵɵproperty */](\"text\", core[\"Qc\" /* ɵɵpipeBind1 */](4, 7, \"core.back\"));\n                core[\"lc\" /* ɵɵadvance */](4);\n                core[\"Vc\" /* ɵɵproperty */](\"text\", ctx.siteName)(\"contextInstanceId\", 0);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"alt\", ctx.siteName);\n                core[\"lc\" /* ɵɵadvance */](3);\n                core[\"Vc\" /* ɵɵproperty */](\"hideUntil\", ctx.loaded);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx.tabs.length == 0);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx.tabs.length > 0);\n            }\n        }, directives: [ionic_angular[\"C\" /* IonHeader */], ionic_angular[\"Ab\" /* IonToolbar */], ionic_angular[\"m\" /* IonButtons */], ionic_angular[\"h\" /* IonBackButton */], ionic_angular[\"i\" /* IonBackButtonDelegate */], ionic_angular[\"yb\" /* IonTitle */], format_text[\"a\" /* CoreFormatTextDirective */], user_menu_button[\"a\" /* CoreMainMenuUserButtonComponent */], loading[\"a\" /* CoreLoadingComponent */], common[\"t\" /* NgIf */], empty_box[\"a\" /* CoreEmptyBoxComponent */], tabs_outlet[\"a\" /* CoreTabsOutletComponent */]], pipes: [ngx_translate_core[\"d\" /* TranslatePipe */]], encapsulation: 2 });\n    return CoreMainMenuHomePage;\n})();\n\n// EXTERNAL MODULE: ./src/core/features/mainmenu/pages/home/home-routing.module.ts\nvar home_routing_module = __webpack_require__(\"Rqnc\");\n\n// EXTERNAL MODULE: ./src/core/features/mainmenu/mainmenu-tab-routing.module.ts\nvar mainmenu_tab_routing_module = __webpack_require__(\"wG2S\");\n\n// EXTERNAL MODULE: ./src/core/features/mainmenu/components/components.module.ts\nvar components_module = __webpack_require__(\"dQ3M\");\n\n// CONCATENATED MODULE: ./src/core/features/mainmenu/pages/home/home.module.ts\n// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n\n\n\n\n\n\nfunction buildRoutes(injector) {\n    const routes = Object(app_routing_module[\"d\" /* resolveModuleRoutes */])(injector, home_routing_module[\"b\" /* MAIN_MENU_HOME_ROUTES */]);\n    return [\n        ...Object(mainmenu_tab_routing_module[\"b\" /* buildTabMainRoutes */])(injector, {\n            path: '',\n            data: {\n                mainMenuTabRoot: mainmenu[\"b\" /* CoreMainMenuHomeHandlerService */].PAGE_NAME,\n            },\n            component: home_CoreMainMenuHomePage,\n            children: routes.children,\n        }),\n        ...routes.siblings,\n    ];\n}\nlet home_module_CoreMainMenuHomePageModule = /*@__PURE__*/ (() => {\n    class CoreMainMenuHomePageModule {\n    }\n    CoreMainMenuHomePageModule.ɵmod = core[\"wc\" /* ɵɵdefineNgModule */]({ type: CoreMainMenuHomePageModule });\n    CoreMainMenuHomePageModule.ɵinj = core[\"vc\" /* ɵɵdefineInjector */]({ factory: function CoreMainMenuHomePageModule_Factory(t) { return new (t || CoreMainMenuHomePageModule)(); }, providers: [\n            { provide: router[\"g\" /* ROUTES */], multi: true, useFactory: buildRoutes, deps: [core[\"x\" /* Injector */]] },\n        ], imports: [[\n                shared_module[\"a\" /* CoreSharedModule */],\n                components_module[\"a\" /* CoreMainMenuComponentsModule */],\n            ], router[\"m\" /* RouterModule */]] });\n    return CoreMainMenuHomePageModule;\n})();\n(function () {\n    (typeof ngJitMode === \"undefined\" || ngJitMode) && core[\"kd\" /* ɵɵsetNgModuleScope */](home_module_CoreMainMenuHomePageModule, { declarations: [home_CoreMainMenuHomePage], imports: [shared_module[\"a\" /* CoreSharedModule */],\n            components_module[\"a\" /* CoreMainMenuComponentsModule */]], exports: [router[\"m\" /* RouterModule */]] });\n})();\n\n\n/***/ })\n\n}]);","inputSourceMap":null}