{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{u5Wa:function(i,t,e){\"use strict\";e.r(t),e.d(t,\"AddonModWikiLazyModule\",(function(){return $i}));var o=e(\"tyNb\"),a=e(\"L3Fv\"),d=e(\"QowF\"),n=e(\"9Hu0\"),s=e(\"ekpb\"),r=e(\"MLi9\"),c=e(\"mrSG\"),l=e(\"93ts\"),h=e(\"ULAo\"),u=e(\"pHTc\"),g=e(\"9+EE\"),I=e(\"uT8i\"),m=e(\"3LXp\"),p=e(\"vuGA\"),k=e(\"bFG1\"),b=e(\"j3ag\"),w=e(\"fjkH\"),f=e(\"4reR\"),E=e(\"IfL8\"),P=e(\"JZ+O\"),v=e(\"NH8Q\"),y=e(\"fXoL\"),_=e(\"3Pt+\"),M=e(\"TEn/\"),A=e(\"hMzs\"),D=e(\"ACYt\"),L=e(\"nt/U\"),T=e(\"PgjG\"),C=e(\"ofXK\"),x=e(\"N5Lt\"),F=e(\"sYmb\");const O=[\"editPageForm\"];function AddonModWikiEditPage_form_14_ion_item_2_Template(i,t){1&i&&(y.Ec(0,\"ion-item\",13),y.Ec(1,\"ion-label\",10),y.pd(2),y.Pc(3,\"translate\"),y.Dc(),y.zc(4,\"ion-input\",14),y.Pc(5,\"translate\"),y.Dc()),2&i&&(y.lc(2),y.qd(y.Qc(3,2,\"addon.mod_wiki.newpagetitle\")),y.lc(2),y.Vc(\"placeholder\",y.Qc(5,4,\"addon.mod_wiki.newpagetitle\")))}function AddonModWikiEditPage_form_14_ion_item_9_Template(i,t){1&i&&(y.Ec(0,\"ion-item\",15),y.Ec(1,\"ion-label\"),y.Ec(2,\"ion-badge\",16),y.pd(3),y.Pc(4,\"translate\"),y.Dc(),y.Dc(),y.Dc()),2&i&&(y.lc(3),y.qd(y.Qc(4,1,\"addon.mod_wiki.wrongversionlock\")))}function AddonModWikiEditPage_form_14_Template(i,t){if(1&i&&(y.Ec(0,\"form\",7,8),y.nd(2,AddonModWikiEditPage_form_14_ion_item_2_Template,6,6,\"ion-item\",9),y.Ec(3,\"ion-item\"),y.Ec(4,\"ion-label\",10),y.pd(5),y.Pc(6,\"translate\"),y.Dc(),y.zc(7,\"core-rich-text-editor\",11),y.Pc(8,\"translate\"),y.Dc(),y.nd(9,AddonModWikiEditPage_form_14_ion_item_9_Template,5,3,\"ion-item\",12),y.Dc()),2&i){const i=y.Oc();y.Vc(\"formGroup\",i.pageForm),y.lc(2),y.Vc(\"ngIf\",i.canEditTitle),y.lc(3),y.qd(y.Qc(6,11,\"core.content\")),y.lc(2),y.Vc(\"control\",i.contentControl)(\"placeholder\",y.Qc(8,13,\"core.content\"))(\"component\",i.component)(\"componentId\",i.cmId)(\"autoSave\",!0)(\"contextInstanceId\",i.cmId)(\"draftExtraParams\",i.editorExtraParams),y.lc(2),y.Vc(\"ngIf\",i.wrongVersionLock)}}let W=(()=>{class AddonModWikiEditPage{constructor(i){this.formBuilder=i,this.canEditTitle=!1,this.loaded=!1,this.component=E.b.COMPONENT,this.wrongVersionLock=!1,this.editorExtraParams={},this.editing=!1,this.editOffline=!1,this.subwikiFiles=[],this.forceLeave=!1,this.isDestroyed=!1}ngOnInit(){return Object(c.a)(this,void 0,void 0,(function*(){this.cmId=u.a.getRouteNumberParam(\"cmId\")||void 0,this.courseId=u.a.getRouteNumberParam(\"courseId\")||void 0,this.subwikiId=u.a.getRouteNumberParam(\"subwikiId\"),this.wikiId=u.a.getRouteNumberParam(\"wikiId\"),this.pageId=u.a.getRouteNumberParam(\"pageId\"),this.section=u.a.getRouteParam(\"section\"),this.groupId=u.a.getRouteNumberParam(\"groupId\"),this.userId=u.a.getRouteNumberParam(\"userId\");let i=u.a.getRouteParam(\"pageTitle\");i=i?i.replace(/\\+/g,\" \"):\"\",this.canEditTitle=!i,this.title=i?b.J.instant(\"addon.mod_wiki.editingpage\",{$a:i}):b.J.instant(\"addon.mod_wiki.newpagehdr\"),this.blockId=v.a.getSubwikiBlockId(this.subwikiId,this.wikiId,this.userId,this.groupId),this.contentControl=this.formBuilder.control(\"\"),this.pageForm=this.formBuilder.group({title:i}),this.pageForm.addControl(\"text\",this.contentControl),I.a.blockOperation(this.component,this.blockId),this.pageId?(this.editorExtraParams.pageid=this.pageId,this.section&&(this.editorExtraParams.section=this.section)):i&&(this.editorExtraParams.pagetitle=i);try{if((yield this.fetchWikiPageData())&&!this.isDestroyed){const i=v.a.getSubwikiBlockId(this.subwikiId,this.wikiId,this.userId,this.groupId);i!=this.blockId&&(I.a.unblockOperation(this.component,this.blockId),this.blockId=i,I.a.blockOperation(this.component,this.blockId))}}finally{this.loaded=!0}}))}fetchWikiPageData(){return Object(c.a)(this,void 0,void 0,(function*(){let i=!1,t=!1;try{const e=yield v.a.waitForSync(this.blockId);if(this.pageId){this.canEditTitle=!1,this.editing=!0,this.editOffline=!1;const t=yield E.a.getPageContents(this.pageId,{cmId:this.cmId});this.pageForm.controls.title.setValue(t.title),this.wikiId=t.wikiid,this.subwikiId=t.subwikiid,this.title=b.J.instant(\"addon.mod_wiki.editingpage\",{$a:t.title}),this.groupId=t.groupid,this.userId=t.userid,i=t.caneditpage,yield this.fetchModuleAndCourseId(),this.subwikiFiles=yield E.a.getSubwikiFiles(this.wikiId,{groupId:this.groupId,userId:this.userId,cmId:this.cmId});const e=yield E.a.getPageForEditing(this.pageId,this.section),o=p.a.replacePluginfileUrls(e.content||\"\",this.subwikiFiles);this.contentControl.setValue(o),this.originalContent=o,this.version=e.version,i&&(this.renewLockInterval=window.setInterval((()=>{this.renewLock()}),E.b.RENEW_LOCK_TIME))}else{const t=this.pageForm.controls.title.value;if(this.editing=!1,i=!!this.blockId,yield this.fetchModuleAndCourseId(),!this.wikiId&&this.cmId&&this.courseId){const i=yield h.a.getModule(this.cmId,this.courseId,void 0,!0);this.wikiId=i.instance}if(t){if(e){const i=e.created.find((i=>i.title==t));if(i&&i.pageId>0)return this.pageId=i.pageId,this.fetchWikiPageData()}const i=yield k.a.ignoreErrors(P.a.getNewPage(t,this.subwikiId,this.wikiId,this.userId,this.groupId));i?(this.contentControl.setValue(i.cachedcontent),this.originalContent=i.cachedcontent,this.editOffline=!0):this.editOffline=!1}else this.editOffline=!1}return!0}catch(i){return m.a.showErrorModalDefault(i,\"Error getting wiki data.\"),t=!0,this.forceLeavePage(),!1}finally{i||t||(m.a.showAlert(b.J.instant(\"core.notice\"),b.J.instant(\"addon.mod_wiki.cannoteditpage\")),this.forceLeavePage())}}))}fetchModuleAndCourseId(){return Object(c.a)(this,void 0,void 0,(function*(){if(!this.wikiId||this.cmId&&this.courseId)return;const i=yield h.a.getModuleBasicInfoByInstance(this.wikiId,\"wiki\",{readingStrategy:1});this.cmId=i.id,this.courseId=i.course}))}forceLeavePage(){this.forceLeave=!0,u.a.back()}goToPage(i){E.a.setEditedPageData({cmId:this.cmId,courseId:this.courseId,pageId:this.pageId,pageTitle:i,wikiId:this.wikiId,subwikiId:this.subwikiId,userId:this.userId,groupId:this.groupId}),this.forceLeavePage()}hasDataChanged(){const i=this.pageForm.value;return!(this.originalContent==i.text||!this.editing&&!i.text&&!i.title)}canLeave(){return Object(c.a)(this,void 0,void 0,(function*(){return this.forceLeave||(this.hasDataChanged()&&(yield m.a.showConfirm(b.J.instant(\"core.confirmcanceledit\"))),f.a.triggerFormCancelledEvent(this.formElement,g.b.getCurrentSiteId())),!0}))}ionViewDidLeave(){setTimeout((()=>{E.a.consumeEditedPageData()}),200)}save(){return Object(c.a)(this,void 0,void 0,(function*(){const i=this.pageForm.value,t=i.title;let e=i.text;const o=yield m.a.showModalLoading(\"core.sending\",!0);e=p.a.restorePluginfileUrls(e,this.subwikiFiles),e=p.a.formatHtmlLines(e);try{if(this.editing)return yield E.a.editPage(this.pageId,e,this.section),f.a.triggerFormSubmittedEvent(this.formElement,!0,g.b.getCurrentSiteId()),yield E.a.invalidatePage(this.pageId),this.goToPage(t);if(!t)return o.dismiss(),m.a.showAlert(b.J.instant(\"core.notice\"),b.J.instant(\"addon.mod_wiki.titleshouldnotbeempty\")),void 0;if(!this.editOffline){if(yield k.a.ignoreErrors(P.a.getNewPage(t,this.subwikiId,this.wikiId,this.userId,this.groupId)))throw new l.a(b.J.instant(\"addon.mod_wiki.pageexists\"))}const i=yield E.a.newPage(t,e,{subwikiId:this.subwikiId,wikiId:this.wikiId,userId:this.userId,groupId:this.groupId,cmId:this.cmId});if(f.a.triggerFormSubmittedEvent(this.formElement,i>0,g.b.getCurrentSiteId()),i<=0)return this.goToPage(t);w.b.trigger(w.b.ACTIVITY_DATA_SENT,{module:\"wiki\"}),this.pageId=i;const a=yield E.a.getPageContents(this.pageId,{cmId:this.cmId}),d=[];this.wikiId=a.wikiid,d.push(E.a.invalidateSubwikiPages(this.wikiId)),this.subwikiId||d.push(E.a.invalidateSubwikis(this.wikiId)),this.subwikiId=a.subwikiid,this.userId=a.userid,this.groupId=a.groupid,yield k.a.ignoreErrors(Promise.all(d)),w.b.trigger(E.b.PAGE_CREATED_EVENT,{pageId:this.pageId,subwikiId:this.subwikiId,pageTitle:t},g.b.getCurrentSiteId()),this.goToPage(t)}catch(i){m.a.showErrorModalDefault(i,\"Error saving wiki data.\")}finally{o.dismiss()}}))}renewLock(){return Object(c.a)(this,void 0,void 0,(function*(){const i=yield E.a.getPageForEditing(this.pageId,this.section,!0);i.version&&this.version!=i.version&&(this.wrongVersionLock=!0)}))}ngOnDestroy(){this.isDestroyed=!0,clearInterval(this.renewLockInterval),this.blockId&&I.a.unblockOperation(this.component,this.blockId)}}return AddonModWikiEditPage.ɵfac=function AddonModWikiEditPage_Factory(i){return new(i||AddonModWikiEditPage)(y.yc(_.f))},AddonModWikiEditPage.ɵcmp=y.sc({type:AddonModWikiEditPage,selectors:[[\"page-addon-mod-wiki-edit\"]],viewQuery:function AddonModWikiEditPage_Query(i,t){var e;(1&i&&y.ud(O,!0),2&i)&&(y.dd(e=y.Nc())&&(t.formElement=e.first))},decls:15,vars:11,consts:[[\"slot\",\"start\"],[3,\"text\"],[\"contextLevel\",\"module\",3,\"text\",\"contextInstanceId\",\"courseId\"],[\"slot\",\"end\"],[\"fill\",\"clear\",3,\"click\"],[3,\"hideUntil\"],[3,\"formGroup\",4,\"ngIf\"],[3,\"formGroup\"],[\"editPageForm\",\"\"],[\"class\",\"ion-text-wrap\",4,\"ngIf\"],[1,\"sr-only\"],[\"name\",\"wiki_page_content\",\"contextLevel\",\"module\",\"elementId\",\"newcontent_editor\",3,\"control\",\"placeholder\",\"component\",\"componentId\",\"autoSave\",\"contextInstanceId\",\"draftExtraParams\"],[\"class\",\"ion-text-center addon-mod_wiki-wrongversionlock\",4,\"ngIf\"],[1,\"ion-text-wrap\"],[\"name\",\"title\",\"type\",\"text\",\"formControlName\",\"title\",3,\"placeholder\"],[1,\"ion-text-center\",\"addon-mod_wiki-wrongversionlock\"],[\"color\",\"danger\",1,\"ion-padding\"]],template:function AddonModWikiEditPage_Template(i,t){1&i&&(y.Ec(0,\"ion-header\"),y.Ec(1,\"ion-toolbar\"),y.Ec(2,\"ion-buttons\",0),y.zc(3,\"ion-back-button\",1),y.Pc(4,\"translate\"),y.Dc(),y.Ec(5,\"ion-title\"),y.Ec(6,\"h1\"),y.zc(7,\"core-format-text\",2),y.Dc(),y.Dc(),y.Ec(8,\"ion-buttons\",3),y.Ec(9,\"ion-button\",4),y.Mc(\"click\",(function AddonModWikiEditPage_Template_ion_button_click_9_listener(){return t.save()})),y.pd(10),y.Pc(11,\"translate\"),y.Dc(),y.Dc(),y.Dc(),y.Dc(),y.Ec(12,\"ion-content\"),y.Ec(13,\"core-loading\",5),y.nd(14,AddonModWikiEditPage_form_14_Template,10,15,\"form\",6),y.Dc(),y.Dc()),2&i&&(y.lc(3),y.Vc(\"text\",y.Qc(4,7,\"core.back\")),y.lc(4),y.Vc(\"text\",t.title)(\"contextInstanceId\",t.cmId)(\"courseId\",t.courseId),y.lc(3),y.rd(\" \",y.Qc(11,9,\"core.save\"),\" \"),y.lc(3),y.Vc(\"hideUntil\",t.loaded),y.lc(1),y.Vc(\"ngIf\",t.loaded))},directives:[M.C,M.Ab,M.m,M.h,M.i,M.yb,A.a,D.a,M.l,L.a,M.v,T.a,C.t,_.H,_.s,_.k,M.I,M.O,x.a,M.H,M.Pb,_.r,_.i,M.k],pipes:[F.d],encapsulation:2}),AddonModWikiEditPage})();var N=e(\"M9y5\"),J=e(\"aEIl\"),S=e(\"3zv0\"),z=e(\"Lmwl\"),V=e(\"4qNr\"),j=e(\"fQ68\"),Q=e(\"8/N+\"),R=e(\"0QZc\"),H=e(\"uHIS\"),G=e(\"w+Pn\"),q=e(\"r8G5\"),B=e(\"5450\"),K=e(\"W5pS\"),U=e(\"WPIK\"),Y=e(\"p+Qc\"),X=e(\"qNqN\"),Z=e(\"xpMl\"),$=e(\"FTxb\"),ii=e(\"/K1O\"),ti=e(\"FasJ\"),ei=e(\"9pYf\"),oi=e(\"eAud\"),ai=e(\"ACV2\"),di=e(\"/BoF\"),ni=e(\"TKc2\"),si=e(\"whRm\"),ri=e(\"O4u7\"),ci=e(\"lqoc\"),li=e(\"3lz8\"),hi=e(\"46ml\"),ui=e(\"QQhE\"),gi=e(\"MpCO\"),Ii=e(\"JYLr\"),mi=e(\"vWwc\"),pi=e(\"NhJP\"),ki=e(\"rztj\"),bi=e(\"FeAf\"),wi=e(\"rf3J\"),fi=e(\"nEkO\"),Ei=e(\"TF0o\"),Pi=e(\"p5uK\"),vi=e(\"6uVz\"),yi=e(\"d0nH\"),_i=e(\"NcPy\"),Mi=e(\"yNDK\"),Ai=e(\"3CSS\"),Di=e(\"iSJP\"),Li=e(\"iJls\"),Ti=e(\"ArDJ\"),Ci=e(\"nu3w\"),xi=e(\"saTE\"),Fi=e(\"8PoL\"),Oi=e(\"4a38\"),Wi=e(\"4JiN\"),Ni=e(\"OZH1\"),Ji=e(\"edOc\"),Si=e(\"3jOR\"),zi=e(\"6A9T\"),Vi=e(\"nKjD\"),ji=e(\"MqDN\"),Qi=e(\"IBMc\"),Ri=e(\"1iFe\"),Hi=e(\"dne1\"),Gi=e(\"Cg42\"),qi=e(\"llyR\"),Bi=e(\"uYHD\"),Ki=e(\"SspJ\"),Ui=e(\"U2xU\"),Yi=e(\"lAaw\"),Xi=e(\"1ArG\");const Zi=[{path:\":courseId/:cmId\",redirectTo:\":courseId/:cmId/page/root\"},{path:\":courseId/:cmId/page/:hash\",component:n.a},{path:\":courseId/:cmId/edit\",component:W,canDeactivate:[r.a]}];let $i=(()=>{class AddonModWikiLazyModule{}return AddonModWikiLazyModule.ɵmod=y.wc({type:AddonModWikiLazyModule}),AddonModWikiLazyModule.ɵinj=y.vc({factory:function AddonModWikiLazyModule_Factory(i){return new(i||AddonModWikiLazyModule)},imports:[[o.m.forChild(Zi),a.a,d.a,s.a]]}),AddonModWikiLazyModule})();void((\"undefined\"==typeof ngJitMode||ngJitMode)&&y.kd($i,{declarations:[n.a,W],imports:[o.m,a.a,d.a,s.a]})),y.jd(n.a,[o.n,o.j,o.l,o.k,o.p,C.q,C.r,C.s,C.t,C.A,C.w,C.x,C.y,C.z,C.u,C.v,N.a,J.a,S.a,z.a,V.a,j.a,Q.a,R.a,H.a,G.a,q.a,B.a,K.a,U.a,Y.a,X.a,Z.a,$.a,T.a,ii.a,ti.a,ei.a,oi.a,ai.a,di.a,ni.a,si.a,ri.a,ci.a,li.a,hi.a,ui.a,gi.a,Ii.a,mi.a,pi.a,ki.a,bi.a,wi.a,fi.a,Ei.a,Pi.a,vi.a,yi.a,_i.a,Mi.a,Ai.a,A.a,Di.a,Li.a,Ti.a,Ci.a,xi.a,Fi.a,Oi.a,Wi.b,Ni.a,Ji.a,Si.a,L.a,D.a,zi.a,_.H,_.w,_.G,_.c,_.x,_.A,_.a,_.D,_.E,_.z,_.r,_.s,_.C,_.o,_.n,_.y,_.b,_.d,_.u,_.v,_.t,M.f,M.g,M.h,M.j,M.k,M.l,M.m,M.n,M.o,M.p,M.q,M.r,M.s,M.t,M.u,M.v,M.w,M.x,M.y,M.z,M.A,M.B,M.C,M.D,M.E,M.F,M.G,M.H,M.I,M.J,M.K,M.L,M.M,M.N,M.O,M.P,M.Q,M.R,M.S,M.T,M.U,M.V,M.W,M.X,M.Y,M.Z,M.ab,M.bb,M.cb,M.db,M.eb,M.fb,M.hb,M.ib,M.jb,M.kb,M.lb,M.mb,M.nb,M.ob,M.pb,M.qb,M.rb,M.sb,M.tb,M.vb,M.wb,M.xb,M.zb,M.Ab,M.yb,M.ub,M.d,M.Jb,M.Mb,M.Ob,M.Pb,M.gb,M.i,M.Hb,M.Nb,M.Rb,M.Sb,M.Tb,M.Bb,_.h,_.k,_.i,_.l,_.e,F.a,Vi.a,ji.a,Qi.a,x.a,n.a,W],[C.b,C.G,C.p,C.k,C.E,C.g,C.C,C.F,C.d,C.f,C.i,C.j,C.l,Ri.a,Hi.a,Gi.a,qi.a,Bi.a,Ki.a,Ui.a,Yi.a,Xi.a,F.d])}}]);","name":"81.bc9ecaee9a4318da2625.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[81],{\n\n/***/ \"u5Wa\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"AddonModWikiLazyModule\", function() { return /* binding */ wiki_lazy_module_AddonModWikiLazyModule; });\n\n// EXTERNAL MODULE: ./node_modules/@angular/router/__ivy_ngcc__/fesm2015/router.js + 10 modules\nvar router = __webpack_require__(\"tyNb\");\n\n// EXTERNAL MODULE: ./src/core/shared.module.ts + 3 modules\nvar shared_module = __webpack_require__(\"L3Fv\");\n\n// EXTERNAL MODULE: ./src/addons/mod/wiki/components/components.module.ts\nvar components_module = __webpack_require__(\"QowF\");\n\n// EXTERNAL MODULE: ./src/addons/mod/wiki/pages/index/index.ts\nvar index = __webpack_require__(\"9Hu0\");\n\n// EXTERNAL MODULE: ./src/core/features/editor/components/components.module.ts\nvar components_components_module = __webpack_require__(\"ekpb\");\n\n// EXTERNAL MODULE: ./src/core/guards/can-leave.ts\nvar can_leave = __webpack_require__(\"MLi9\");\n\n// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.js\nvar tslib_es6 = __webpack_require__(\"mrSG\");\n\n// EXTERNAL MODULE: ./src/core/classes/errors/error.ts\nvar errors_error = __webpack_require__(\"93ts\");\n\n// EXTERNAL MODULE: ./src/core/features/course/services/course.ts\nvar course = __webpack_require__(\"ULAo\");\n\n// EXTERNAL MODULE: ./src/core/services/navigator.ts\nvar services_navigator = __webpack_require__(\"pHTc\");\n\n// EXTERNAL MODULE: ./src/core/services/sites.ts\nvar sites = __webpack_require__(\"9+EE\");\n\n// EXTERNAL MODULE: ./src/core/services/sync.ts\nvar sync = __webpack_require__(\"uT8i\");\n\n// EXTERNAL MODULE: ./src/core/services/utils/dom.ts + 2 modules\nvar dom = __webpack_require__(\"3LXp\");\n\n// EXTERNAL MODULE: ./src/core/services/utils/text.ts + 1 modules\nvar utils_text = __webpack_require__(\"vuGA\");\n\n// EXTERNAL MODULE: ./src/core/services/utils/utils.ts\nvar utils = __webpack_require__(\"bFG1\");\n\n// EXTERNAL MODULE: ./src/core/singletons/index.ts\nvar singletons = __webpack_require__(\"j3ag\");\n\n// EXTERNAL MODULE: ./src/core/singletons/events.ts\nvar events = __webpack_require__(\"fjkH\");\n\n// EXTERNAL MODULE: ./src/core/singletons/form.ts\nvar singletons_form = __webpack_require__(\"4reR\");\n\n// EXTERNAL MODULE: ./src/addons/mod/wiki/services/wiki.ts\nvar wiki = __webpack_require__(\"IfL8\");\n\n// EXTERNAL MODULE: ./src/addons/mod/wiki/services/wiki-offline.ts\nvar wiki_offline = __webpack_require__(\"JZ+O\");\n\n// EXTERNAL MODULE: ./src/addons/mod/wiki/services/wiki-sync.ts\nvar wiki_sync = __webpack_require__(\"NH8Q\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js\nvar core = __webpack_require__(\"fXoL\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/forms/__ivy_ngcc__/fesm2015/forms.js\nvar fesm2015_forms = __webpack_require__(\"3Pt+\");\n\n// EXTERNAL MODULE: ./node_modules/@ionic/angular/__ivy_ngcc__/fesm2015/ionic-angular.js + 5 modules\nvar ionic_angular = __webpack_require__(\"TEn/\");\n\n// EXTERNAL MODULE: ./src/core/directives/format-text.ts\nvar format_text = __webpack_require__(\"hMzs\");\n\n// EXTERNAL MODULE: ./src/core/directives/update-non-reactive-attributes.ts\nvar update_non_reactive_attributes = __webpack_require__(\"ACYt\");\n\n// EXTERNAL MODULE: ./src/core/directives/content.ts\nvar directives_content = __webpack_require__(\"nt/U\");\n\n// EXTERNAL MODULE: ./src/core/components/loading/loading.ts\nvar loading = __webpack_require__(\"PgjG\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/common/__ivy_ngcc__/fesm2015/common.js\nvar common = __webpack_require__(\"ofXK\");\n\n// EXTERNAL MODULE: ./src/core/features/editor/components/rich-text-editor/rich-text-editor.ts\nvar rich_text_editor = __webpack_require__(\"N5Lt\");\n\n// EXTERNAL MODULE: ./node_modules/@ngx-translate/core/__ivy_ngcc__/fesm2015/ngx-translate-core.js + 8 modules\nvar ngx_translate_core = __webpack_require__(\"sYmb\");\n\n// CONCATENATED MODULE: ./src/addons/mod/wiki/pages/edit/edit.ts\n\n// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst _c0 = [\"editPageForm\"];\nfunction AddonModWikiEditPage_form_14_ion_item_2_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-item\", 13);\n        core[\"Ec\" /* ɵɵelementStart */](1, \"ion-label\", 10);\n        core[\"pd\" /* ɵɵtext */](2);\n        core[\"Pc\" /* ɵɵpipe */](3, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"zc\" /* ɵɵelement */](4, \"ion-input\", 14);\n        core[\"Pc\" /* ɵɵpipe */](5, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](3, 2, \"addon.mod_wiki.newpagetitle\"));\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"placeholder\", core[\"Qc\" /* ɵɵpipeBind1 */](5, 4, \"addon.mod_wiki.newpagetitle\"));\n    }\n}\nfunction AddonModWikiEditPage_form_14_ion_item_9_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-item\", 15);\n        core[\"Ec\" /* ɵɵelementStart */](1, \"ion-label\");\n        core[\"Ec\" /* ɵɵelementStart */](2, \"ion-badge\", 16);\n        core[\"pd\" /* ɵɵtext */](3);\n        core[\"Pc\" /* ɵɵpipe */](4, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        core[\"lc\" /* ɵɵadvance */](3);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](4, 1, \"addon.mod_wiki.wrongversionlock\"));\n    }\n}\nfunction AddonModWikiEditPage_form_14_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"form\", 7, 8);\n        core[\"nd\" /* ɵɵtemplate */](2, AddonModWikiEditPage_form_14_ion_item_2_Template, 6, 6, \"ion-item\", 9);\n        core[\"Ec\" /* ɵɵelementStart */](3, \"ion-item\");\n        core[\"Ec\" /* ɵɵelementStart */](4, \"ion-label\", 10);\n        core[\"pd\" /* ɵɵtext */](5);\n        core[\"Pc\" /* ɵɵpipe */](6, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"zc\" /* ɵɵelement */](7, \"core-rich-text-editor\", 11);\n        core[\"Pc\" /* ɵɵpipe */](8, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"nd\" /* ɵɵtemplate */](9, AddonModWikiEditPage_form_14_ion_item_9_Template, 5, 3, \"ion-item\", 12);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r0 = core[\"Oc\" /* ɵɵnextContext */]();\n        core[\"Vc\" /* ɵɵproperty */](\"formGroup\", ctx_r0.pageForm);\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx_r0.canEditTitle);\n        core[\"lc\" /* ɵɵadvance */](3);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](6, 11, \"core.content\"));\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"control\", ctx_r0.contentControl)(\"placeholder\", core[\"Qc\" /* ɵɵpipeBind1 */](8, 13, \"core.content\"))(\"component\", ctx_r0.component)(\"componentId\", ctx_r0.cmId)(\"autoSave\", true)(\"contextInstanceId\", ctx_r0.cmId)(\"draftExtraParams\", ctx_r0.editorExtraParams);\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx_r0.wrongVersionLock);\n    }\n}\n/**\n * Page that allows adding or editing a wiki page.\n */\nlet edit_AddonModWikiEditPage = /*@__PURE__*/ (() => {\n    class AddonModWikiEditPage {\n        constructor(formBuilder) {\n            this.formBuilder = formBuilder;\n            this.canEditTitle = false; // Whether title can be edited.\n            this.loaded = false; // Whether the data has been loaded.\n            this.component = wiki[\"b\" /* AddonModWikiProvider */].COMPONENT; // Component to link the files to.\n            this.wrongVersionLock = false; // Whether the page lock doesn't match the initial one.\n            this.editorExtraParams = {};\n            this.editing = false; // Whether the user is editing a page (true) or creating a new one (false).\n            this.editOffline = false; // Whether the user is editing an offline page.\n            this.subwikiFiles = []; // List of files of the subwiki.\n            this.forceLeave = false; // To allow leaving the page without checking for changes.\n            this.isDestroyed = false; // Whether the page has been destroyed.\n        }\n        /**\n         * @inheritdoc\n         */\n        ngOnInit() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                this.cmId = services_navigator[\"a\" /* CoreNavigator */].getRouteNumberParam('cmId') || undefined;\n                this.courseId = services_navigator[\"a\" /* CoreNavigator */].getRouteNumberParam('courseId') || undefined;\n                this.subwikiId = services_navigator[\"a\" /* CoreNavigator */].getRouteNumberParam('subwikiId');\n                this.wikiId = services_navigator[\"a\" /* CoreNavigator */].getRouteNumberParam('wikiId');\n                this.pageId = services_navigator[\"a\" /* CoreNavigator */].getRouteNumberParam('pageId');\n                this.section = services_navigator[\"a\" /* CoreNavigator */].getRouteParam('section');\n                this.groupId = services_navigator[\"a\" /* CoreNavigator */].getRouteNumberParam('groupId');\n                this.userId = services_navigator[\"a\" /* CoreNavigator */].getRouteNumberParam('userId');\n                let pageTitle = services_navigator[\"a\" /* CoreNavigator */].getRouteParam('pageTitle');\n                pageTitle = pageTitle ? pageTitle.replace(/\\+/g, ' ') : '';\n                this.canEditTitle = !pageTitle;\n                this.title = pageTitle ?\n                    singletons[\"J\" /* Translate */].instant('addon.mod_wiki.editingpage', { $a: pageTitle }) :\n                    singletons[\"J\" /* Translate */].instant('addon.mod_wiki.newpagehdr');\n                this.blockId = wiki_sync[\"a\" /* AddonModWikiSync */].getSubwikiBlockId(this.subwikiId, this.wikiId, this.userId, this.groupId);\n                // Create the form group and its controls.\n                this.contentControl = this.formBuilder.control('');\n                this.pageForm = this.formBuilder.group({\n                    title: pageTitle,\n                });\n                this.pageForm.addControl('text', this.contentControl);\n                // Block the wiki so it cannot be synced.\n                sync[\"a\" /* CoreSync */].blockOperation(this.component, this.blockId);\n                if (this.pageId) {\n                    this.editorExtraParams.pageid = this.pageId;\n                    if (this.section) {\n                        this.editorExtraParams.section = this.section;\n                    }\n                }\n                else if (pageTitle) {\n                    this.editorExtraParams.pagetitle = pageTitle;\n                }\n                try {\n                    const success = yield this.fetchWikiPageData();\n                    if (success && !this.isDestroyed) {\n                        // Block the subwiki now that we have blockId for sure.\n                        const newBlockId = wiki_sync[\"a\" /* AddonModWikiSync */].getSubwikiBlockId(this.subwikiId, this.wikiId, this.userId, this.groupId);\n                        if (newBlockId != this.blockId) {\n                            sync[\"a\" /* CoreSync */].unblockOperation(this.component, this.blockId);\n                            this.blockId = newBlockId;\n                            sync[\"a\" /* CoreSync */].blockOperation(this.component, this.blockId);\n                        }\n                    }\n                }\n                finally {\n                    this.loaded = true;\n                }\n            });\n        }\n        /**\n         * Convenience function to get wiki page data.\n         *\n         * @return Promise resolved with boolean: whether it was successful.\n         */\n        fetchWikiPageData() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                let canEdit = false;\n                let fetchFailed = false;\n                try {\n                    // Wait for sync to be over (if any).\n                    const syncResult = yield wiki_sync[\"a\" /* AddonModWikiSync */].waitForSync(this.blockId);\n                    if (this.pageId) {\n                        // Editing a page that already exists.\n                        this.canEditTitle = false;\n                        this.editing = true;\n                        this.editOffline = false; // Cannot edit pages in offline.\n                        // Get page contents to obtain title and editing permission\n                        const pageContents = yield wiki[\"a\" /* AddonModWiki */].getPageContents(this.pageId, { cmId: this.cmId });\n                        this.pageForm.controls.title.setValue(pageContents.title); // Set the title in the form group.\n                        this.wikiId = pageContents.wikiid;\n                        this.subwikiId = pageContents.subwikiid;\n                        this.title = singletons[\"J\" /* Translate */].instant('addon.mod_wiki.editingpage', { $a: pageContents.title });\n                        this.groupId = pageContents.groupid;\n                        this.userId = pageContents.userid;\n                        canEdit = pageContents.caneditpage;\n                        yield this.fetchModuleAndCourseId();\n                        // Get subwiki files, needed to replace URLs for rich text editor.\n                        this.subwikiFiles = yield wiki[\"a\" /* AddonModWiki */].getSubwikiFiles(this.wikiId, {\n                            groupId: this.groupId,\n                            userId: this.userId,\n                            cmId: this.cmId,\n                        });\n                        // Get editable text of the page/section.\n                        const editContents = yield wiki[\"a\" /* AddonModWiki */].getPageForEditing(this.pageId, this.section);\n                        // Get the original page contents, treating file URLs if needed.\n                        const content = utils_text[\"a\" /* CoreTextUtils */].replacePluginfileUrls(editContents.content || '', this.subwikiFiles);\n                        this.contentControl.setValue(content);\n                        this.originalContent = content;\n                        this.version = editContents.version;\n                        if (canEdit) {\n                            // Renew the lock every certain time.\n                            this.renewLockInterval = window.setInterval(() => {\n                                this.renewLock();\n                            }, wiki[\"b\" /* AddonModWikiProvider */].RENEW_LOCK_TIME);\n                        }\n                    }\n                    else {\n                        const pageTitle = this.pageForm.controls.title.value;\n                        this.editing = false;\n                        canEdit = !!this.blockId; // If no blockId, the user cannot edit the page.\n                        yield this.fetchModuleAndCourseId();\n                        // Try to get wikiId.\n                        if (!this.wikiId && this.cmId && this.courseId) {\n                            const module = yield course[\"a\" /* CoreCourse */].getModule(this.cmId, this.courseId, undefined, true);\n                            this.wikiId = module.instance;\n                        }\n                        if (pageTitle) {\n                            // Title is set, it could be editing an offline page or creating a new page using an edit link.\n                            // First of all, verify if this page was created in the current sync.\n                            if (syncResult) {\n                                const page = syncResult.created.find((page) => page.title == pageTitle);\n                                if (page && page.pageId > 0) {\n                                    // Page was created, now it exists in the site.\n                                    this.pageId = page.pageId;\n                                    return this.fetchWikiPageData();\n                                }\n                            }\n                            // Check if there's already some offline data for this page.\n                            const page = yield utils[\"a\" /* CoreUtils */].ignoreErrors(wiki_offline[\"a\" /* AddonModWikiOffline */].getNewPage(pageTitle, this.subwikiId, this.wikiId, this.userId, this.groupId));\n                            if (page) {\n                                // Load offline content.\n                                this.contentControl.setValue(page.cachedcontent);\n                                this.originalContent = page.cachedcontent;\n                                this.editOffline = true;\n                            }\n                            else {\n                                // No offline data found.\n                                this.editOffline = false;\n                            }\n                        }\n                        else {\n                            this.editOffline = false;\n                        }\n                    }\n                    return true;\n                }\n                catch (error) {\n                    dom[\"a\" /* CoreDomUtils */].showErrorModalDefault(error, 'Error getting wiki data.');\n                    fetchFailed = true;\n                    // Go back.\n                    this.forceLeavePage();\n                    return false;\n                }\n                finally {\n                    if (!canEdit && !fetchFailed) {\n                        // Cannot edit, show alert and go back.\n                        dom[\"a\" /* CoreDomUtils */].showAlert(singletons[\"J\" /* Translate */].instant('core.notice'), singletons[\"J\" /* Translate */].instant('addon.mod_wiki.cannoteditpage'));\n                        this.forceLeavePage();\n                    }\n                }\n            });\n        }\n        /**\n         * Load cmId and courseId if they aren't set.\n         *\n         * @return Promise.\n         */\n        fetchModuleAndCourseId() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                if (!this.wikiId || (this.cmId && this.courseId)) {\n                    return;\n                }\n                const module = yield course[\"a\" /* CoreCourse */].getModuleBasicInfoByInstance(this.wikiId, 'wiki', { readingStrategy: 1 /* PREFER_CACHE */ });\n                this.cmId = module.id;\n                this.courseId = module.course;\n            });\n        }\n        /**\n         * Force leaving the page, without checking for changes.\n         */\n        forceLeavePage() {\n            this.forceLeave = true;\n            services_navigator[\"a\" /* CoreNavigator */].back();\n        }\n        /**\n         * Navigate to a page.\n         *\n         * @param title Page title.\n         */\n        goToPage(title) {\n            // Not the firstpage.\n            wiki[\"a\" /* AddonModWiki */].setEditedPageData({\n                cmId: this.cmId,\n                courseId: this.courseId,\n                pageId: this.pageId,\n                pageTitle: title,\n                wikiId: this.wikiId,\n                subwikiId: this.subwikiId,\n                userId: this.userId,\n                groupId: this.groupId,\n            });\n            this.forceLeavePage();\n        }\n        /**\n         * Check if data has changed.\n         *\n         * @return Whether data has changed.\n         */\n        hasDataChanged() {\n            const values = this.pageForm.value;\n            return !(this.originalContent == values.text || (!this.editing && !values.text && !values.title));\n        }\n        /**\n         * @inheritdoc\n         */\n        canLeave() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                if (this.forceLeave) {\n                    return true;\n                }\n                // Check if data has changed.\n                if (this.hasDataChanged()) {\n                    yield dom[\"a\" /* CoreDomUtils */].showConfirm(singletons[\"J\" /* Translate */].instant('core.confirmcanceledit'));\n                }\n                singletons_form[\"a\" /* CoreForms */].triggerFormCancelledEvent(this.formElement, sites[\"b\" /* CoreSites */].getCurrentSiteId());\n                return true;\n            });\n        }\n        /**\n         * @inheritdoc\n         */\n        ionViewDidLeave() {\n            // When going back, the ionViewDidEnter of the previous page should be called before this ionViewDidLeave.\n            // But just in case, use a timeout to make sure it does.\n            setTimeout(() => {\n                // Remove the edited page data (if any) if the previous page isn't a wiki page.\n                wiki[\"a\" /* AddonModWiki */].consumeEditedPageData();\n            }, 200);\n        }\n        /**\n         * Save the data.\n         */\n        save() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                const values = this.pageForm.value;\n                const title = values.title;\n                let text = values.text;\n                const modal = yield dom[\"a\" /* CoreDomUtils */].showModalLoading('core.sending', true);\n                text = utils_text[\"a\" /* CoreTextUtils */].restorePluginfileUrls(text, this.subwikiFiles);\n                text = utils_text[\"a\" /* CoreTextUtils */].formatHtmlLines(text);\n                try {\n                    if (this.editing) {\n                        // Edit existing page.\n                        yield wiki[\"a\" /* AddonModWiki */].editPage(this.pageId, text, this.section);\n                        singletons_form[\"a\" /* CoreForms */].triggerFormSubmittedEvent(this.formElement, true, sites[\"b\" /* CoreSites */].getCurrentSiteId());\n                        // Invalidate page since it changed.\n                        yield wiki[\"a\" /* AddonModWiki */].invalidatePage(this.pageId);\n                        return this.goToPage(title);\n                    }\n                    // Creating a new page.\n                    if (!title) {\n                        // Title is mandatory, stop.\n                        modal.dismiss();\n                        dom[\"a\" /* CoreDomUtils */].showAlert(singletons[\"J\" /* Translate */].instant('core.notice'), singletons[\"J\" /* Translate */].instant('addon.mod_wiki.titleshouldnotbeempty'));\n                        return;\n                    }\n                    if (!this.editOffline) {\n                        // Check if the user has an offline page with the same title.\n                        const page = yield utils[\"a\" /* CoreUtils */].ignoreErrors(wiki_offline[\"a\" /* AddonModWikiOffline */].getNewPage(title, this.subwikiId, this.wikiId, this.userId, this.groupId));\n                        if (page) {\n                            // There's a page with same title, reject with error message.\n                            throw new errors_error[\"a\" /* CoreError */](singletons[\"J\" /* Translate */].instant('addon.mod_wiki.pageexists'));\n                        }\n                    }\n                    // Try to send the page.\n                    const id = yield wiki[\"a\" /* AddonModWiki */].newPage(title, text, {\n                        subwikiId: this.subwikiId,\n                        wikiId: this.wikiId,\n                        userId: this.userId,\n                        groupId: this.groupId,\n                        cmId: this.cmId,\n                    });\n                    singletons_form[\"a\" /* CoreForms */].triggerFormSubmittedEvent(this.formElement, id > 0, sites[\"b\" /* CoreSites */].getCurrentSiteId());\n                    if (id <= 0) {\n                        // Page stored in offline. Go to see the offline page.\n                        return this.goToPage(title);\n                    }\n                    // Page was created, get its data and go to the page.\n                    events[\"b\" /* CoreEvents */].trigger(events[\"b\" /* CoreEvents */].ACTIVITY_DATA_SENT, { module: 'wiki' });\n                    this.pageId = id;\n                    const pageContents = yield wiki[\"a\" /* AddonModWiki */].getPageContents(this.pageId, { cmId: this.cmId });\n                    const promises = [];\n                    this.wikiId = pageContents.wikiid;\n                    // Invalidate subwiki pages since there are new.\n                    promises.push(wiki[\"a\" /* AddonModWiki */].invalidateSubwikiPages(this.wikiId));\n                    if (!this.subwikiId) {\n                        // Subwiki was not created, invalidate subwikis as well.\n                        promises.push(wiki[\"a\" /* AddonModWiki */].invalidateSubwikis(this.wikiId));\n                    }\n                    this.subwikiId = pageContents.subwikiid;\n                    this.userId = pageContents.userid;\n                    this.groupId = pageContents.groupid;\n                    yield utils[\"a\" /* CoreUtils */].ignoreErrors(Promise.all(promises));\n                    // Notify page created.\n                    events[\"b\" /* CoreEvents */].trigger(wiki[\"b\" /* AddonModWikiProvider */].PAGE_CREATED_EVENT, {\n                        pageId: this.pageId,\n                        subwikiId: this.subwikiId,\n                        pageTitle: title,\n                    }, sites[\"b\" /* CoreSites */].getCurrentSiteId());\n                    this.goToPage(title);\n                }\n                catch (error) {\n                    dom[\"a\" /* CoreDomUtils */].showErrorModalDefault(error, 'Error saving wiki data.');\n                }\n                finally {\n                    modal.dismiss();\n                }\n            });\n        }\n        /**\n         * Renew lock and control versions.\n         */\n        renewLock() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                const response = yield wiki[\"a\" /* AddonModWiki */].getPageForEditing(this.pageId, this.section, true);\n                if (response.version && this.version != response.version) {\n                    this.wrongVersionLock = true;\n                }\n            });\n        }\n        /**\n         * @inheritdoc\n         */\n        ngOnDestroy() {\n            this.isDestroyed = true;\n            clearInterval(this.renewLockInterval);\n            // Unblock the subwiki.\n            if (this.blockId) {\n                sync[\"a\" /* CoreSync */].unblockOperation(this.component, this.blockId);\n            }\n        }\n    }\n    AddonModWikiEditPage.ɵfac = function AddonModWikiEditPage_Factory(t) { return new (t || AddonModWikiEditPage)(core[\"yc\" /* ɵɵdirectiveInject */](fesm2015_forms[\"f\" /* FormBuilder */])); };\n    AddonModWikiEditPage.ɵcmp = core[\"sc\" /* ɵɵdefineComponent */]({ type: AddonModWikiEditPage, selectors: [[\"page-addon-mod-wiki-edit\"]], viewQuery: function AddonModWikiEditPage_Query(rf, ctx) {\n            if (rf & 1) {\n                core[\"ud\" /* ɵɵviewQuery */](_c0, true);\n            }\n            if (rf & 2) {\n                var _t;\n                core[\"dd\" /* ɵɵqueryRefresh */](_t = core[\"Nc\" /* ɵɵloadQuery */]()) && (ctx.formElement = _t.first);\n            }\n        }, decls: 15, vars: 11, consts: [[\"slot\", \"start\"], [3, \"text\"], [\"contextLevel\", \"module\", 3, \"text\", \"contextInstanceId\", \"courseId\"], [\"slot\", \"end\"], [\"fill\", \"clear\", 3, \"click\"], [3, \"hideUntil\"], [3, \"formGroup\", 4, \"ngIf\"], [3, \"formGroup\"], [\"editPageForm\", \"\"], [\"class\", \"ion-text-wrap\", 4, \"ngIf\"], [1, \"sr-only\"], [\"name\", \"wiki_page_content\", \"contextLevel\", \"module\", \"elementId\", \"newcontent_editor\", 3, \"control\", \"placeholder\", \"component\", \"componentId\", \"autoSave\", \"contextInstanceId\", \"draftExtraParams\"], [\"class\", \"ion-text-center addon-mod_wiki-wrongversionlock\", 4, \"ngIf\"], [1, \"ion-text-wrap\"], [\"name\", \"title\", \"type\", \"text\", \"formControlName\", \"title\", 3, \"placeholder\"], [1, \"ion-text-center\", \"addon-mod_wiki-wrongversionlock\"], [\"color\", \"danger\", 1, \"ion-padding\"]], template: function AddonModWikiEditPage_Template(rf, ctx) {\n            if (rf & 1) {\n                core[\"Ec\" /* ɵɵelementStart */](0, \"ion-header\");\n                core[\"Ec\" /* ɵɵelementStart */](1, \"ion-toolbar\");\n                core[\"Ec\" /* ɵɵelementStart */](2, \"ion-buttons\", 0);\n                core[\"zc\" /* ɵɵelement */](3, \"ion-back-button\", 1);\n                core[\"Pc\" /* ɵɵpipe */](4, \"translate\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](5, \"ion-title\");\n                core[\"Ec\" /* ɵɵelementStart */](6, \"h1\");\n                core[\"zc\" /* ɵɵelement */](7, \"core-format-text\", 2);\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](8, \"ion-buttons\", 3);\n                core[\"Ec\" /* ɵɵelementStart */](9, \"ion-button\", 4);\n                core[\"Mc\" /* ɵɵlistener */](\"click\", function AddonModWikiEditPage_Template_ion_button_click_9_listener() { return ctx.save(); });\n                core[\"pd\" /* ɵɵtext */](10);\n                core[\"Pc\" /* ɵɵpipe */](11, \"translate\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](12, \"ion-content\");\n                core[\"Ec\" /* ɵɵelementStart */](13, \"core-loading\", 5);\n                core[\"nd\" /* ɵɵtemplate */](14, AddonModWikiEditPage_form_14_Template, 10, 15, \"form\", 6);\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n            }\n            if (rf & 2) {\n                core[\"lc\" /* ɵɵadvance */](3);\n                core[\"Vc\" /* ɵɵproperty */](\"text\", core[\"Qc\" /* ɵɵpipeBind1 */](4, 7, \"core.back\"));\n                core[\"lc\" /* ɵɵadvance */](4);\n                core[\"Vc\" /* ɵɵproperty */](\"text\", ctx.title)(\"contextInstanceId\", ctx.cmId)(\"courseId\", ctx.courseId);\n                core[\"lc\" /* ɵɵadvance */](3);\n                core[\"rd\" /* ɵɵtextInterpolate1 */](\" \", core[\"Qc\" /* ɵɵpipeBind1 */](11, 9, \"core.save\"), \" \");\n                core[\"lc\" /* ɵɵadvance */](3);\n                core[\"Vc\" /* ɵɵproperty */](\"hideUntil\", ctx.loaded);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx.loaded);\n            }\n        }, directives: [ionic_angular[\"C\" /* IonHeader */], ionic_angular[\"Ab\" /* IonToolbar */], ionic_angular[\"m\" /* IonButtons */], ionic_angular[\"h\" /* IonBackButton */], ionic_angular[\"i\" /* IonBackButtonDelegate */], ionic_angular[\"yb\" /* IonTitle */], format_text[\"a\" /* CoreFormatTextDirective */], update_non_reactive_attributes[\"a\" /* CoreUpdateNonReactiveAttributesDirective */], ionic_angular[\"l\" /* IonButton */], directives_content[\"a\" /* CoreContentDirective */], ionic_angular[\"v\" /* IonContent */], loading[\"a\" /* CoreLoadingComponent */], common[\"t\" /* NgIf */], fesm2015_forms[\"H\" /* ɵangular_packages_forms_forms_y */], fesm2015_forms[\"s\" /* NgControlStatusGroup */], fesm2015_forms[\"k\" /* FormGroupDirective */], ionic_angular[\"I\" /* IonItem */], ionic_angular[\"O\" /* IonLabel */], rich_text_editor[\"a\" /* CoreEditorRichTextEditorComponent */], ionic_angular[\"H\" /* IonInput */], ionic_angular[\"Pb\" /* TextValueAccessor */], fesm2015_forms[\"r\" /* NgControlStatus */], fesm2015_forms[\"i\" /* FormControlName */], ionic_angular[\"k\" /* IonBadge */]], pipes: [ngx_translate_core[\"d\" /* TranslatePipe */]], encapsulation: 2 });\n    return AddonModWikiEditPage;\n})();\n\n// EXTERNAL MODULE: ./src/core/components/attachments/attachments.ts\nvar attachments = __webpack_require__(\"M9y5\");\n\n// EXTERNAL MODULE: ./src/core/components/bs-tooltip/bs-tooltip.ts\nvar bs_tooltip = __webpack_require__(\"aEIl\");\n\n// EXTERNAL MODULE: ./src/core/components/button-with-spinner/button-with-spinner.ts\nvar button_with_spinner = __webpack_require__(\"3zv0\");\n\n// EXTERNAL MODULE: ./src/core/components/chart/chart.ts\nvar chart = __webpack_require__(\"Lmwl\");\n\n// EXTERNAL MODULE: ./src/core/components/chrono/chrono.ts\nvar chrono = __webpack_require__(\"4qNr\");\n\n// EXTERNAL MODULE: ./src/core/components/context-menu/context-menu.ts + 4 modules\nvar context_menu = __webpack_require__(\"fQ68\");\n\n// EXTERNAL MODULE: ./src/core/components/context-menu/context-menu-item.ts\nvar context_menu_item = __webpack_require__(\"8/N+\");\n\n// EXTERNAL MODULE: ./src/core/components/context-menu/context-menu-popover.ts\nvar context_menu_popover = __webpack_require__(\"0QZc\");\n\n// EXTERNAL MODULE: ./src/core/components/download-refresh/download-refresh.ts\nvar download_refresh = __webpack_require__(\"uHIS\");\n\n// EXTERNAL MODULE: ./src/core/components/dynamic-component/dynamic-component.ts\nvar dynamic_component = __webpack_require__(\"w+Pn\");\n\n// EXTERNAL MODULE: ./src/core/components/empty-box/empty-box.ts\nvar empty_box = __webpack_require__(\"r8G5\");\n\n// EXTERNAL MODULE: ./src/core/components/file/file.ts\nvar file = __webpack_require__(\"5450\");\n\n// EXTERNAL MODULE: ./src/core/components/files/files.ts\nvar files = __webpack_require__(\"W5pS\");\n\n// EXTERNAL MODULE: ./src/core/components/group-selector/group-selector.ts\nvar group_selector = __webpack_require__(\"WPIK\");\n\n// EXTERNAL MODULE: ./src/core/components/icon/icon.ts\nvar icon = __webpack_require__(\"p+Qc\");\n\n// EXTERNAL MODULE: ./src/core/components/iframe/iframe.ts\nvar iframe = __webpack_require__(\"qNqN\");\n\n// EXTERNAL MODULE: ./src/core/components/infinite-loading/infinite-loading.ts\nvar infinite_loading = __webpack_require__(\"xpMl\");\n\n// EXTERNAL MODULE: ./src/core/components/input-errors/input-errors.ts\nvar input_errors = __webpack_require__(\"FTxb\");\n\n// EXTERNAL MODULE: ./src/core/components/local-file/local-file.ts\nvar local_file = __webpack_require__(\"/K1O\");\n\n// EXTERNAL MODULE: ./src/core/components/mark-required/mark-required.ts\nvar mark_required = __webpack_require__(\"FasJ\");\n\n// EXTERNAL MODULE: ./src/core/components/message/message.ts\nvar message = __webpack_require__(\"9pYf\");\n\n// EXTERNAL MODULE: ./src/core/components/mod-icon/mod-icon.ts\nvar mod_icon = __webpack_require__(\"eAud\");\n\n// EXTERNAL MODULE: ./src/core/components/navbar-buttons/navbar-buttons.ts\nvar navbar_buttons = __webpack_require__(\"ACV2\");\n\n// EXTERNAL MODULE: ./src/core/components/navigation-bar/navigation-bar.ts\nvar navigation_bar = __webpack_require__(\"/BoF\");\n\n// EXTERNAL MODULE: ./src/core/components/progress-bar/progress-bar.ts\nvar progress_bar = __webpack_require__(\"TKc2\");\n\n// EXTERNAL MODULE: ./src/core/components/recaptcha/recaptcha.ts\nvar recaptcha = __webpack_require__(\"whRm\");\n\n// EXTERNAL MODULE: ./src/core/components/send-message-form/send-message-form.ts\nvar send_message_form = __webpack_require__(\"O4u7\");\n\n// EXTERNAL MODULE: ./src/core/components/show-password/show-password.ts\nvar show_password = __webpack_require__(\"lqoc\");\n\n// EXTERNAL MODULE: ./src/core/components/site-picker/site-picker.ts\nvar site_picker = __webpack_require__(\"3lz8\");\n\n// EXTERNAL MODULE: ./src/core/components/split-view/split-view.ts\nvar split_view = __webpack_require__(\"46ml\");\n\n// EXTERNAL MODULE: ./src/core/components/style/style.ts\nvar style = __webpack_require__(\"QQhE\");\n\n// EXTERNAL MODULE: ./src/core/components/swipe-slides/swipe-slides.ts\nvar swipe_slides = __webpack_require__(\"MpCO\");\n\n// EXTERNAL MODULE: ./src/core/components/tabs/tab.ts\nvar tab = __webpack_require__(\"JYLr\");\n\n// EXTERNAL MODULE: ./src/core/components/tabs/tabs.ts\nvar tabs = __webpack_require__(\"vWwc\");\n\n// EXTERNAL MODULE: ./src/core/components/tabs-outlet/tabs-outlet.ts\nvar tabs_outlet = __webpack_require__(\"NhJP\");\n\n// EXTERNAL MODULE: ./src/core/components/timer/timer.ts\nvar timer = __webpack_require__(\"rztj\");\n\n// EXTERNAL MODULE: ./src/core/components/user-avatar/user-avatar.ts\nvar user_avatar = __webpack_require__(\"FeAf\");\n\n// EXTERNAL MODULE: ./src/core/components/combobox/combobox.ts\nvar combobox = __webpack_require__(\"rf3J\");\n\n// EXTERNAL MODULE: ./src/core/components/spacer/spacer.ts\nvar spacer = __webpack_require__(\"nEkO\");\n\n// EXTERNAL MODULE: ./src/core/components/horizontal-scroll-controls/horizontal-scroll-controls.ts\nvar horizontal_scroll_controls = __webpack_require__(\"TF0o\");\n\n// EXTERNAL MODULE: ./src/core/components/swipe-navigation-tour/swipe-navigation-tour.ts\nvar swipe_navigation_tour = __webpack_require__(\"p5uK\");\n\n// EXTERNAL MODULE: ./src/core/directives/auto-focus.ts\nvar auto_focus = __webpack_require__(\"6uVz\");\n\n// EXTERNAL MODULE: ./src/core/directives/auto-rows.ts\nvar auto_rows = __webpack_require__(\"d0nH\");\n\n// EXTERNAL MODULE: ./src/core/directives/external-content.ts\nvar external_content = __webpack_require__(\"NcPy\");\n\n// EXTERNAL MODULE: ./src/core/directives/fab.ts\nvar fab = __webpack_require__(\"yNDK\");\n\n// EXTERNAL MODULE: ./src/core/directives/fa-icon.ts\nvar fa_icon = __webpack_require__(\"3CSS\");\n\n// EXTERNAL MODULE: ./src/core/directives/link.ts\nvar directives_link = __webpack_require__(\"iSJP\");\n\n// EXTERNAL MODULE: ./src/core/directives/long-press.ts\nvar long_press = __webpack_require__(\"iJls\");\n\n// EXTERNAL MODULE: ./src/core/directives/supress-events.ts\nvar supress_events = __webpack_require__(\"ArDJ\");\n\n// EXTERNAL MODULE: ./src/core/directives/user-link.ts\nvar user_link = __webpack_require__(\"nu3w\");\n\n// EXTERNAL MODULE: ./src/core/directives/aria-button.ts\nvar aria_button = __webpack_require__(\"saTE\");\n\n// EXTERNAL MODULE: ./src/core/directives/on-resize.ts\nvar on_resize = __webpack_require__(\"8PoL\");\n\n// EXTERNAL MODULE: ./src/core/directives/download-file.ts\nvar download_file = __webpack_require__(\"4a38\");\n\n// EXTERNAL MODULE: ./src/core/directives/collapsible-header.ts\nvar collapsible_header = __webpack_require__(\"4JiN\");\n\n// EXTERNAL MODULE: ./src/core/directives/swipe-navigation.ts\nvar swipe_navigation = __webpack_require__(\"OZH1\");\n\n// EXTERNAL MODULE: ./src/core/directives/collapsible-item.ts\nvar collapsible_item = __webpack_require__(\"edOc\");\n\n// EXTERNAL MODULE: ./src/core/directives/collapsible-footer.ts\nvar collapsible_footer = __webpack_require__(\"3jOR\");\n\n// EXTERNAL MODULE: ./src/core/directives/user-tour.ts\nvar user_tour = __webpack_require__(\"6A9T\");\n\n// EXTERNAL MODULE: ./src/addons/mod/wiki/components/index/index.ts\nvar components_index = __webpack_require__(\"nKjD\");\n\n// EXTERNAL MODULE: ./src/addons/mod/wiki/components/subwiki-picker/subwiki-picker.ts\nvar subwiki_picker = __webpack_require__(\"MqDN\");\n\n// EXTERNAL MODULE: ./src/addons/mod/wiki/components/map/map.ts\nvar map = __webpack_require__(\"IBMc\");\n\n// EXTERNAL MODULE: ./src/core/pipes/bytes-to-size.ts\nvar bytes_to_size = __webpack_require__(\"1iFe\");\n\n// EXTERNAL MODULE: ./src/core/pipes/create-links.ts\nvar create_links = __webpack_require__(\"dne1\");\n\n// EXTERNAL MODULE: ./src/core/pipes/date-day-or-time.ts\nvar date_day_or_time = __webpack_require__(\"Cg42\");\n\n// EXTERNAL MODULE: ./src/core/pipes/duration.ts\nvar duration = __webpack_require__(\"llyR\");\n\n// EXTERNAL MODULE: ./src/core/pipes/format-date.ts\nvar format_date = __webpack_require__(\"uYHD\");\n\n// EXTERNAL MODULE: ./src/core/pipes/no-tags.ts\nvar no_tags = __webpack_require__(\"SspJ\");\n\n// EXTERNAL MODULE: ./src/core/pipes/seconds-to-hms.ts\nvar seconds_to_hms = __webpack_require__(\"U2xU\");\n\n// EXTERNAL MODULE: ./src/core/pipes/time-ago.ts\nvar time_ago = __webpack_require__(\"lAaw\");\n\n// EXTERNAL MODULE: ./src/core/pipes/to-locale-string.ts\nvar to_locale_string = __webpack_require__(\"1ArG\");\n\n// CONCATENATED MODULE: ./src/addons/mod/wiki/wiki-lazy.module.ts\n// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst routes = [\n    {\n        path: ':courseId/:cmId',\n        redirectTo: ':courseId/:cmId/page/root',\n    },\n    {\n        path: ':courseId/:cmId/page/:hash',\n        component: index[\"a\" /* AddonModWikiIndexPage */],\n    },\n    {\n        path: ':courseId/:cmId/edit',\n        component: edit_AddonModWikiEditPage,\n        canDeactivate: [can_leave[\"a\" /* CanLeaveGuard */]],\n    },\n];\nlet wiki_lazy_module_AddonModWikiLazyModule = /*@__PURE__*/ (() => {\n    class AddonModWikiLazyModule {\n    }\n    AddonModWikiLazyModule.ɵmod = core[\"wc\" /* ɵɵdefineNgModule */]({ type: AddonModWikiLazyModule });\n    AddonModWikiLazyModule.ɵinj = core[\"vc\" /* ɵɵdefineInjector */]({ factory: function AddonModWikiLazyModule_Factory(t) { return new (t || AddonModWikiLazyModule)(); }, imports: [[\n                router[\"m\" /* RouterModule */].forChild(routes),\n                shared_module[\"a\" /* CoreSharedModule */],\n                components_module[\"a\" /* AddonModWikiComponentsModule */],\n                components_components_module[\"a\" /* CoreEditorComponentsModule */],\n            ]] });\n    return AddonModWikiLazyModule;\n})();\n(function () {\n    (typeof ngJitMode === \"undefined\" || ngJitMode) && core[\"kd\" /* ɵɵsetNgModuleScope */](wiki_lazy_module_AddonModWikiLazyModule, { declarations: [index[\"a\" /* AddonModWikiIndexPage */],\n            edit_AddonModWikiEditPage], imports: [router[\"m\" /* RouterModule */], shared_module[\"a\" /* CoreSharedModule */],\n            components_module[\"a\" /* AddonModWikiComponentsModule */],\n            components_components_module[\"a\" /* CoreEditorComponentsModule */]] });\n})();\ncore[\"jd\" /* ɵɵsetComponentScope */](index[\"a\" /* AddonModWikiIndexPage */], [router[\"n\" /* RouterOutlet */], router[\"j\" /* RouterLink */], router[\"l\" /* RouterLinkWithHref */], router[\"k\" /* RouterLinkActive */], router[\"p\" /* ɵangular_packages_router_router_l */], common[\"q\" /* NgClass */], common[\"r\" /* NgComponentOutlet */], common[\"s\" /* NgForOf */], common[\"t\" /* NgIf */], common[\"A\" /* NgTemplateOutlet */], common[\"w\" /* NgStyle */], common[\"x\" /* NgSwitch */], common[\"y\" /* NgSwitchCase */], common[\"z\" /* NgSwitchDefault */], common[\"u\" /* NgPlural */], common[\"v\" /* NgPluralCase */], attachments[\"a\" /* CoreAttachmentsComponent */], bs_tooltip[\"a\" /* CoreBSTooltipComponent */], button_with_spinner[\"a\" /* CoreButtonWithSpinnerComponent */], chart[\"a\" /* CoreChartComponent */], chrono[\"a\" /* CoreChronoComponent */], context_menu[\"a\" /* CoreContextMenuComponent */], context_menu_item[\"a\" /* CoreContextMenuItemComponent */], context_menu_popover[\"a\" /* CoreContextMenuPopoverComponent */], download_refresh[\"a\" /* CoreDownloadRefreshComponent */], dynamic_component[\"a\" /* CoreDynamicComponent */], empty_box[\"a\" /* CoreEmptyBoxComponent */], file[\"a\" /* CoreFileComponent */], files[\"a\" /* CoreFilesComponent */], group_selector[\"a\" /* CoreGroupSelectorComponent */], icon[\"a\" /* CoreIconComponent */], iframe[\"a\" /* CoreIframeComponent */], infinite_loading[\"a\" /* CoreInfiniteLoadingComponent */], input_errors[\"a\" /* CoreInputErrorsComponent */], loading[\"a\" /* CoreLoadingComponent */], local_file[\"a\" /* CoreLocalFileComponent */], mark_required[\"a\" /* CoreMarkRequiredComponent */], message[\"a\" /* CoreMessageComponent */], mod_icon[\"a\" /* CoreModIconComponent */], navbar_buttons[\"a\" /* CoreNavBarButtonsComponent */], navigation_bar[\"a\" /* CoreNavigationBarComponent */], progress_bar[\"a\" /* CoreProgressBarComponent */], recaptcha[\"a\" /* CoreRecaptchaComponent */], send_message_form[\"a\" /* CoreSendMessageFormComponent */], show_password[\"a\" /* CoreShowPasswordComponent */], site_picker[\"a\" /* CoreSitePickerComponent */], split_view[\"a\" /* CoreSplitViewComponent */], style[\"a\" /* CoreStyleComponent */], swipe_slides[\"a\" /* CoreSwipeSlidesComponent */], tab[\"a\" /* CoreTabComponent */], tabs[\"a\" /* CoreTabsComponent */], tabs_outlet[\"a\" /* CoreTabsOutletComponent */], timer[\"a\" /* CoreTimerComponent */], user_avatar[\"a\" /* CoreUserAvatarComponent */], combobox[\"a\" /* CoreComboboxComponent */], spacer[\"a\" /* CoreSpacerComponent */], horizontal_scroll_controls[\"a\" /* CoreHorizontalScrollControlsComponent */], swipe_navigation_tour[\"a\" /* CoreSwipeNavigationTourComponent */], auto_focus[\"a\" /* CoreAutoFocusDirective */], auto_rows[\"a\" /* CoreAutoRowsDirective */], external_content[\"a\" /* CoreExternalContentDirective */], fab[\"a\" /* CoreFabDirective */], fa_icon[\"a\" /* CoreFaIconDirective */], format_text[\"a\" /* CoreFormatTextDirective */], directives_link[\"a\" /* CoreLinkDirective */], long_press[\"a\" /* CoreLongPressDirective */], supress_events[\"a\" /* CoreSupressEventsDirective */], user_link[\"a\" /* CoreUserLinkDirective */], aria_button[\"a\" /* CoreAriaButtonClickDirective */], on_resize[\"a\" /* CoreOnResizeDirective */], download_file[\"a\" /* CoreDownloadFileDirective */], collapsible_header[\"b\" /* CoreCollapsibleHeaderDirective */], swipe_navigation[\"a\" /* CoreSwipeNavigationDirective */], collapsible_item[\"a\" /* CoreCollapsibleItemDirective */], collapsible_footer[\"a\" /* CoreCollapsibleFooterDirective */], directives_content[\"a\" /* CoreContentDirective */], update_non_reactive_attributes[\"a\" /* CoreUpdateNonReactiveAttributesDirective */], user_tour[\"a\" /* CoreUserTourDirective */], fesm2015_forms[\"H\" /* ɵangular_packages_forms_forms_y */], fesm2015_forms[\"w\" /* NgSelectOption */], fesm2015_forms[\"G\" /* ɵangular_packages_forms_forms_x */], fesm2015_forms[\"c\" /* DefaultValueAccessor */], fesm2015_forms[\"x\" /* NumberValueAccessor */], fesm2015_forms[\"A\" /* RangeValueAccessor */], fesm2015_forms[\"a\" /* CheckboxControlValueAccessor */], fesm2015_forms[\"D\" /* SelectControlValueAccessor */], fesm2015_forms[\"E\" /* SelectMultipleControlValueAccessor */], fesm2015_forms[\"z\" /* RadioControlValueAccessor */], fesm2015_forms[\"r\" /* NgControlStatus */], fesm2015_forms[\"s\" /* NgControlStatusGroup */], fesm2015_forms[\"C\" /* RequiredValidator */], fesm2015_forms[\"o\" /* MinLengthValidator */], fesm2015_forms[\"n\" /* MaxLengthValidator */], fesm2015_forms[\"y\" /* PatternValidator */], fesm2015_forms[\"b\" /* CheckboxRequiredValidator */], fesm2015_forms[\"d\" /* EmailValidator */], fesm2015_forms[\"u\" /* NgModel */], fesm2015_forms[\"v\" /* NgModelGroup */], fesm2015_forms[\"t\" /* NgForm */], ionic_angular[\"f\" /* IonApp */], ionic_angular[\"g\" /* IonAvatar */], ionic_angular[\"h\" /* IonBackButton */], ionic_angular[\"j\" /* IonBackdrop */], ionic_angular[\"k\" /* IonBadge */], ionic_angular[\"l\" /* IonButton */], ionic_angular[\"m\" /* IonButtons */], ionic_angular[\"n\" /* IonCard */], ionic_angular[\"o\" /* IonCardContent */], ionic_angular[\"p\" /* IonCardHeader */], ionic_angular[\"q\" /* IonCardSubtitle */], ionic_angular[\"r\" /* IonCardTitle */], ionic_angular[\"s\" /* IonCheckbox */], ionic_angular[\"t\" /* IonChip */], ionic_angular[\"u\" /* IonCol */], ionic_angular[\"v\" /* IonContent */], ionic_angular[\"w\" /* IonDatetime */], ionic_angular[\"x\" /* IonFab */], ionic_angular[\"y\" /* IonFabButton */], ionic_angular[\"z\" /* IonFabList */], ionic_angular[\"A\" /* IonFooter */], ionic_angular[\"B\" /* IonGrid */], ionic_angular[\"C\" /* IonHeader */], ionic_angular[\"D\" /* IonIcon */], ionic_angular[\"E\" /* IonImg */], ionic_angular[\"F\" /* IonInfiniteScroll */], ionic_angular[\"G\" /* IonInfiniteScrollContent */], ionic_angular[\"H\" /* IonInput */], ionic_angular[\"I\" /* IonItem */], ionic_angular[\"J\" /* IonItemDivider */], ionic_angular[\"K\" /* IonItemGroup */], ionic_angular[\"L\" /* IonItemOption */], ionic_angular[\"M\" /* IonItemOptions */], ionic_angular[\"N\" /* IonItemSliding */], ionic_angular[\"O\" /* IonLabel */], ionic_angular[\"P\" /* IonList */], ionic_angular[\"Q\" /* IonListHeader */], ionic_angular[\"R\" /* IonMenu */], ionic_angular[\"S\" /* IonMenuButton */], ionic_angular[\"T\" /* IonMenuToggle */], ionic_angular[\"U\" /* IonNav */], ionic_angular[\"V\" /* IonNavLink */], ionic_angular[\"W\" /* IonNote */], ionic_angular[\"X\" /* IonProgressBar */], ionic_angular[\"Y\" /* IonRadio */], ionic_angular[\"Z\" /* IonRadioGroup */], ionic_angular[\"ab\" /* IonRange */], ionic_angular[\"bb\" /* IonRefresher */], ionic_angular[\"cb\" /* IonRefresherContent */], ionic_angular[\"db\" /* IonReorder */], ionic_angular[\"eb\" /* IonReorderGroup */], ionic_angular[\"fb\" /* IonRippleEffect */], ionic_angular[\"hb\" /* IonRow */], ionic_angular[\"ib\" /* IonSearchbar */], ionic_angular[\"jb\" /* IonSegment */], ionic_angular[\"kb\" /* IonSegmentButton */], ionic_angular[\"lb\" /* IonSelect */], ionic_angular[\"mb\" /* IonSelectOption */], ionic_angular[\"nb\" /* IonSkeletonText */], ionic_angular[\"ob\" /* IonSlide */], ionic_angular[\"pb\" /* IonSlides */], ionic_angular[\"qb\" /* IonSpinner */], ionic_angular[\"rb\" /* IonSplitPane */], ionic_angular[\"sb\" /* IonTabBar */], ionic_angular[\"tb\" /* IonTabButton */], ionic_angular[\"vb\" /* IonText */], ionic_angular[\"wb\" /* IonTextarea */], ionic_angular[\"xb\" /* IonThumbnail */], ionic_angular[\"zb\" /* IonToggle */], ionic_angular[\"Ab\" /* IonToolbar */], ionic_angular[\"yb\" /* IonTitle */], ionic_angular[\"ub\" /* IonTabs */], ionic_angular[\"d\" /* BooleanValueAccessor */], ionic_angular[\"Jb\" /* NumericValueAccessor */], ionic_angular[\"Mb\" /* RadioValueAccessor */], ionic_angular[\"Ob\" /* SelectValueAccessor */], ionic_angular[\"Pb\" /* TextValueAccessor */], ionic_angular[\"gb\" /* IonRouterOutlet */], ionic_angular[\"i\" /* IonBackButtonDelegate */], ionic_angular[\"Hb\" /* NavDelegate */], ionic_angular[\"Nb\" /* RouterLinkDelegate */], ionic_angular[\"Rb\" /* VirtualFooter */], ionic_angular[\"Sb\" /* VirtualHeader */], ionic_angular[\"Tb\" /* VirtualItem */], ionic_angular[\"Bb\" /* IonVirtualScroll */], fesm2015_forms[\"h\" /* FormControlDirective */], fesm2015_forms[\"k\" /* FormGroupDirective */], fesm2015_forms[\"i\" /* FormControlName */], fesm2015_forms[\"l\" /* FormGroupName */], fesm2015_forms[\"e\" /* FormArrayName */], ngx_translate_core[\"a\" /* TranslateDirective */], components_index[\"a\" /* AddonModWikiIndexComponent */], subwiki_picker[\"a\" /* AddonModWikiSubwikiPickerComponent */], map[\"a\" /* AddonModWikiMapModalComponent */], rich_text_editor[\"a\" /* CoreEditorRichTextEditorComponent */], index[\"a\" /* AddonModWikiIndexPage */],\n    edit_AddonModWikiEditPage], [common[\"b\" /* AsyncPipe */], common[\"G\" /* UpperCasePipe */], common[\"p\" /* LowerCasePipe */], common[\"k\" /* JsonPipe */], common[\"E\" /* SlicePipe */], common[\"g\" /* DecimalPipe */], common[\"C\" /* PercentPipe */], common[\"F\" /* TitleCasePipe */], common[\"d\" /* CurrencyPipe */], common[\"f\" /* DatePipe */], common[\"i\" /* I18nPluralPipe */], common[\"j\" /* I18nSelectPipe */], common[\"l\" /* KeyValuePipe */], bytes_to_size[\"a\" /* CoreBytesToSizePipe */], create_links[\"a\" /* CoreCreateLinksPipe */], date_day_or_time[\"a\" /* CoreDateDayOrTimePipe */], duration[\"a\" /* CoreDurationPipe */], format_date[\"a\" /* CoreFormatDatePipe */], no_tags[\"a\" /* CoreNoTagsPipe */], seconds_to_hms[\"a\" /* CoreSecondsToHMSPipe */], time_ago[\"a\" /* CoreTimeAgoPipe */], to_locale_string[\"a\" /* CoreToLocaleStringPipe */], ngx_translate_core[\"d\" /* TranslatePipe */]]);\n\n\n/***/ })\n\n}]);","inputSourceMap":null}