{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{fArg:function(s,e,n){\"use strict\";n.r(e),n.d(e,\"AddonMessagesDiscussions35PageModule\",(function(){return G}));var t=n(\"tyNb\"),o=n(\"Y+03\"),i=n(\"vY5A\"),a=n(\"muSn\"),c=n(\"L3Fv\"),d=n(\"PM4H\"),r=n(\"mrSG\"),g=n(\"fjkH\"),l=n(\"9+EE\"),_=n(\"KMk0\"),u=n(\"3LXp\"),m=n(\"bFG1\"),h=n(\"nvXB\"),M=n(\"2eZG\"),P=n(\"j3ag\"),p=n(\"pHTc\"),f=n(\"YyYz\"),O=n(\"r2Z7\"),C=n(\"fXoL\"),b=n(\"TEn/\"),D=n(\"C1x5\"),v=n(\"nt/U\"),x=n(\"46ml\"),A=n(\"9zps\"),I=n(\"PgjG\"),E=n(\"3CSS\"),w=n(\"ofXK\"),y=n(\"FeAf\"),T=n(\"hMzs\"),k=n(\"r8G5\"),V=n(\"sYmb\"),R=n(\"Cg42\");function AddonMessagesDiscussions35Page_ng_container_27_ion_item_9_Template(s,e){if(1&s){const s=C.Fc();C.Ec(0,\"ion-item\",15),C.Mc(\"click\",(function AddonMessagesDiscussions35Page_ng_container_27_ion_item_9_Template_ion_item_click_0_listener(){C.fd(s);const n=e.$implicit;return C.Oc(2).gotoDiscussion(n.userid,n.messageid)})),C.zc(1,\"core-user-avatar\",16),C.Ec(2,\"ion-label\"),C.Ec(3,\"p\",17),C.pd(4),C.Dc(),C.Ec(5,\"p\"),C.zc(6,\"core-format-text\",18),C.Dc(),C.Dc(),C.Dc()}if(2&s){const s=e.$implicit,n=C.Oc(2);C.mc(\"aria-label\",s.fullname)(\"aria-current\",s.userid==n.discussionUserId?\"page\":\"false\"),C.lc(1),C.Vc(\"user\",s)(\"checkOnline\",s.showonlinestatus),C.lc(3),C.qd(s.fullname),C.lc(2),C.Vc(\"text\",s.lastmessage)(\"contextInstanceId\",0)}}function AddonMessagesDiscussions35Page_ng_container_27_Template(s,e){if(1&s&&(C.Cc(0),C.Ec(1,\"ion-item-divider\"),C.Ec(2,\"ion-label\"),C.Ec(3,\"h2\"),C.pd(4),C.Pc(5,\"translate\"),C.Dc(),C.Dc(),C.Ec(6,\"ion-note\",13),C.Ec(7,\"ion-badge\"),C.pd(8),C.Dc(),C.Dc(),C.Dc(),C.nd(9,AddonMessagesDiscussions35Page_ng_container_27_ion_item_9_Template,7,7,\"ion-item\",14),C.Bc()),2&s){const s=C.Oc();C.lc(4),C.qd(C.Qc(5,3,\"core.searchresults\")),C.lc(4),C.qd(s.search.results.length),C.lc(1),C.Vc(\"ngForOf\",s.search.results)}}function AddonMessagesDiscussions35Page_ng_container_28_ion_item_1_ion_note_6_span_1_Template(s,e){if(1&s&&(C.Ec(0,\"span\",24),C.pd(1),C.Pc(2,\"coreDateDayOrTime\"),C.Dc()),2&s){const s=C.Oc(2).$implicit;C.lc(1),C.rd(\" \",C.Qc(2,1,s.message.timecreated/1e3),\" \")}}function AddonMessagesDiscussions35Page_ng_container_28_ion_item_1_ion_note_6_ion_icon_2_Template(s,e){1&s&&C.zc(0,\"ion-icon\",25)}function AddonMessagesDiscussions35Page_ng_container_28_ion_item_1_ion_note_6_span_3_Template(s,e){1&s&&(C.Ec(0,\"span\",26),C.pd(1),C.Pc(2,\"translate\"),C.Dc()),2&s&&(C.lc(1),C.rd(\" \",C.Qc(2,1,\"addon.messages.unreadmessages\"),\" \"))}function AddonMessagesDiscussions35Page_ng_container_28_ion_item_1_ion_note_6_Template(s,e){if(1&s&&(C.Ec(0,\"ion-note\"),C.nd(1,AddonMessagesDiscussions35Page_ng_container_28_ion_item_1_ion_note_6_span_1_Template,3,3,\"span\",21),C.nd(2,AddonMessagesDiscussions35Page_ng_container_28_ion_item_1_ion_note_6_ion_icon_2_Template,1,0,\"ion-icon\",22),C.nd(3,AddonMessagesDiscussions35Page_ng_container_28_ion_item_1_ion_note_6_span_3_Template,3,3,\"span\",23),C.Dc()),2&s){const s=C.Oc().$implicit;C.lc(1),C.Vc(\"ngIf\",s.message.timecreated>0),C.lc(1),C.Vc(\"ngIf\",s.unread),C.lc(1),C.Vc(\"ngIf\",s.unread)}}function AddonMessagesDiscussions35Page_ng_container_28_ion_item_1_Template(s,e){if(1&s){const s=C.Fc();C.Ec(0,\"ion-item\",15),C.Mc(\"click\",(function AddonMessagesDiscussions35Page_ng_container_28_ion_item_1_Template_ion_item_click_0_listener(){C.fd(s);const n=e.$implicit;return C.Oc(2).gotoDiscussion(n.message.user)})),C.zc(1,\"core-user-avatar\",19),C.Ec(2,\"ion-label\"),C.Ec(3,\"div\",20),C.Ec(4,\"p\",17),C.pd(5),C.Dc(),C.nd(6,AddonMessagesDiscussions35Page_ng_container_28_ion_item_1_ion_note_6_Template,4,3,\"ion-note\",10),C.Dc(),C.Ec(7,\"p\"),C.zc(8,\"core-format-text\",18),C.Dc(),C.Dc(),C.Dc()}if(2&s){const s=e.$implicit,n=C.Oc(2);C.mc(\"aria-label\",s.fullname)(\"aria-current\",s.message.user==n.discussionUserId?\"page\":\"false\"),C.lc(1),C.Vc(\"user\",s),C.lc(4),C.qd(s.fullname),C.lc(1),C.Vc(\"ngIf\",s.message.timecreated>0||s.unread),C.lc(2),C.Vc(\"text\",s.message.message)(\"contextInstanceId\",0)}}function AddonMessagesDiscussions35Page_ng_container_28_Template(s,e){if(1&s&&(C.Cc(0),C.nd(1,AddonMessagesDiscussions35Page_ng_container_28_ion_item_1_Template,9,7,\"ion-item\",14),C.Bc()),2&s){const s=C.Oc();C.lc(1),C.Vc(\"ngForOf\",s.discussions)}}function AddonMessagesDiscussions35Page_core_empty_box_29_Template(s,e){1&s&&(C.zc(0,\"core-empty-box\",27),C.Pc(1,\"translate\")),2&s&&C.Vc(\"message\",C.Qc(1,1,\"addon.messages.nomessagesfound\"))}function AddonMessagesDiscussions35Page_core_empty_box_30_Template(s,e){1&s&&(C.zc(0,\"core-empty-box\",28),C.Pc(1,\"translate\")),2&s&&C.Vc(\"message\",C.Qc(1,1,\"core.noresults\"))}let z=(()=>{class AddonMessagesDiscussions35Page{constructor(s){this.route=s,this.loaded=!1,this.loadingMessage=\"\",this.discussions=[],this.search={showResults:!1,results:[],loading:\"\",text:\"\"},this.search.loading=P.J.instant(\"core.searching\"),this.loadingMessages=P.J.instant(\"core.loading\"),this.siteId=l.b.getCurrentSiteId(),this.newMessagesObserver=g.b.on(_.b.NEW_MESSAGE_EVENT,(s=>{if(s.userId&&this.discussions){const e=this.discussions.find((e=>e.message.user==s.userId));void 0===e?(this.loaded=!1,this.refreshData().finally((()=>{this.loaded=!0}))):(e.message.message=s.message,e.message.timecreated=s.timecreated)}}),this.siteId),this.readChangedObserver=g.b.on(_.b.READ_CHANGED_EVENT,(s=>{if(s.userId&&this.discussions){const e=this.discussions.find((e=>e.message.user==s.userId));void 0!==e&&(e.unread=!1,_.a.invalidateConversations(this.siteId),_.a.refreshUnreadConversationCounts(this.siteId))}}),this.siteId),this.appResumeSubscription=O.a.resume.subscribe((()=>{this.loaded&&(this.loaded=!1,this.refreshData())})),this.pushObserver=M.a.on(\"receive\").subscribe((s=>{m.a.isFalseOrZero(s.notif)&&s.site==this.siteId&&this.refreshData(void 0,!1)}))}ngOnInit(){return Object(r.a)(this,void 0,void 0,(function*(){this.route.queryParams.subscribe((s=>Object(r.a)(this,void 0,void 0,(function*(){var e;this.discussionUserId=null!==(e=p.a.getRouteNumberParam(\"userId\",{params:s}))&&void 0!==e?e:this.discussionUserId}))));const s=new f.a;yield this.fetchData(),!this.discussionUserId&&this.discussions.length>0&&o.a.isTablet&&(yield this.gotoDiscussion(this.discussions[0].message.user)),s.treatLink()}))}refreshData(s,e=!0){return Object(r.a)(this,void 0,void 0,(function*(){const n=[];n.push(_.a.invalidateDiscussionsCache(this.siteId)),e&&n.push(_.a.invalidateUnreadConversationCounts(this.siteId)),yield m.a.allPromises(n).finally((()=>this.fetchData().finally((()=>{s&&(null==s?void 0:s.complete())}))))}))}fetchData(){return Object(r.a)(this,void 0,void 0,(function*(){this.loadingMessage=this.loadingMessages;const s=[];s.push(_.a.getDiscussions(this.siteId).then((s=>{const e=[];for(const n in s)s[n].unread=!!s[n].unread,e.push(s[n]);this.discussions=e.sort(((s,e)=>{var n,t;return((null===(n=e.message)||void 0===n?void 0:n.timecreated)||0)-((null===(t=s.message)||void 0===t?void 0:t.timecreated)||0)}))}))),s.push(_.a.getUnreadConversationCounts(this.siteId));try{yield Promise.all(s)}catch(s){u.a.showErrorModalDefault(s,\"addon.messages.errorwhileretrievingdiscussions\",!0)}this.loaded=!0}))}clearSearch(){this.loaded=!1,this.search.showResults=!1,this.search.text=\"\",this.fetchData().finally((()=>{this.loaded=!0}))}searchMessage(s){return Object(r.a)(this,void 0,void 0,(function*(){h.a.closeKeyboard(),this.loaded=!1,this.loadingMessage=this.search.loading;try{const e=yield _.a.searchMessages(s,void 0,void 0,void 0,this.siteId);this.search.showResults=!0,this.search.results=e.messages}catch(s){u.a.showErrorModalDefault(s,\"addon.messages.errorwhileretrievingmessages\",!0)}this.loaded=!0}))}gotoDiscussion(s,e){return Object(r.a)(this,void 0,void 0,(function*(){this.discussionUserId=s;const n={userId:s};e&&(n.message=e);const t=(p.a.isCurrentPathInTablet(\"**/messages/index/discussion\")?\"../\":\"\")+\"discussion\";yield p.a.navigate(t,{params:n})}))}gotoContacts(){const s={};o.a.isTablet&&this.discussionUserId&&(s.discussionUserId=this.discussionUserId),p.a.navigateToSitePath(\"contacts-35\",{params:s})}ngOnDestroy(){var s,e,n,t;null===(s=this.newMessagesObserver)||void 0===s?void 0:s.off(),null===(e=this.readChangedObserver)||void 0===e||e.off(),null===(n=this.appResumeSubscription)||void 0===n||n.unsubscribe(),null===(t=this.pushObserver)||void 0===t||t.unsubscribe()}}return AddonMessagesDiscussions35Page.ɵfac=function AddonMessagesDiscussions35Page_Factory(s){return new(s||AddonMessagesDiscussions35Page)(C.yc(t.a))},AddonMessagesDiscussions35Page.ɵcmp=C.sc({type:AddonMessagesDiscussions35Page,selectors:[[\"addon-messages-discussions\"]],decls:31,vars:27,consts:[[\"slot\",\"start\"],[3,\"text\"],[\"slot\",\"end\"],[\"slot\",\"fixed\",3,\"disabled\",\"ionRefresh\"],[3,\"pullingText\"],[\"autocorrect\",\"off\",\"spellcheck\",\"false\",\"lengthCheck\",\"2\",\"searchArea\",\"AddonMessagesDiscussions\",3,\"placeholder\",\"disabled\",\"autoFocus\",\"onSubmit\",\"onClear\"],[3,\"hideUntil\",\"message\"],[1,\"ion-no-margin\"],[\"detail\",\"true\",\"button\",\"\",1,\"ion-text-wrap\",\"addon-message-discussion\",3,\"click\"],[\"name\",\"fas-address-book\",\"slot\",\"start\",\"aria-hidden\",\"true\"],[4,\"ngIf\"],[\"icon\",\"far-comments\",3,\"message\",4,\"ngIf\"],[\"icon\",\"fas-search\",3,\"message\",4,\"ngIf\"],[\"slot\",\"end\",1,\"ion-padding-end\"],[\"class\",\"ion-text-wrap addon-message-discussion\",\"button\",\"\",\"detail\",\"false\",3,\"click\",4,\"ngFor\",\"ngForOf\"],[\"button\",\"\",\"detail\",\"false\",1,\"ion-text-wrap\",\"addon-message-discussion\",3,\"click\"],[\"slot\",\"start\",3,\"user\",\"checkOnline\"],[1,\"item-heading\"],[\"clean\",\"true\",\"singleLine\",\"true\",\"contextLevel\",\"system\",3,\"text\",\"contextInstanceId\"],[\"slot\",\"start\",\"checkOnline\",\"false\",3,\"user\"],[1,\"flex-row\",\"ion-justify-content-between\"],[\"class\",\"addon-message-last-message-date\",4,\"ngIf\"],[\"name\",\"fas-circle\",\"color\",\"primary\",\"aria-hidden\",\"true\",4,\"ngIf\"],[\"class\",\"sr-only\",4,\"ngIf\"],[1,\"addon-message-last-message-date\"],[\"name\",\"fas-circle\",\"color\",\"primary\",\"aria-hidden\",\"true\"],[1,\"sr-only\"],[\"icon\",\"far-comments\",3,\"message\"],[\"icon\",\"fas-search\",3,\"message\"]],template:function AddonMessagesDiscussions35Page_Template(s,e){1&s&&(C.Ec(0,\"ion-header\"),C.Ec(1,\"ion-toolbar\"),C.Ec(2,\"ion-buttons\",0),C.zc(3,\"ion-back-button\",1),C.Pc(4,\"translate\"),C.Dc(),C.Ec(5,\"ion-title\"),C.Ec(6,\"h1\"),C.pd(7),C.Pc(8,\"translate\"),C.Dc(),C.Dc(),C.Ec(9,\"ion-buttons\",2),C.zc(10,\"core-user-menu-button\"),C.Dc(),C.Dc(),C.Dc(),C.Ec(11,\"ion-content\"),C.Ec(12,\"core-split-view\"),C.Ec(13,\"ion-refresher\",3),C.Mc(\"ionRefresh\",(function AddonMessagesDiscussions35Page_Template_ion_refresher_ionRefresh_13_listener(s){return e.refreshData(s.target)})),C.zc(14,\"ion-refresher-content\",4),C.Pc(15,\"translate\"),C.Dc(),C.Ec(16,\"core-search-box\",5),C.Mc(\"onSubmit\",(function AddonMessagesDiscussions35Page_Template_core_search_box_onSubmit_16_listener(s){return e.searchMessage(s)}))(\"onClear\",(function AddonMessagesDiscussions35Page_Template_core_search_box_onClear_16_listener(){return e.clearSearch()})),C.Pc(17,\"translate\"),C.Dc(),C.Ec(18,\"core-loading\",6),C.Ec(19,\"ion-list\",7),C.Ec(20,\"ion-item\",8),C.Mc(\"click\",(function AddonMessagesDiscussions35Page_Template_ion_item_click_20_listener(){return e.gotoContacts()})),C.Pc(21,\"translate\"),C.zc(22,\"ion-icon\",9),C.Ec(23,\"ion-label\"),C.Ec(24,\"h2\"),C.pd(25),C.Pc(26,\"translate\"),C.Dc(),C.Dc(),C.Dc(),C.nd(27,AddonMessagesDiscussions35Page_ng_container_27_Template,10,5,\"ng-container\",10),C.nd(28,AddonMessagesDiscussions35Page_ng_container_28_Template,2,1,\"ng-container\",10),C.Dc(),C.nd(29,AddonMessagesDiscussions35Page_core_empty_box_29_Template,2,3,\"core-empty-box\",11),C.nd(30,AddonMessagesDiscussions35Page_core_empty_box_30_Template,2,3,\"core-empty-box\",12),C.Dc(),C.Dc(),C.Dc()),2&s&&(C.lc(3),C.Vc(\"text\",C.Qc(4,15,\"core.back\")),C.lc(4),C.qd(C.Qc(8,17,\"addon.messages.messages\")),C.lc(6),C.Vc(\"disabled\",!e.loaded),C.lc(1),C.Wc(\"pullingText\",C.Qc(15,19,\"core.pulltorefresh\")),C.lc(2),C.Vc(\"placeholder\",C.Qc(17,21,\"addon.messages.message\"))(\"disabled\",!e.loaded)(\"autoFocus\",!1),C.lc(2),C.Vc(\"hideUntil\",e.loaded)(\"message\",e.loadingMessage),C.lc(2),C.mc(\"aria-label\",C.Qc(21,23,\"addon.messages.contacts\")),C.lc(5),C.qd(C.Qc(26,25,\"addon.messages.contacts\")),C.lc(2),C.Vc(\"ngIf\",e.search.showResults),C.lc(1),C.Vc(\"ngIf\",!e.search.showResults),C.lc(1),C.Vc(\"ngIf\",(!e.discussions||e.discussions.length<=0)&&!e.search.showResults),C.lc(1),C.Vc(\"ngIf\",(!e.search.results||e.search.results.length<=0)&&e.search.showResults))},directives:[b.C,b.Ab,b.m,b.h,b.i,b.yb,D.a,v.a,b.v,x.a,b.bb,b.cb,A.a,I.a,b.P,b.I,b.D,E.a,b.O,w.t,b.J,b.W,b.k,w.s,y.a,T.a,k.a],pipes:[V.d,R.a],styles:[\"[_nghost-%COMP%]   .addon-message-discussion[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%], [_nghost-%COMP%]   .addon-messages-conversation-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin-right:0;margin-left:0}[_nghost-%COMP%]   .addon-message-discussion[_ngcontent-%COMP%]   .item-heading[_ngcontent-%COMP%]   core-format-text[_ngcontent-%COMP%], [_nghost-%COMP%]   .addon-messages-conversation-item[_ngcontent-%COMP%]   .item-heading[_ngcontent-%COMP%]   core-format-text[_ngcontent-%COMP%]{font-weight:700}[_nghost-%COMP%]   .addon-message-discussion[_ngcontent-%COMP%]   .item-heading[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .addon-messages-conversation-item[_ngcontent-%COMP%]   .item-heading[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-left:2px}@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){[_nghost-%COMP%]   .addon-message-discussion[_ngcontent-%COMP%]   .item-heading[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .addon-messages-conversation-item[_ngcontent-%COMP%]   .item-heading[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-left:unset;-webkit-margin-start:2px;margin-inline-start:2px}}[_nghost-%COMP%]   .addon-message-discussion[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%], [_nghost-%COMP%]   .addon-messages-conversation-item[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-self:flex-start;margin-left:2px}@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){[_nghost-%COMP%]   .addon-message-discussion[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%], [_nghost-%COMP%]   .addon-messages-conversation-item[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-left:unset;-webkit-margin-start:2px;margin-inline-start:2px}}[_nghost-%COMP%]   .addon-message-discussion[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]   ion-badge[_ngcontent-%COMP%], [_nghost-%COMP%]   .addon-message-discussion[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .addon-messages-conversation-item[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]   ion-badge[_ngcontent-%COMP%], [_nghost-%COMP%]   .addon-messages-conversation-item[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-top:3px;align-self:flex-end}[_nghost-%COMP%]   .addon-message-discussion[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]   .addon-message-last-message-date[_ngcontent-%COMP%], [_nghost-%COMP%]   .addon-messages-conversation-item[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]   .addon-message-last-message-date[_ngcontent-%COMP%]{white-space:nowrap;font-size:11px}[_nghost-%COMP%]   .addon-message-discussion[_ngcontent-%COMP%]   .addon-message-last-message[_ngcontent-%COMP%], [_nghost-%COMP%]   .addon-messages-conversation-item[_ngcontent-%COMP%]   .addon-message-last-message[_ngcontent-%COMP%]{display:flex;justify-content:flex-start}[_nghost-%COMP%]   .addon-message-discussion[_ngcontent-%COMP%]   .addon-message-last-message-user[_ngcontent-%COMP%], [_nghost-%COMP%]   .addon-messages-conversation-item[_ngcontent-%COMP%]   .addon-message-last-message-user[_ngcontent-%COMP%]{white-space:nowrap;color:var(--ion-text-color);margin-right:2px}@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){[_nghost-%COMP%]   .addon-message-discussion[_ngcontent-%COMP%]   .addon-message-last-message-user[_ngcontent-%COMP%], [_nghost-%COMP%]   .addon-messages-conversation-item[_ngcontent-%COMP%]   .addon-message-last-message-user[_ngcontent-%COMP%]{margin-right:unset;-webkit-margin-end:2px;margin-inline-end:2px}}[_nghost-%COMP%]   .addon-message-discussion[_ngcontent-%COMP%]   .addon-message-last-message-text[_ngcontent-%COMP%], [_nghost-%COMP%]   .addon-messages-conversation-item[_ngcontent-%COMP%]   .addon-message-last-message-text[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex-shrink:1}[_nghost-%COMP%]   .addon-message-discussion[_ngcontent-%COMP%]   .item-heading[_ngcontent-%COMP%]{margin-top:10px}[_nghost-%COMP%]   ion-item-divider[_ngcontent-%COMP%]   ion-badge[_ngcontent-%COMP%]{margin-left:16px;margin-right:16px}\"]}),AddonMessagesDiscussions35Page})();var S=n(\"OQOI\"),U=n(\"dQ3M\");const j=[{path:\"\",data:{mainMenuTabRoot:S.b.PAGE_NAME},component:z},a.AddonMessagesDiscussionRoute],F=[{path:\"\",data:{mainMenuTabRoot:S.b.PAGE_NAME},component:z,children:[a.AddonMessagesDiscussionRoute]}],Q=[...Object(i.c)(j,(()=>o.a.isMobile)),...Object(i.c)(F,(()=>o.a.isTablet))];let G=(()=>{class AddonMessagesDiscussions35PageModule{}return AddonMessagesDiscussions35PageModule.ɵmod=C.wc({type:AddonMessagesDiscussions35PageModule}),AddonMessagesDiscussions35PageModule.ɵinj=C.vc({factory:function AddonMessagesDiscussions35PageModule_Factory(s){return new(s||AddonMessagesDiscussions35PageModule)},imports:[[t.m.forChild(Q),c.a,d.a,U.a],t.m]}),AddonMessagesDiscussions35PageModule})();void((\"undefined\"==typeof ngJitMode||ngJitMode)&&C.kd(G,{declarations:[z],imports:[t.m,c.a,d.a,U.a],exports:[t.m]}))}}]);","name":"48.6446dd43917c9f023e5f.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[48],{\n\n/***/ \"fArg\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"AddonMessagesDiscussions35PageModule\", function() { return /* binding */ discussions_module_AddonMessagesDiscussions35PageModule; });\n\n// EXTERNAL MODULE: ./node_modules/@angular/router/__ivy_ngcc__/fesm2015/router.js + 10 modules\nvar router = __webpack_require__(\"tyNb\");\n\n// EXTERNAL MODULE: ./src/core/services/screen.ts\nvar screen = __webpack_require__(\"Y+03\");\n\n// EXTERNAL MODULE: ./src/app/app-routing.module.ts\nvar app_routing_module = __webpack_require__(\"vY5A\");\n\n// EXTERNAL MODULE: ./src/addons/messages/messages-lazy.module.ts + 1 modules\nvar messages_lazy_module = __webpack_require__(\"muSn\");\n\n// EXTERNAL MODULE: ./src/core/shared.module.ts + 3 modules\nvar shared_module = __webpack_require__(\"L3Fv\");\n\n// EXTERNAL MODULE: ./src/core/features/search/components/components.module.ts\nvar components_module = __webpack_require__(\"PM4H\");\n\n// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.js\nvar tslib_es6 = __webpack_require__(\"mrSG\");\n\n// EXTERNAL MODULE: ./src/core/singletons/events.ts\nvar events = __webpack_require__(\"fjkH\");\n\n// EXTERNAL MODULE: ./src/core/services/sites.ts\nvar sites = __webpack_require__(\"9+EE\");\n\n// EXTERNAL MODULE: ./src/addons/messages/services/messages.ts\nvar messages = __webpack_require__(\"KMk0\");\n\n// EXTERNAL MODULE: ./src/core/services/utils/dom.ts + 2 modules\nvar dom = __webpack_require__(\"3LXp\");\n\n// EXTERNAL MODULE: ./src/core/services/utils/utils.ts\nvar utils = __webpack_require__(\"bFG1\");\n\n// EXTERNAL MODULE: ./src/core/services/app.ts + 1 modules\nvar app = __webpack_require__(\"nvXB\");\n\n// EXTERNAL MODULE: ./src/core/features/pushnotifications/services/push-delegate.ts\nvar push_delegate = __webpack_require__(\"2eZG\");\n\n// EXTERNAL MODULE: ./src/core/singletons/index.ts\nvar singletons = __webpack_require__(\"j3ag\");\n\n// EXTERNAL MODULE: ./src/core/services/navigator.ts\nvar services_navigator = __webpack_require__(\"pHTc\");\n\n// EXTERNAL MODULE: ./src/core/features/mainmenu/classes/deep-link-manager.ts\nvar deep_link_manager = __webpack_require__(\"YyYz\");\n\n// EXTERNAL MODULE: ./src/core/services/platform.ts\nvar platform = __webpack_require__(\"r2Z7\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js\nvar core = __webpack_require__(\"fXoL\");\n\n// EXTERNAL MODULE: ./node_modules/@ionic/angular/__ivy_ngcc__/fesm2015/ionic-angular.js + 5 modules\nvar ionic_angular = __webpack_require__(\"TEn/\");\n\n// EXTERNAL MODULE: ./src/core/features/mainmenu/components/user-menu-button/user-menu-button.ts\nvar user_menu_button = __webpack_require__(\"C1x5\");\n\n// EXTERNAL MODULE: ./src/core/directives/content.ts\nvar content = __webpack_require__(\"nt/U\");\n\n// EXTERNAL MODULE: ./src/core/components/split-view/split-view.ts\nvar split_view = __webpack_require__(\"46ml\");\n\n// EXTERNAL MODULE: ./src/core/features/search/components/search-box/search-box.ts\nvar search_box = __webpack_require__(\"9zps\");\n\n// EXTERNAL MODULE: ./src/core/components/loading/loading.ts\nvar loading = __webpack_require__(\"PgjG\");\n\n// EXTERNAL MODULE: ./src/core/directives/fa-icon.ts\nvar fa_icon = __webpack_require__(\"3CSS\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/common/__ivy_ngcc__/fesm2015/common.js\nvar common = __webpack_require__(\"ofXK\");\n\n// EXTERNAL MODULE: ./src/core/components/user-avatar/user-avatar.ts\nvar user_avatar = __webpack_require__(\"FeAf\");\n\n// EXTERNAL MODULE: ./src/core/directives/format-text.ts\nvar format_text = __webpack_require__(\"hMzs\");\n\n// EXTERNAL MODULE: ./src/core/components/empty-box/empty-box.ts\nvar empty_box = __webpack_require__(\"r8G5\");\n\n// EXTERNAL MODULE: ./node_modules/@ngx-translate/core/__ivy_ngcc__/fesm2015/ngx-translate-core.js + 8 modules\nvar ngx_translate_core = __webpack_require__(\"sYmb\");\n\n// EXTERNAL MODULE: ./src/core/pipes/date-day-or-time.ts\nvar date_day_or_time = __webpack_require__(\"Cg42\");\n\n// CONCATENATED MODULE: ./src/addons/messages/pages/discussions-35/discussions.page.ts\n\n// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction AddonMessagesDiscussions35Page_ng_container_27_ion_item_9_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r7 = core[\"Fc\" /* ɵɵgetCurrentView */]();\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-item\", 15);\n        core[\"Mc\" /* ɵɵlistener */](\"click\", function AddonMessagesDiscussions35Page_ng_container_27_ion_item_9_Template_ion_item_click_0_listener() { core[\"fd\" /* ɵɵrestoreView */](_r7); const result_r5 = ctx.$implicit; const ctx_r6 = core[\"Oc\" /* ɵɵnextContext */](2); return ctx_r6.gotoDiscussion(result_r5.userid, result_r5.messageid); });\n        core[\"zc\" /* ɵɵelement */](1, \"core-user-avatar\", 16);\n        core[\"Ec\" /* ɵɵelementStart */](2, \"ion-label\");\n        core[\"Ec\" /* ɵɵelementStart */](3, \"p\", 17);\n        core[\"pd\" /* ɵɵtext */](4);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Ec\" /* ɵɵelementStart */](5, \"p\");\n        core[\"zc\" /* ɵɵelement */](6, \"core-format-text\", 18);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const result_r5 = ctx.$implicit;\n        const ctx_r4 = core[\"Oc\" /* ɵɵnextContext */](2);\n        core[\"mc\" /* ɵɵattribute */](\"aria-label\", result_r5.fullname)(\"aria-current\", result_r5.userid == ctx_r4.discussionUserId ? \"page\" : \"false\");\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"user\", result_r5)(\"checkOnline\", result_r5.showonlinestatus);\n        core[\"lc\" /* ɵɵadvance */](3);\n        core[\"qd\" /* ɵɵtextInterpolate */](result_r5.fullname);\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"text\", result_r5.lastmessage)(\"contextInstanceId\", 0);\n    }\n}\nfunction AddonMessagesDiscussions35Page_ng_container_27_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Cc\" /* ɵɵelementContainerStart */](0);\n        core[\"Ec\" /* ɵɵelementStart */](1, \"ion-item-divider\");\n        core[\"Ec\" /* ɵɵelementStart */](2, \"ion-label\");\n        core[\"Ec\" /* ɵɵelementStart */](3, \"h2\");\n        core[\"pd\" /* ɵɵtext */](4);\n        core[\"Pc\" /* ɵɵpipe */](5, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Ec\" /* ɵɵelementStart */](6, \"ion-note\", 13);\n        core[\"Ec\" /* ɵɵelementStart */](7, \"ion-badge\");\n        core[\"pd\" /* ɵɵtext */](8);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"nd\" /* ɵɵtemplate */](9, AddonMessagesDiscussions35Page_ng_container_27_ion_item_9_Template, 7, 7, \"ion-item\", 14);\n        core[\"Bc\" /* ɵɵelementContainerEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r0 = core[\"Oc\" /* ɵɵnextContext */]();\n        core[\"lc\" /* ɵɵadvance */](4);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](5, 3, \"core.searchresults\"));\n        core[\"lc\" /* ɵɵadvance */](4);\n        core[\"qd\" /* ɵɵtextInterpolate */](ctx_r0.search.results.length);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngForOf\", ctx_r0.search.results);\n    }\n}\nfunction AddonMessagesDiscussions35Page_ng_container_28_ion_item_1_ion_note_6_span_1_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"span\", 24);\n        core[\"pd\" /* ɵɵtext */](1);\n        core[\"Pc\" /* ɵɵpipe */](2, \"coreDateDayOrTime\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const discussion_r9 = core[\"Oc\" /* ɵɵnextContext */](2).$implicit;\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"rd\" /* ɵɵtextInterpolate1 */](\" \", core[\"Qc\" /* ɵɵpipeBind1 */](2, 1, discussion_r9.message.timecreated / 1000), \" \");\n    }\n}\nfunction AddonMessagesDiscussions35Page_ng_container_28_ion_item_1_ion_note_6_ion_icon_2_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"zc\" /* ɵɵelement */](0, \"ion-icon\", 25);\n    }\n}\nfunction AddonMessagesDiscussions35Page_ng_container_28_ion_item_1_ion_note_6_span_3_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"span\", 26);\n        core[\"pd\" /* ɵɵtext */](1);\n        core[\"Pc\" /* ɵɵpipe */](2, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"rd\" /* ɵɵtextInterpolate1 */](\" \", core[\"Qc\" /* ɵɵpipeBind1 */](2, 1, \"addon.messages.unreadmessages\"), \" \");\n    }\n}\nfunction AddonMessagesDiscussions35Page_ng_container_28_ion_item_1_ion_note_6_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-note\");\n        core[\"nd\" /* ɵɵtemplate */](1, AddonMessagesDiscussions35Page_ng_container_28_ion_item_1_ion_note_6_span_1_Template, 3, 3, \"span\", 21);\n        core[\"nd\" /* ɵɵtemplate */](2, AddonMessagesDiscussions35Page_ng_container_28_ion_item_1_ion_note_6_ion_icon_2_Template, 1, 0, \"ion-icon\", 22);\n        core[\"nd\" /* ɵɵtemplate */](3, AddonMessagesDiscussions35Page_ng_container_28_ion_item_1_ion_note_6_span_3_Template, 3, 3, \"span\", 23);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const discussion_r9 = core[\"Oc\" /* ɵɵnextContext */]().$implicit;\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", discussion_r9.message.timecreated > 0);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", discussion_r9.unread);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", discussion_r9.unread);\n    }\n}\nfunction AddonMessagesDiscussions35Page_ng_container_28_ion_item_1_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r17 = core[\"Fc\" /* ɵɵgetCurrentView */]();\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-item\", 15);\n        core[\"Mc\" /* ɵɵlistener */](\"click\", function AddonMessagesDiscussions35Page_ng_container_28_ion_item_1_Template_ion_item_click_0_listener() { core[\"fd\" /* ɵɵrestoreView */](_r17); const discussion_r9 = ctx.$implicit; const ctx_r16 = core[\"Oc\" /* ɵɵnextContext */](2); return ctx_r16.gotoDiscussion(discussion_r9.message.user); });\n        core[\"zc\" /* ɵɵelement */](1, \"core-user-avatar\", 19);\n        core[\"Ec\" /* ɵɵelementStart */](2, \"ion-label\");\n        core[\"Ec\" /* ɵɵelementStart */](3, \"div\", 20);\n        core[\"Ec\" /* ɵɵelementStart */](4, \"p\", 17);\n        core[\"pd\" /* ɵɵtext */](5);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"nd\" /* ɵɵtemplate */](6, AddonMessagesDiscussions35Page_ng_container_28_ion_item_1_ion_note_6_Template, 4, 3, \"ion-note\", 10);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Ec\" /* ɵɵelementStart */](7, \"p\");\n        core[\"zc\" /* ɵɵelement */](8, \"core-format-text\", 18);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const discussion_r9 = ctx.$implicit;\n        const ctx_r8 = core[\"Oc\" /* ɵɵnextContext */](2);\n        core[\"mc\" /* ɵɵattribute */](\"aria-label\", discussion_r9.fullname)(\"aria-current\", discussion_r9.message.user == ctx_r8.discussionUserId ? \"page\" : \"false\");\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"user\", discussion_r9);\n        core[\"lc\" /* ɵɵadvance */](4);\n        core[\"qd\" /* ɵɵtextInterpolate */](discussion_r9.fullname);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", discussion_r9.message.timecreated > 0 || discussion_r9.unread);\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"text\", discussion_r9.message.message)(\"contextInstanceId\", 0);\n    }\n}\nfunction AddonMessagesDiscussions35Page_ng_container_28_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Cc\" /* ɵɵelementContainerStart */](0);\n        core[\"nd\" /* ɵɵtemplate */](1, AddonMessagesDiscussions35Page_ng_container_28_ion_item_1_Template, 9, 7, \"ion-item\", 14);\n        core[\"Bc\" /* ɵɵelementContainerEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r1 = core[\"Oc\" /* ɵɵnextContext */]();\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngForOf\", ctx_r1.discussions);\n    }\n}\nfunction AddonMessagesDiscussions35Page_core_empty_box_29_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"zc\" /* ɵɵelement */](0, \"core-empty-box\", 27);\n        core[\"Pc\" /* ɵɵpipe */](1, \"translate\");\n    }\n    if (rf & 2) {\n        core[\"Vc\" /* ɵɵproperty */](\"message\", core[\"Qc\" /* ɵɵpipeBind1 */](1, 1, \"addon.messages.nomessagesfound\"));\n    }\n}\nfunction AddonMessagesDiscussions35Page_core_empty_box_30_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"zc\" /* ɵɵelement */](0, \"core-empty-box\", 28);\n        core[\"Pc\" /* ɵɵpipe */](1, \"translate\");\n    }\n    if (rf & 2) {\n        core[\"Vc\" /* ɵɵproperty */](\"message\", core[\"Qc\" /* ɵɵpipeBind1 */](1, 1, \"core.noresults\"));\n    }\n}\n/**\n * Page that displays the list of discussions.\n */\nlet discussions_page_AddonMessagesDiscussions35Page = /*@__PURE__*/ (() => {\n    class AddonMessagesDiscussions35Page {\n        constructor(route) {\n            this.route = route;\n            this.loaded = false;\n            this.loadingMessage = '';\n            this.discussions = [];\n            this.search = {\n                showResults: false,\n                results: [],\n                loading: '',\n                text: '',\n            };\n            this.search.loading = singletons[\"J\" /* Translate */].instant('core.searching');\n            this.loadingMessages = singletons[\"J\" /* Translate */].instant('core.loading');\n            this.siteId = sites[\"b\" /* CoreSites */].getCurrentSiteId();\n            // Update discussions when new message is received.\n            this.newMessagesObserver = events[\"b\" /* CoreEvents */].on(messages[\"b\" /* AddonMessagesProvider */].NEW_MESSAGE_EVENT, (data) => {\n                if (data.userId && this.discussions) {\n                    const discussion = this.discussions.find((disc) => disc.message.user == data.userId);\n                    if (discussion === undefined) {\n                        this.loaded = false;\n                        this.refreshData().finally(() => {\n                            this.loaded = true;\n                        });\n                    }\n                    else {\n                        // An existing discussion has a new message, update the last message.\n                        discussion.message.message = data.message;\n                        discussion.message.timecreated = data.timecreated;\n                    }\n                }\n            }, this.siteId);\n            // Update discussions when a message is read.\n            this.readChangedObserver = events[\"b\" /* CoreEvents */].on(messages[\"b\" /* AddonMessagesProvider */].READ_CHANGED_EVENT, (data) => {\n                if (data.userId && this.discussions) {\n                    const discussion = this.discussions.find((disc) => disc.message.user == data.userId);\n                    if (discussion !== undefined) {\n                        // A discussion has been read reset counter.\n                        discussion.unread = false;\n                        // Conversations changed, invalidate them and refresh unread counts.\n                        messages[\"a\" /* AddonMessages */].invalidateConversations(this.siteId);\n                        messages[\"a\" /* AddonMessages */].refreshUnreadConversationCounts(this.siteId);\n                    }\n                }\n            }, this.siteId);\n            // Refresh the view when the app is resumed.\n            this.appResumeSubscription = platform[\"a\" /* CorePlatform */].resume.subscribe(() => {\n                if (!this.loaded) {\n                    return;\n                }\n                this.loaded = false;\n                this.refreshData();\n            });\n            // If a message push notification is received, refresh the view.\n            this.pushObserver = push_delegate[\"a\" /* CorePushNotificationsDelegate */].on('receive')\n                .subscribe((notification) => {\n                // New message received. If it's from current site, refresh the data.\n                if (utils[\"a\" /* CoreUtils */].isFalseOrZero(notification.notif) && notification.site == this.siteId) {\n                    // Don't refresh unread counts, it's refreshed from the main menu handler in this case.\n                    this.refreshData(undefined, false);\n                }\n            });\n        }\n        /**\n         * Component loaded.\n         */\n        ngOnInit() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                this.route.queryParams.subscribe((params) => Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                    var _a;\n                    // When a child page loads this callback is triggered too.\n                    this.discussionUserId = (_a = services_navigator[\"a\" /* CoreNavigator */].getRouteNumberParam('userId', { params })) !== null && _a !== void 0 ? _a : this.discussionUserId;\n                }));\n                const deepLinkManager = new deep_link_manager[\"a\" /* CoreMainMenuDeepLinkManager */]();\n                yield this.fetchData();\n                if (!this.discussionUserId && this.discussions.length > 0 && screen[\"a\" /* CoreScreen */].isTablet) {\n                    // Take first and load it.\n                    yield this.gotoDiscussion(this.discussions[0].message.user);\n                }\n                // Treat deep link now that the conversation route has been loaded if needed.\n                deepLinkManager.treatLink();\n            });\n        }\n        /**\n         * Refresh the data.\n         *\n         * @param refresher Refresher.\n         * @param refreshUnreadCounts Whteher to refresh unread counts.\n         * @return Promise resolved when done.\n         */\n        refreshData(refresher, refreshUnreadCounts = true) {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                const promises = [];\n                promises.push(messages[\"a\" /* AddonMessages */].invalidateDiscussionsCache(this.siteId));\n                if (refreshUnreadCounts) {\n                    promises.push(messages[\"a\" /* AddonMessages */].invalidateUnreadConversationCounts(this.siteId));\n                }\n                yield utils[\"a\" /* CoreUtils */].allPromises(promises).finally(() => this.fetchData().finally(() => {\n                    if (refresher) {\n                        refresher === null || refresher === void 0 ? void 0 : refresher.complete();\n                    }\n                }));\n            });\n        }\n        /**\n         * Fetch discussions.\n         *\n         * @return Promise resolved when done.\n         */\n        fetchData() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                this.loadingMessage = this.loadingMessages;\n                const promises = [];\n                promises.push(messages[\"a\" /* AddonMessages */].getDiscussions(this.siteId).then((discussions) => {\n                    // Convert to an array for sorting.\n                    const discussionsSorted = [];\n                    for (const userId in discussions) {\n                        discussions[userId].unread = !!discussions[userId].unread;\n                        discussionsSorted.push(discussions[userId]);\n                    }\n                    this.discussions = discussionsSorted.sort((a, b) => { var _a, _b; return (((_a = b.message) === null || _a === void 0 ? void 0 : _a.timecreated) || 0) - (((_b = a.message) === null || _b === void 0 ? void 0 : _b.timecreated) || 0); });\n                    return;\n                }));\n                promises.push(messages[\"a\" /* AddonMessages */].getUnreadConversationCounts(this.siteId));\n                try {\n                    yield Promise.all(promises);\n                }\n                catch (error) {\n                    dom[\"a\" /* CoreDomUtils */].showErrorModalDefault(error, 'addon.messages.errorwhileretrievingdiscussions', true);\n                }\n                this.loaded = true;\n            });\n        }\n        /**\n         * Clear search and show discussions again.\n         */\n        clearSearch() {\n            this.loaded = false;\n            this.search.showResults = false;\n            this.search.text = ''; // Reset searched string.\n            this.fetchData().finally(() => {\n                this.loaded = true;\n            });\n        }\n        /**\n         * Search messages cotaining text.\n         *\n         * @param query Text to search for.\n         * @return Resolved when done.\n         */\n        searchMessage(query) {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                app[\"a\" /* CoreApp */].closeKeyboard();\n                this.loaded = false;\n                this.loadingMessage = this.search.loading;\n                try {\n                    const searchResults = yield messages[\"a\" /* AddonMessages */].searchMessages(query, undefined, undefined, undefined, this.siteId);\n                    this.search.showResults = true;\n                    this.search.results = searchResults.messages;\n                }\n                catch (error) {\n                    dom[\"a\" /* CoreDomUtils */].showErrorModalDefault(error, 'addon.messages.errorwhileretrievingmessages', true);\n                }\n                this.loaded = true;\n            });\n        }\n        /**\n         * Navigate to a particular discussion.\n         *\n         * @param discussionUserId Discussion Id to load.\n         * @param messageId Message to scroll after loading the discussion. Used when searching.\n         * @param onlyWithSplitView Only go to Discussion if split view is on.\n         */\n        gotoDiscussion(discussionUserId, messageId) {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                this.discussionUserId = discussionUserId;\n                const params = {\n                    userId: discussionUserId,\n                };\n                if (messageId) {\n                    params.message = messageId;\n                }\n                const splitViewLoaded = services_navigator[\"a\" /* CoreNavigator */].isCurrentPathInTablet('**/messages/index/discussion');\n                const path = (splitViewLoaded ? '../' : '') + 'discussion';\n                yield services_navigator[\"a\" /* CoreNavigator */].navigate(path, { params });\n            });\n        }\n        /**\n         * Navigate to contacts view.\n         */\n        gotoContacts() {\n            const params = {};\n            if (screen[\"a\" /* CoreScreen */].isTablet && this.discussionUserId) {\n                params.discussionUserId = this.discussionUserId;\n            }\n            services_navigator[\"a\" /* CoreNavigator */].navigateToSitePath('contacts-35', { params });\n        }\n        /**\n         * Component destroyed.\n         */\n        ngOnDestroy() {\n            var _a, _b, _c, _d;\n            (_a = this.newMessagesObserver) === null || _a === void 0 ? void 0 : _a.off();\n            (_b = this.readChangedObserver) === null || _b === void 0 ? void 0 : _b.off();\n            (_c = this.appResumeSubscription) === null || _c === void 0 ? void 0 : _c.unsubscribe();\n            (_d = this.pushObserver) === null || _d === void 0 ? void 0 : _d.unsubscribe();\n        }\n    }\n    AddonMessagesDiscussions35Page.ɵfac = function AddonMessagesDiscussions35Page_Factory(t) { return new (t || AddonMessagesDiscussions35Page)(core[\"yc\" /* ɵɵdirectiveInject */](router[\"a\" /* ActivatedRoute */])); };\n    AddonMessagesDiscussions35Page.ɵcmp = core[\"sc\" /* ɵɵdefineComponent */]({ type: AddonMessagesDiscussions35Page, selectors: [[\"addon-messages-discussions\"]], decls: 31, vars: 27, consts: [[\"slot\", \"start\"], [3, \"text\"], [\"slot\", \"end\"], [\"slot\", \"fixed\", 3, \"disabled\", \"ionRefresh\"], [3, \"pullingText\"], [\"autocorrect\", \"off\", \"spellcheck\", \"false\", \"lengthCheck\", \"2\", \"searchArea\", \"AddonMessagesDiscussions\", 3, \"placeholder\", \"disabled\", \"autoFocus\", \"onSubmit\", \"onClear\"], [3, \"hideUntil\", \"message\"], [1, \"ion-no-margin\"], [\"detail\", \"true\", \"button\", \"\", 1, \"ion-text-wrap\", \"addon-message-discussion\", 3, \"click\"], [\"name\", \"fas-address-book\", \"slot\", \"start\", \"aria-hidden\", \"true\"], [4, \"ngIf\"], [\"icon\", \"far-comments\", 3, \"message\", 4, \"ngIf\"], [\"icon\", \"fas-search\", 3, \"message\", 4, \"ngIf\"], [\"slot\", \"end\", 1, \"ion-padding-end\"], [\"class\", \"ion-text-wrap addon-message-discussion\", \"button\", \"\", \"detail\", \"false\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [\"button\", \"\", \"detail\", \"false\", 1, \"ion-text-wrap\", \"addon-message-discussion\", 3, \"click\"], [\"slot\", \"start\", 3, \"user\", \"checkOnline\"], [1, \"item-heading\"], [\"clean\", \"true\", \"singleLine\", \"true\", \"contextLevel\", \"system\", 3, \"text\", \"contextInstanceId\"], [\"slot\", \"start\", \"checkOnline\", \"false\", 3, \"user\"], [1, \"flex-row\", \"ion-justify-content-between\"], [\"class\", \"addon-message-last-message-date\", 4, \"ngIf\"], [\"name\", \"fas-circle\", \"color\", \"primary\", \"aria-hidden\", \"true\", 4, \"ngIf\"], [\"class\", \"sr-only\", 4, \"ngIf\"], [1, \"addon-message-last-message-date\"], [\"name\", \"fas-circle\", \"color\", \"primary\", \"aria-hidden\", \"true\"], [1, \"sr-only\"], [\"icon\", \"far-comments\", 3, \"message\"], [\"icon\", \"fas-search\", 3, \"message\"]], template: function AddonMessagesDiscussions35Page_Template(rf, ctx) {\n            if (rf & 1) {\n                core[\"Ec\" /* ɵɵelementStart */](0, \"ion-header\");\n                core[\"Ec\" /* ɵɵelementStart */](1, \"ion-toolbar\");\n                core[\"Ec\" /* ɵɵelementStart */](2, \"ion-buttons\", 0);\n                core[\"zc\" /* ɵɵelement */](3, \"ion-back-button\", 1);\n                core[\"Pc\" /* ɵɵpipe */](4, \"translate\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](5, \"ion-title\");\n                core[\"Ec\" /* ɵɵelementStart */](6, \"h1\");\n                core[\"pd\" /* ɵɵtext */](7);\n                core[\"Pc\" /* ɵɵpipe */](8, \"translate\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](9, \"ion-buttons\", 2);\n                core[\"zc\" /* ɵɵelement */](10, \"core-user-menu-button\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](11, \"ion-content\");\n                core[\"Ec\" /* ɵɵelementStart */](12, \"core-split-view\");\n                core[\"Ec\" /* ɵɵelementStart */](13, \"ion-refresher\", 3);\n                core[\"Mc\" /* ɵɵlistener */](\"ionRefresh\", function AddonMessagesDiscussions35Page_Template_ion_refresher_ionRefresh_13_listener($event) { return ctx.refreshData($event.target); });\n                core[\"zc\" /* ɵɵelement */](14, \"ion-refresher-content\", 4);\n                core[\"Pc\" /* ɵɵpipe */](15, \"translate\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](16, \"core-search-box\", 5);\n                core[\"Mc\" /* ɵɵlistener */](\"onSubmit\", function AddonMessagesDiscussions35Page_Template_core_search_box_onSubmit_16_listener($event) { return ctx.searchMessage($event); })(\"onClear\", function AddonMessagesDiscussions35Page_Template_core_search_box_onClear_16_listener() { return ctx.clearSearch(); });\n                core[\"Pc\" /* ɵɵpipe */](17, \"translate\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](18, \"core-loading\", 6);\n                core[\"Ec\" /* ɵɵelementStart */](19, \"ion-list\", 7);\n                core[\"Ec\" /* ɵɵelementStart */](20, \"ion-item\", 8);\n                core[\"Mc\" /* ɵɵlistener */](\"click\", function AddonMessagesDiscussions35Page_Template_ion_item_click_20_listener() { return ctx.gotoContacts(); });\n                core[\"Pc\" /* ɵɵpipe */](21, \"translate\");\n                core[\"zc\" /* ɵɵelement */](22, \"ion-icon\", 9);\n                core[\"Ec\" /* ɵɵelementStart */](23, \"ion-label\");\n                core[\"Ec\" /* ɵɵelementStart */](24, \"h2\");\n                core[\"pd\" /* ɵɵtext */](25);\n                core[\"Pc\" /* ɵɵpipe */](26, \"translate\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"nd\" /* ɵɵtemplate */](27, AddonMessagesDiscussions35Page_ng_container_27_Template, 10, 5, \"ng-container\", 10);\n                core[\"nd\" /* ɵɵtemplate */](28, AddonMessagesDiscussions35Page_ng_container_28_Template, 2, 1, \"ng-container\", 10);\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"nd\" /* ɵɵtemplate */](29, AddonMessagesDiscussions35Page_core_empty_box_29_Template, 2, 3, \"core-empty-box\", 11);\n                core[\"nd\" /* ɵɵtemplate */](30, AddonMessagesDiscussions35Page_core_empty_box_30_Template, 2, 3, \"core-empty-box\", 12);\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n            }\n            if (rf & 2) {\n                core[\"lc\" /* ɵɵadvance */](3);\n                core[\"Vc\" /* ɵɵproperty */](\"text\", core[\"Qc\" /* ɵɵpipeBind1 */](4, 15, \"core.back\"));\n                core[\"lc\" /* ɵɵadvance */](4);\n                core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](8, 17, \"addon.messages.messages\"));\n                core[\"lc\" /* ɵɵadvance */](6);\n                core[\"Vc\" /* ɵɵproperty */](\"disabled\", !ctx.loaded);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Wc\" /* ɵɵpropertyInterpolate */](\"pullingText\", core[\"Qc\" /* ɵɵpipeBind1 */](15, 19, \"core.pulltorefresh\"));\n                core[\"lc\" /* ɵɵadvance */](2);\n                core[\"Vc\" /* ɵɵproperty */](\"placeholder\", core[\"Qc\" /* ɵɵpipeBind1 */](17, 21, \"addon.messages.message\"))(\"disabled\", !ctx.loaded)(\"autoFocus\", false);\n                core[\"lc\" /* ɵɵadvance */](2);\n                core[\"Vc\" /* ɵɵproperty */](\"hideUntil\", ctx.loaded)(\"message\", ctx.loadingMessage);\n                core[\"lc\" /* ɵɵadvance */](2);\n                core[\"mc\" /* ɵɵattribute */](\"aria-label\", core[\"Qc\" /* ɵɵpipeBind1 */](21, 23, \"addon.messages.contacts\"));\n                core[\"lc\" /* ɵɵadvance */](5);\n                core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](26, 25, \"addon.messages.contacts\"));\n                core[\"lc\" /* ɵɵadvance */](2);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx.search.showResults);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", !ctx.search.showResults);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", (!ctx.discussions || ctx.discussions.length <= 0) && !ctx.search.showResults);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", (!ctx.search.results || ctx.search.results.length <= 0) && ctx.search.showResults);\n            }\n        }, directives: [ionic_angular[\"C\" /* IonHeader */], ionic_angular[\"Ab\" /* IonToolbar */], ionic_angular[\"m\" /* IonButtons */], ionic_angular[\"h\" /* IonBackButton */], ionic_angular[\"i\" /* IonBackButtonDelegate */], ionic_angular[\"yb\" /* IonTitle */], user_menu_button[\"a\" /* CoreMainMenuUserButtonComponent */], content[\"a\" /* CoreContentDirective */], ionic_angular[\"v\" /* IonContent */], split_view[\"a\" /* CoreSplitViewComponent */], ionic_angular[\"bb\" /* IonRefresher */], ionic_angular[\"cb\" /* IonRefresherContent */], search_box[\"a\" /* CoreSearchBoxComponent */], loading[\"a\" /* CoreLoadingComponent */], ionic_angular[\"P\" /* IonList */], ionic_angular[\"I\" /* IonItem */], ionic_angular[\"D\" /* IonIcon */], fa_icon[\"a\" /* CoreFaIconDirective */], ionic_angular[\"O\" /* IonLabel */], common[\"t\" /* NgIf */], ionic_angular[\"J\" /* IonItemDivider */], ionic_angular[\"W\" /* IonNote */], ionic_angular[\"k\" /* IonBadge */], common[\"s\" /* NgForOf */], user_avatar[\"a\" /* CoreUserAvatarComponent */], format_text[\"a\" /* CoreFormatTextDirective */], empty_box[\"a\" /* CoreEmptyBoxComponent */]], pipes: [ngx_translate_core[\"d\" /* TranslatePipe */], date_day_or_time[\"a\" /* CoreDateDayOrTimePipe */]], styles: [\"[_nghost-%COMP%]   .addon-message-discussion[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%], [_nghost-%COMP%]   .addon-messages-conversation-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin-right:0;margin-left:0}[_nghost-%COMP%]   .addon-message-discussion[_ngcontent-%COMP%]   .item-heading[_ngcontent-%COMP%]   core-format-text[_ngcontent-%COMP%], [_nghost-%COMP%]   .addon-messages-conversation-item[_ngcontent-%COMP%]   .item-heading[_ngcontent-%COMP%]   core-format-text[_ngcontent-%COMP%]{font-weight:700}[_nghost-%COMP%]   .addon-message-discussion[_ngcontent-%COMP%]   .item-heading[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .addon-messages-conversation-item[_ngcontent-%COMP%]   .item-heading[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-left:2px}@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){[_nghost-%COMP%]   .addon-message-discussion[_ngcontent-%COMP%]   .item-heading[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .addon-messages-conversation-item[_ngcontent-%COMP%]   .item-heading[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-left:unset;-webkit-margin-start:2px;margin-inline-start:2px}}[_nghost-%COMP%]   .addon-message-discussion[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%], [_nghost-%COMP%]   .addon-messages-conversation-item[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-self:flex-start;margin-left:2px}@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){[_nghost-%COMP%]   .addon-message-discussion[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%], [_nghost-%COMP%]   .addon-messages-conversation-item[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-left:unset;-webkit-margin-start:2px;margin-inline-start:2px}}[_nghost-%COMP%]   .addon-message-discussion[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]   ion-badge[_ngcontent-%COMP%], [_nghost-%COMP%]   .addon-message-discussion[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .addon-messages-conversation-item[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]   ion-badge[_ngcontent-%COMP%], [_nghost-%COMP%]   .addon-messages-conversation-item[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-top:3px;align-self:flex-end}[_nghost-%COMP%]   .addon-message-discussion[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]   .addon-message-last-message-date[_ngcontent-%COMP%], [_nghost-%COMP%]   .addon-messages-conversation-item[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]   .addon-message-last-message-date[_ngcontent-%COMP%]{white-space:nowrap;font-size:11px}[_nghost-%COMP%]   .addon-message-discussion[_ngcontent-%COMP%]   .addon-message-last-message[_ngcontent-%COMP%], [_nghost-%COMP%]   .addon-messages-conversation-item[_ngcontent-%COMP%]   .addon-message-last-message[_ngcontent-%COMP%]{display:flex;justify-content:flex-start}[_nghost-%COMP%]   .addon-message-discussion[_ngcontent-%COMP%]   .addon-message-last-message-user[_ngcontent-%COMP%], [_nghost-%COMP%]   .addon-messages-conversation-item[_ngcontent-%COMP%]   .addon-message-last-message-user[_ngcontent-%COMP%]{white-space:nowrap;color:var(--ion-text-color);margin-right:2px}@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){[_nghost-%COMP%]   .addon-message-discussion[_ngcontent-%COMP%]   .addon-message-last-message-user[_ngcontent-%COMP%], [_nghost-%COMP%]   .addon-messages-conversation-item[_ngcontent-%COMP%]   .addon-message-last-message-user[_ngcontent-%COMP%]{margin-right:unset;-webkit-margin-end:2px;margin-inline-end:2px}}[_nghost-%COMP%]   .addon-message-discussion[_ngcontent-%COMP%]   .addon-message-last-message-text[_ngcontent-%COMP%], [_nghost-%COMP%]   .addon-messages-conversation-item[_ngcontent-%COMP%]   .addon-message-last-message-text[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex-shrink:1}[_nghost-%COMP%]   .addon-message-discussion[_ngcontent-%COMP%]   .item-heading[_ngcontent-%COMP%]{margin-top:10px}[_nghost-%COMP%]   ion-item-divider[_ngcontent-%COMP%]   ion-badge[_ngcontent-%COMP%]{margin-left:16px;margin-right:16px}\"] });\n    return AddonMessagesDiscussions35Page;\n})();\n\n// EXTERNAL MODULE: ./src/addons/messages/services/handlers/mainmenu.ts\nvar mainmenu = __webpack_require__(\"OQOI\");\n\n// EXTERNAL MODULE: ./src/core/features/mainmenu/components/components.module.ts\nvar components_components_module = __webpack_require__(\"dQ3M\");\n\n// CONCATENATED MODULE: ./src/addons/messages/pages/discussions-35/discussions.module.ts\n// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n\n\n\n\n\n\n\n\nconst mobileRoutes = [\n    {\n        path: '',\n        data: {\n            mainMenuTabRoot: mainmenu[\"b\" /* AddonMessagesMainMenuHandlerService */].PAGE_NAME,\n        },\n        component: discussions_page_AddonMessagesDiscussions35Page,\n    },\n    messages_lazy_module[\"AddonMessagesDiscussionRoute\"],\n];\nconst tabletRoutes = [\n    {\n        path: '',\n        data: {\n            mainMenuTabRoot: mainmenu[\"b\" /* AddonMessagesMainMenuHandlerService */].PAGE_NAME,\n        },\n        component: discussions_page_AddonMessagesDiscussions35Page,\n        children: [\n            messages_lazy_module[\"AddonMessagesDiscussionRoute\"],\n        ],\n    },\n];\nconst routes = [\n    ...Object(app_routing_module[\"c\" /* conditionalRoutes */])(mobileRoutes, () => screen[\"a\" /* CoreScreen */].isMobile),\n    ...Object(app_routing_module[\"c\" /* conditionalRoutes */])(tabletRoutes, () => screen[\"a\" /* CoreScreen */].isTablet),\n];\nlet discussions_module_AddonMessagesDiscussions35PageModule = /*@__PURE__*/ (() => {\n    class AddonMessagesDiscussions35PageModule {\n    }\n    AddonMessagesDiscussions35PageModule.ɵmod = core[\"wc\" /* ɵɵdefineNgModule */]({ type: AddonMessagesDiscussions35PageModule });\n    AddonMessagesDiscussions35PageModule.ɵinj = core[\"vc\" /* ɵɵdefineInjector */]({ factory: function AddonMessagesDiscussions35PageModule_Factory(t) { return new (t || AddonMessagesDiscussions35PageModule)(); }, imports: [[\n                router[\"m\" /* RouterModule */].forChild(routes),\n                shared_module[\"a\" /* CoreSharedModule */],\n                components_module[\"a\" /* CoreSearchComponentsModule */],\n                components_components_module[\"a\" /* CoreMainMenuComponentsModule */],\n            ], router[\"m\" /* RouterModule */]] });\n    return AddonMessagesDiscussions35PageModule;\n})();\n(function () {\n    (typeof ngJitMode === \"undefined\" || ngJitMode) && core[\"kd\" /* ɵɵsetNgModuleScope */](discussions_module_AddonMessagesDiscussions35PageModule, { declarations: [discussions_page_AddonMessagesDiscussions35Page], imports: [router[\"m\" /* RouterModule */], shared_module[\"a\" /* CoreSharedModule */],\n            components_module[\"a\" /* CoreSearchComponentsModule */],\n            components_components_module[\"a\" /* CoreMainMenuComponentsModule */]], exports: [router[\"m\" /* RouterModule */]] });\n})();\n\n\n/***/ })\n\n}]);","inputSourceMap":null}