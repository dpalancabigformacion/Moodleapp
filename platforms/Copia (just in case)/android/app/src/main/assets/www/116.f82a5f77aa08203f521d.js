(window.webpackJsonp=window.webpackJsonp||[]).push([[116],{"9XWE":function(e,n,i){"use strict";i.r(n),i.d(n,"CoreSettingsLicensesPageModule",(function(){return L}));var t=i("tyNb"),o=i("L3Fv"),s=i("mrSG"),c=i("BaYo"),r=i("j3ag"),a=i("fXoL"),l=i("TEn/"),_=i("nt/U"),g=i("PgjG"),p=i("3Pt+"),d=i("ofXK"),f=i("iSJP"),m=i("ACYt"),u=i("sYmb");function CoreSettingsLicensesPage_ion_item_14_Template(e,n){if(1&e&&(a.Ec(0,"ion-item",7),a.Ec(1,"ion-label"),a.pd(2),a.Pc(3,"translate"),a.Dc(),a.Ec(4,"ion-button",8),a.pd(5),a.Pc(6,"translate"),a.Dc(),a.Dc()),2&e){const e=a.Oc();a.Vc("href",e.licensesUrl),a.lc(2),a.rd(" ",a.Qc(3,4,"core.settings.opensourcelicenses")," "),a.lc(2),a.Vc("href",e.licensesUrl),a.lc(1),a.rd(" ",a.Qc(6,6,"core.view"),"")}}function CoreSettingsLicensesPage_ng_container_15_ion_item_1_a_3_Template(e,n){if(1&e&&(a.Ec(0,"a",16),a.pd(1),a.Dc()),2&e){const e=a.Oc().$implicit;a.Vc("href",e.repository,a.id),a.lc(1),a.qd(e.name)}}function CoreSettingsLicensesPage_ng_container_15_ion_item_1_ng_container_4_Template(e,n){if(1&e&&(a.Cc(0),a.pd(1),a.Bc()),2&e){const e=a.Oc().$implicit;a.lc(1),a.qd(e.name)}}function CoreSettingsLicensesPage_ng_container_15_ion_item_1_p_6_Template(e,n){if(1&e&&(a.Ec(0,"p",11),a.pd(1),a.Pc(2,"translate"),a.Pc(3,"translate"),a.Dc()),2&e){const e=a.Oc().$implicit;a.lc(1),a.td(" ",a.Qc(2,3,"core.settings.publisher"),"",a.Qc(3,5,"core.labelsep")," ",e.publisher," ")}}function CoreSettingsLicensesPage_ng_container_15_ion_item_1_a_12_Template(e,n){if(1&e&&(a.Ec(0,"a",16),a.pd(1),a.Dc()),2&e){const e=a.Oc().$implicit;a.Vc("href",e.url,a.id),a.lc(1),a.qd(e.url)}}function CoreSettingsLicensesPage_ng_container_15_ion_item_1_a_14_Template(e,n){if(1&e&&(a.Ec(0,"a",17),a.pd(1),a.Dc()),2&e){const e=a.Oc().$implicit;a.Vc("href","mailto:"+e.email,a.id)("showBrowserWarning",!1),a.lc(1),a.qd(e.email)}}function CoreSettingsLicensesPage_ng_container_15_ion_item_1_ion_button_15_Template(e,n){if(1&e&&(a.Ec(0,"ion-button",8),a.pd(1),a.Pc(2,"translate"),a.Dc()),2&e){const e=a.Oc().$implicit;a.Vc("href",e.licenseUrl),a.lc(1),a.qd(a.Qc(2,2,"core.view"))}}function CoreSettingsLicensesPage_ng_container_15_ion_item_1_Template(e,n){if(1&e&&(a.Ec(0,"ion-item",10),a.Ec(1,"ion-label"),a.Ec(2,"p",11),a.nd(3,CoreSettingsLicensesPage_ng_container_15_ion_item_1_a_3_Template,2,2,"a",12),a.nd(4,CoreSettingsLicensesPage_ng_container_15_ion_item_1_ng_container_4_Template,2,1,"ng-container",6),a.pd(5),a.Dc(),a.nd(6,CoreSettingsLicensesPage_ng_container_15_ion_item_1_p_6_Template,4,7,"p",13),a.Ec(7,"p"),a.pd(8),a.Pc(9,"translate"),a.Pc(10,"translate"),a.Dc(),a.Ec(11,"p"),a.nd(12,CoreSettingsLicensesPage_ng_container_15_ion_item_1_a_12_Template,2,2,"a",12),a.Dc(),a.Ec(13,"p"),a.nd(14,CoreSettingsLicensesPage_ng_container_15_ion_item_1_a_14_Template,2,3,"a",14),a.Dc(),a.Dc(),a.nd(15,CoreSettingsLicensesPage_ng_container_15_ion_item_1_ion_button_15_Template,3,4,"ion-button",15),a.Dc()),2&e){const e=n.$implicit;a.lc(3),a.Vc("ngIf",e.repository),a.lc(1),a.Vc("ngIf",!e.repository),a.lc(1),a.rd(" - ",e.version," "),a.lc(1),a.Vc("ngIf",e.publisher),a.lc(2),a.td("",a.Qc(9,10,"core.settings.license"),"",a.Qc(10,12,"core.labelsep")," ",e.licenses,""),a.lc(4),a.Vc("ngIf",e.url),a.lc(2),a.Vc("ngIf",e.email),a.lc(1),a.Vc("ngIf",e.licenseUrl)}}function CoreSettingsLicensesPage_ng_container_15_Template(e,n){if(1&e&&(a.Cc(0),a.nd(1,CoreSettingsLicensesPage_ng_container_15_ion_item_1_Template,16,14,"ion-item",9),a.Bc()),2&e){const e=a.Oc();a.lc(1),a.Vc("ngForOf",e.licenses)}}let h=(()=>{class CoreSettingsLicensesPage{constructor(){this.loaded=!1,this.licenses=[],this.error=!1,this.textFilter="",this.allLicenses=[],this.appLicenseVersion=c.a.CONFIG.versionname.indexOf("-")>0?"integration":"v"+c.a.CONFIG.versionname,this.licensesUrl="https://raw.githubusercontent.com/moodlehq/moodleapp/"+this.appLicenseVersion+"/licenses.json"}ngOnInit(){return Object(s.a)(this,void 0,void 0,(function*(){try{const e=yield r.q.get(this.licensesUrl).toPromise();this.allLicenses=Object.keys(e).map((n=>{const i=e[n],t=n.lastIndexOf("@");if(i.name=n.substring(0,t),i.version=n.substring(t+1),Array.isArray(i.licenses)&&(i.licenses=i.licenses.join(", ")),i.repository&&(i.repository=i.repository.replace("git://","https://"),i.repository.indexOf("github.com")>0)){i.licenseUrl=i.repository+"/blob/"+("moodlemobile"==i.name?this.appLicenseVersion:i.version)+"/"+i.licenseFile}return i})),this.filterLicenses(),this.error=!1}catch(e){this.error=!0}this.loaded=!0}))}filterLicenses(){const e=this.textFilter.trim().toLowerCase();if(""==e)return this.licenses=this.allLicenses,void 0;this.licenses=this.allLicenses.filter((n=>n.name.toLowerCase().indexOf(e)>=0||n.version.toLowerCase().indexOf(e)>=0||"string"==typeof n.licenses&&n.licenses.toLowerCase().indexOf(e)>=0||n.repository&&n.repository.toLowerCase().indexOf(e)>=0||n.publisher&&n.publisher.toLowerCase().indexOf(e)>=0||n.url&&n.url.toLowerCase().indexOf(e)>=0||n.email&&n.email.toLowerCase().indexOf(e)>=0))}filterChanged(e){this.textFilter=e.value||"",this.filterLicenses()}}return CoreSettingsLicensesPage.ɵfac=function CoreSettingsLicensesPage_Factory(e){return new(e||CoreSettingsLicensesPage)},CoreSettingsLicensesPage.ɵcmp=a.sc({type:CoreSettingsLicensesPage,selectors:[["page-core-app-settings-licenses"]],decls:16,vars:13,consts:[["slot","start"],[3,"text"],[1,"limited-width"],[3,"hideUntil"],[3,"ngModel","placeholder","ngModelChange","ionInput","ionCancel"],["button","","class","ion-text-wrap","core-link","","auto-login","no",3,"href",4,"ngIf"],[4,"ngIf"],["button","","core-link","","auto-login","no",1,"ion-text-wrap",3,"href"],["target","_blank","fill","clear","slot","end","core-link","","auto-login","no",3,"href"],["class","ion-text-wrap",4,"ngFor","ngForOf"],[1,"ion-text-wrap"],[1,"item-heading"],["core-link","","auto-login","no",3,"href",4,"ngIf"],["class","item-heading",4,"ngIf"],["core-link","","auto-login","no",3,"href","showBrowserWarning",4,"ngIf"],["target","_blank","fill","clear","slot","end","core-link","","auto-login","no",3,"href",4,"ngIf"],["core-link","","auto-login","no",3,"href"],["core-link","","auto-login","no",3,"href","showBrowserWarning"]],template:function CoreSettingsLicensesPage_Template(e,n){1&e&&(a.Ec(0,"ion-header"),a.Ec(1,"ion-toolbar"),a.Ec(2,"ion-buttons",0),a.zc(3,"ion-back-button",1),a.Pc(4,"translate"),a.Dc(),a.Ec(5,"ion-title"),a.Ec(6,"h1"),a.pd(7),a.Pc(8,"translate"),a.Dc(),a.Dc(),a.Dc(),a.Dc(),a.Ec(9,"ion-content",2),a.Ec(10,"core-loading",3),a.Ec(11,"ion-searchbar",4),a.Mc("ngModelChange",(function CoreSettingsLicensesPage_Template_ion_searchbar_ngModelChange_11_listener(e){return n.textFilter=e}))("ionInput",(function CoreSettingsLicensesPage_Template_ion_searchbar_ionInput_11_listener(e){return n.filterChanged(e.target)}))("ionCancel",(function CoreSettingsLicensesPage_Template_ion_searchbar_ionCancel_11_listener(e){return n.filterChanged(e.target)})),a.Pc(12,"translate"),a.Dc(),a.Ec(13,"ion-list"),a.nd(14,CoreSettingsLicensesPage_ion_item_14_Template,7,8,"ion-item",5),a.nd(15,CoreSettingsLicensesPage_ng_container_15_Template,2,1,"ng-container",6),a.Dc(),a.Dc(),a.Dc()),2&e&&(a.lc(3),a.Vc("text",a.Qc(4,7,"core.back")),a.lc(4),a.qd(a.Qc(8,9,"core.settings.opensourcelicenses")),a.lc(3),a.Vc("hideUntil",n.loaded),a.lc(1),a.Vc("ngModel",n.textFilter)("placeholder",a.Qc(12,11,"core.filter")),a.lc(3),a.Vc("ngIf",n.error),a.lc(1),a.Vc("ngIf",!n.error))},directives:[l.C,l.Ab,l.m,l.h,l.i,l.yb,_.a,l.v,g.a,l.ib,l.Pb,p.r,p.u,l.P,d.t,l.I,f.a,l.O,m.a,l.l,d.s],pipes:[u.d],encapsulation:2}),CoreSettingsLicensesPage})();const C=[{path:"",component:h}];let L=(()=>{class CoreSettingsLicensesPageModule{}return CoreSettingsLicensesPageModule.ɵmod=a.wc({type:CoreSettingsLicensesPageModule}),CoreSettingsLicensesPageModule.ɵinj=a.vc({factory:function CoreSettingsLicensesPageModule_Factory(e){return new(e||CoreSettingsLicensesPageModule)},imports:[[t.m.forChild(C),o.a],t.m]}),CoreSettingsLicensesPageModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&a.kd(L,{declarations:[h],imports:[t.m,o.a],exports:[t.m]}))}}]);