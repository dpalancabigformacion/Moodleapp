{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{\"37jC\":function(e,t,n){\"use strict\";n.r(t),n.d(t,\"AddonCalendarSettingsPageModule\",(function(){return C}));var a=n(\"tyNb\"),i=n(\"mrSG\"),d=n(\"SmTL\"),o=n(\"fjkH\"),l=n(\"9+EE\"),c=n(\"3LXp\"),s=n(\"2CAT\"),r=n(\"fXoL\"),u=n(\"TEn/\"),g=n(\"nt/U\"),m=n(\"ofXK\"),f=n(\"3Pt+\"),p=n(\"sYmb\");function AddonCalendarSettingsPage_ion_item_11_Template(e,t){if(1&e){const e=r.Fc();r.Ec(0,\"ion-item\"),r.Ec(1,\"ion-label\"),r.pd(2),r.Pc(3,\"translate\"),r.Dc(),r.Ec(4,\"ion-select\",3),r.Mc(\"ngModelChange\",(function AddonCalendarSettingsPage_ion_item_11_Template_ion_select_ngModelChange_4_listener(t){r.fd(e);return r.Oc().defaultTimeLabel=t}))(\"click\",(function AddonCalendarSettingsPage_ion_item_11_Template_ion_select_click_4_listener(t){r.fd(e);return r.Oc().changeDefaultTime(t)})),r.Ec(5,\"ion-select-option\",4),r.pd(6),r.Dc(),r.Dc(),r.Dc()}if(2&e){const e=r.Oc();r.lc(2),r.qd(r.Qc(3,4,\"addon.calendar.defaultnotificationtime\")),r.lc(2),r.Vc(\"ngModel\",e.defaultTimeLabel),r.lc(1),r.Vc(\"value\",e.defaultTimeLabel),r.lc(1),r.qd(e.defaultTimeLabel)}}let T=(()=>{class AddonCalendarSettingsPage{constructor(){this.defaultTimeLabel=\"\",this.defaultTime={value:0,unit:d.d.MINUTE}}ngOnInit(){return Object(i.a)(this,void 0,void 0,(function*(){const e=yield d.a.getDefaultNotificationTime();this.defaultTime=d.c.convertSecondsToValueAndUnit(e),this.defaultTimeLabel=d.a.getUnitValueLabel(this.defaultTime.value,this.defaultTime.unit)}))}changeDefaultTime(e){return Object(i.a)(this,void 0,void 0,(function*(){e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault();const t=yield c.a.openModal({component:s.a,componentProps:{initialValue:this.defaultTime,allowDisable:!0}});void 0!==t&&(this.defaultTime=d.c.convertSecondsToValueAndUnit(t),this.defaultTimeLabel=d.a.getUnitValueLabel(this.defaultTime.value,this.defaultTime.unit),this.updateDefaultTime(t))}))}updateDefaultTime(e){d.a.setDefaultNotificationTime(e),o.b.trigger(d.c.DEFAULT_NOTIFICATION_TIME_CHANGED,{time:e},l.b.getCurrentSiteId())}}return AddonCalendarSettingsPage.ɵfac=function AddonCalendarSettingsPage_Factory(e){return new(e||AddonCalendarSettingsPage)},AddonCalendarSettingsPage.ɵcmp=r.sc({type:AddonCalendarSettingsPage,selectors:[[\"page-addon-calendar-settings\"]],decls:12,vars:7,consts:[[\"slot\",\"start\"],[3,\"text\"],[4,\"ngIf\"],[3,\"ngModel\",\"ngModelChange\",\"click\"],[3,\"value\"]],template:function AddonCalendarSettingsPage_Template(e,t){1&e&&(r.Ec(0,\"ion-header\"),r.Ec(1,\"ion-toolbar\"),r.Ec(2,\"ion-buttons\",0),r.zc(3,\"ion-back-button\",1),r.Pc(4,\"translate\"),r.Dc(),r.Ec(5,\"ion-title\"),r.Ec(6,\"h1\"),r.pd(7),r.Pc(8,\"translate\"),r.Dc(),r.Dc(),r.Dc(),r.Dc(),r.Ec(9,\"ion-content\"),r.Ec(10,\"ion-list\"),r.nd(11,AddonCalendarSettingsPage_ion_item_11_Template,7,6,\"ion-item\",2),r.Dc(),r.Dc()),2&e&&(r.lc(3),r.Vc(\"text\",r.Qc(4,3,\"core.back\")),r.lc(4),r.qd(r.Qc(8,5,\"core.settings.settings\")),r.lc(4),r.Vc(\"ngIf\",t.defaultTimeLabel))},directives:[u.C,u.Ab,u.m,u.h,u.i,u.yb,g.a,u.v,u.P,m.t,u.I,u.O,u.lb,u.Ob,f.r,f.u,u.mb],pipes:[p.d],encapsulation:2}),AddonCalendarSettingsPage})();var _=n(\"L3Fv\");const b=[{path:\"\",component:T}];let C=(()=>{class AddonCalendarSettingsPageModule{}return AddonCalendarSettingsPageModule.ɵmod=r.wc({type:AddonCalendarSettingsPageModule}),AddonCalendarSettingsPageModule.ɵinj=r.vc({factory:function AddonCalendarSettingsPageModule_Factory(e){return new(e||AddonCalendarSettingsPageModule)},imports:[[a.m.forChild(b),_.a],a.m]}),AddonCalendarSettingsPageModule})();void((\"undefined\"==typeof ngJitMode||ngJitMode)&&r.kd(C,{declarations:[T],imports:[a.m,_.a],exports:[a.m]}))}}]);","name":"40.8b385a1f5c511b2c993c.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[40],{\n\n/***/ \"37jC\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"AddonCalendarSettingsPageModule\", function() { return /* binding */ settings_module_AddonCalendarSettingsPageModule; });\n\n// EXTERNAL MODULE: ./node_modules/@angular/router/__ivy_ngcc__/fesm2015/router.js + 10 modules\nvar router = __webpack_require__(\"tyNb\");\n\n// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.js\nvar tslib_es6 = __webpack_require__(\"mrSG\");\n\n// EXTERNAL MODULE: ./src/addons/calendar/services/calendar.ts\nvar calendar = __webpack_require__(\"SmTL\");\n\n// EXTERNAL MODULE: ./src/core/singletons/events.ts\nvar events = __webpack_require__(\"fjkH\");\n\n// EXTERNAL MODULE: ./src/core/services/sites.ts\nvar sites = __webpack_require__(\"9+EE\");\n\n// EXTERNAL MODULE: ./src/core/services/utils/dom.ts + 2 modules\nvar dom = __webpack_require__(\"3LXp\");\n\n// EXTERNAL MODULE: ./src/addons/calendar/components/reminder-time-modal/reminder-time-modal.ts\nvar reminder_time_modal = __webpack_require__(\"2CAT\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js\nvar core = __webpack_require__(\"fXoL\");\n\n// EXTERNAL MODULE: ./node_modules/@ionic/angular/__ivy_ngcc__/fesm2015/ionic-angular.js + 5 modules\nvar ionic_angular = __webpack_require__(\"TEn/\");\n\n// EXTERNAL MODULE: ./src/core/directives/content.ts\nvar content = __webpack_require__(\"nt/U\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/common/__ivy_ngcc__/fesm2015/common.js\nvar common = __webpack_require__(\"ofXK\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/forms/__ivy_ngcc__/fesm2015/forms.js\nvar fesm2015_forms = __webpack_require__(\"3Pt+\");\n\n// EXTERNAL MODULE: ./node_modules/@ngx-translate/core/__ivy_ngcc__/fesm2015/ngx-translate-core.js + 8 modules\nvar ngx_translate_core = __webpack_require__(\"sYmb\");\n\n// CONCATENATED MODULE: ./src/addons/calendar/pages/settings/settings.ts\n\n// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n\n\n\n\n\n\n\n\nfunction AddonCalendarSettingsPage_ion_item_11_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r2 = core[\"Fc\" /* ɵɵgetCurrentView */]();\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-item\");\n        core[\"Ec\" /* ɵɵelementStart */](1, \"ion-label\");\n        core[\"pd\" /* ɵɵtext */](2);\n        core[\"Pc\" /* ɵɵpipe */](3, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Ec\" /* ɵɵelementStart */](4, \"ion-select\", 3);\n        core[\"Mc\" /* ɵɵlistener */](\"ngModelChange\", function AddonCalendarSettingsPage_ion_item_11_Template_ion_select_ngModelChange_4_listener($event) { core[\"fd\" /* ɵɵrestoreView */](_r2); const ctx_r1 = core[\"Oc\" /* ɵɵnextContext */](); return ctx_r1.defaultTimeLabel = $event; })(\"click\", function AddonCalendarSettingsPage_ion_item_11_Template_ion_select_click_4_listener($event) { core[\"fd\" /* ɵɵrestoreView */](_r2); const ctx_r3 = core[\"Oc\" /* ɵɵnextContext */](); return ctx_r3.changeDefaultTime($event); });\n        core[\"Ec\" /* ɵɵelementStart */](5, \"ion-select-option\", 4);\n        core[\"pd\" /* ɵɵtext */](6);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r0 = core[\"Oc\" /* ɵɵnextContext */]();\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](3, 4, \"addon.calendar.defaultnotificationtime\"));\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"ngModel\", ctx_r0.defaultTimeLabel);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"value\", ctx_r0.defaultTimeLabel);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"qd\" /* ɵɵtextInterpolate */](ctx_r0.defaultTimeLabel);\n    }\n}\n/**\n * Page that displays the calendar settings.\n */\nlet settings_AddonCalendarSettingsPage = /*@__PURE__*/ (() => {\n    class AddonCalendarSettingsPage {\n        constructor() {\n            this.defaultTimeLabel = '';\n            this.defaultTime = {\n                value: 0,\n                unit: calendar[\"d\" /* AddonCalendarReminderUnits */].MINUTE,\n            };\n        }\n        /**\n         * View loaded.\n         */\n        ngOnInit() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                const defaultTime = yield calendar[\"a\" /* AddonCalendar */].getDefaultNotificationTime();\n                this.defaultTime = calendar[\"c\" /* AddonCalendarProvider */].convertSecondsToValueAndUnit(defaultTime);\n                this.defaultTimeLabel = calendar[\"a\" /* AddonCalendar */].getUnitValueLabel(this.defaultTime.value, this.defaultTime.unit);\n            });\n        }\n        /**\n         * Change default time.\n         *\n         * @param e Event.\n         * @return Promise resolved when done.\n         */\n        changeDefaultTime(e) {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                e.stopPropagation();\n                e.stopImmediatePropagation();\n                e.preventDefault();\n                const reminderTime = yield dom[\"a\" /* CoreDomUtils */].openModal({\n                    component: reminder_time_modal[\"a\" /* AddonCalendarReminderTimeModalComponent */],\n                    componentProps: {\n                        initialValue: this.defaultTime,\n                        allowDisable: true,\n                    },\n                });\n                if (reminderTime === undefined) {\n                    // User canceled.\n                    return;\n                }\n                this.defaultTime = calendar[\"c\" /* AddonCalendarProvider */].convertSecondsToValueAndUnit(reminderTime);\n                this.defaultTimeLabel = calendar[\"a\" /* AddonCalendar */].getUnitValueLabel(this.defaultTime.value, this.defaultTime.unit);\n                this.updateDefaultTime(reminderTime);\n            });\n        }\n        /**\n         * Update default time.\n         *\n         * @param newTime New time.\n         */\n        updateDefaultTime(newTime) {\n            calendar[\"a\" /* AddonCalendar */].setDefaultNotificationTime(newTime);\n            events[\"b\" /* CoreEvents */].trigger(calendar[\"c\" /* AddonCalendarProvider */].DEFAULT_NOTIFICATION_TIME_CHANGED, { time: newTime }, sites[\"b\" /* CoreSites */].getCurrentSiteId());\n        }\n    }\n    AddonCalendarSettingsPage.ɵfac = function AddonCalendarSettingsPage_Factory(t) { return new (t || AddonCalendarSettingsPage)(); };\n    AddonCalendarSettingsPage.ɵcmp = core[\"sc\" /* ɵɵdefineComponent */]({ type: AddonCalendarSettingsPage, selectors: [[\"page-addon-calendar-settings\"]], decls: 12, vars: 7, consts: [[\"slot\", \"start\"], [3, \"text\"], [4, \"ngIf\"], [3, \"ngModel\", \"ngModelChange\", \"click\"], [3, \"value\"]], template: function AddonCalendarSettingsPage_Template(rf, ctx) {\n            if (rf & 1) {\n                core[\"Ec\" /* ɵɵelementStart */](0, \"ion-header\");\n                core[\"Ec\" /* ɵɵelementStart */](1, \"ion-toolbar\");\n                core[\"Ec\" /* ɵɵelementStart */](2, \"ion-buttons\", 0);\n                core[\"zc\" /* ɵɵelement */](3, \"ion-back-button\", 1);\n                core[\"Pc\" /* ɵɵpipe */](4, \"translate\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](5, \"ion-title\");\n                core[\"Ec\" /* ɵɵelementStart */](6, \"h1\");\n                core[\"pd\" /* ɵɵtext */](7);\n                core[\"Pc\" /* ɵɵpipe */](8, \"translate\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](9, \"ion-content\");\n                core[\"Ec\" /* ɵɵelementStart */](10, \"ion-list\");\n                core[\"nd\" /* ɵɵtemplate */](11, AddonCalendarSettingsPage_ion_item_11_Template, 7, 6, \"ion-item\", 2);\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n            }\n            if (rf & 2) {\n                core[\"lc\" /* ɵɵadvance */](3);\n                core[\"Vc\" /* ɵɵproperty */](\"text\", core[\"Qc\" /* ɵɵpipeBind1 */](4, 3, \"core.back\"));\n                core[\"lc\" /* ɵɵadvance */](4);\n                core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](8, 5, \"core.settings.settings\"));\n                core[\"lc\" /* ɵɵadvance */](4);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx.defaultTimeLabel);\n            }\n        }, directives: [ionic_angular[\"C\" /* IonHeader */], ionic_angular[\"Ab\" /* IonToolbar */], ionic_angular[\"m\" /* IonButtons */], ionic_angular[\"h\" /* IonBackButton */], ionic_angular[\"i\" /* IonBackButtonDelegate */], ionic_angular[\"yb\" /* IonTitle */], content[\"a\" /* CoreContentDirective */], ionic_angular[\"v\" /* IonContent */], ionic_angular[\"P\" /* IonList */], common[\"t\" /* NgIf */], ionic_angular[\"I\" /* IonItem */], ionic_angular[\"O\" /* IonLabel */], ionic_angular[\"lb\" /* IonSelect */], ionic_angular[\"Ob\" /* SelectValueAccessor */], fesm2015_forms[\"r\" /* NgControlStatus */], fesm2015_forms[\"u\" /* NgModel */], ionic_angular[\"mb\" /* IonSelectOption */]], pipes: [ngx_translate_core[\"d\" /* TranslatePipe */]], encapsulation: 2 });\n    return AddonCalendarSettingsPage;\n})();\n\n// EXTERNAL MODULE: ./src/core/shared.module.ts + 3 modules\nvar shared_module = __webpack_require__(\"L3Fv\");\n\n// CONCATENATED MODULE: ./src/addons/calendar/pages/settings/settings.module.ts\n// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n\n\nconst routes = [\n    {\n        path: '',\n        component: settings_AddonCalendarSettingsPage,\n    },\n];\nlet settings_module_AddonCalendarSettingsPageModule = /*@__PURE__*/ (() => {\n    class AddonCalendarSettingsPageModule {\n    }\n    AddonCalendarSettingsPageModule.ɵmod = core[\"wc\" /* ɵɵdefineNgModule */]({ type: AddonCalendarSettingsPageModule });\n    AddonCalendarSettingsPageModule.ɵinj = core[\"vc\" /* ɵɵdefineInjector */]({ factory: function AddonCalendarSettingsPageModule_Factory(t) { return new (t || AddonCalendarSettingsPageModule)(); }, imports: [[\n                router[\"m\" /* RouterModule */].forChild(routes),\n                shared_module[\"a\" /* CoreSharedModule */],\n            ], router[\"m\" /* RouterModule */]] });\n    return AddonCalendarSettingsPageModule;\n})();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && core[\"kd\" /* ɵɵsetNgModuleScope */](settings_module_AddonCalendarSettingsPageModule, { declarations: [settings_AddonCalendarSettingsPage], imports: [router[\"m\" /* RouterModule */], shared_module[\"a\" /* CoreSharedModule */]], exports: [router[\"m\" /* RouterModule */]] }); })();\n\n\n/***/ })\n\n}]);","inputSourceMap":null}