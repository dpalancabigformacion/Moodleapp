{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{YHcW:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"AddonCalendarEditEventPageModule\",(function(){return L}));var o=n(\"tyNb\"),i=n(\"L3Fv\"),a=n(\"ekpb\"),r=n(\"mrSG\"),c=n(\"3Pt+\"),d=n(\"fjkH\"),l=n(\"mWdr\"),s=n(\"9+EE\"),m=n(\"uT8i\"),u=n(\"3LXp\"),_=n(\"Q98t\"),p=n(\"bFG1\"),f=n(\"Xzvb\"),h=n(\"N5Lt\"),E=n(\"SmTL\"),g=n(\"Lc7R\"),v=n(\"n6RP\"),C=n(\"+lfu\"),b=n(\"j3ag\"),D=n(\"D2MD\"),P=n(\"93ts\"),y=n(\"pHTc\"),T=n(\"4reR\"),V=n(\"ANhT\"),O=n(\"2CAT\"),A=n(\"fXoL\"),I=n(\"TEn/\"),w=n(\"nt/U\"),Q=n(\"PgjG\"),F=n(\"ofXK\"),M=n(\"FasJ\"),k=n(\"FTxb\"),x=n(\"ACYt\"),N=n(\"3CSS\"),q=n(\"3jOR\"),S=n(\"sYmb\");const R=[\"editEventForm\"];function AddonCalendarEditEventPage_form_14_p_23_Template(e,t){if(1&e&&(A.Ec(0,\"p\",28),A.pd(1),A.Pc(2,\"translate\"),A.Dc()),2&e){const e=A.Oc(2);A.lc(1),A.qd(A.Qc(2,1,e.eventTypes[0].name))}}function AddonCalendarEditEventPage_form_14_ion_select_24_ion_select_option_2_Template(e,t){if(1&e&&(A.Ec(0,\"ion-select-option\",31),A.pd(1),A.Pc(2,\"translate\"),A.Dc()),2&e){const e=t.$implicit;A.Vc(\"value\",e.value),A.lc(1),A.rd(\" \",A.Qc(2,2,e.name),\" \")}}const _c1=function(e){return{header:e}};function AddonCalendarEditEventPage_form_14_ion_select_24_Template(e,t){if(1&e&&(A.Ec(0,\"ion-select\",29),A.Pc(1,\"translate\"),A.nd(2,AddonCalendarEditEventPage_form_14_ion_select_24_ion_select_option_2_Template,3,4,\"ion-select-option\",30),A.Dc()),2&e){const e=A.Oc(2);A.Vc(\"interfaceOptions\",A.ad(4,_c1,A.Qc(1,2,\"addon.calendar.eventkind\"))),A.lc(2),A.Vc(\"ngForOf\",e.eventTypes)}}function AddonCalendarEditEventPage_form_14_ion_item_25_ion_select_option_8_Template(e,t){if(1&e&&(A.Ec(0,\"ion-select-option\",31),A.pd(1),A.Dc()),2&e){const e=t.$implicit;A.Vc(\"value\",e.id),A.lc(1),A.rd(\" \",e.name,\" \")}}function AddonCalendarEditEventPage_form_14_ion_item_25_Template(e,t){if(1&e&&(A.Ec(0,\"ion-item\",9),A.Ec(1,\"ion-label\"),A.Ec(2,\"p\",11),A.pd(3),A.Pc(4,\"translate\"),A.Dc(),A.Dc(),A.Ec(5,\"ion-select\",32),A.Pc(6,\"translate\"),A.Pc(7,\"translate\"),A.nd(8,AddonCalendarEditEventPage_form_14_ion_item_25_ion_select_option_8_Template,2,2,\"ion-select-option\",30),A.Dc(),A.Dc()),2&e){const e=A.Oc(2);A.lc(2),A.Vc(\"core-mark-required\",!0),A.lc(1),A.qd(A.Qc(4,5,\"core.category\")),A.lc(2),A.Vc(\"placeholder\",A.Qc(6,7,\"core.noselection\"))(\"interfaceOptions\",A.ad(11,_c1,A.Qc(7,9,\"core.category\"))),A.lc(3),A.Vc(\"ngForOf\",e.categories)}}function AddonCalendarEditEventPage_form_14_ion_item_26_ion_select_option_8_Template(e,t){if(1&e&&(A.Ec(0,\"ion-select-option\",31),A.pd(1),A.Dc()),2&e){const e=t.$implicit;A.Vc(\"value\",e.id),A.lc(1),A.qd(e.fullname)}}function AddonCalendarEditEventPage_form_14_ion_item_26_Template(e,t){if(1&e&&(A.Ec(0,\"ion-item\",9),A.Ec(1,\"ion-label\"),A.Ec(2,\"p\",11),A.pd(3),A.Pc(4,\"translate\"),A.Dc(),A.Dc(),A.Ec(5,\"ion-select\",33),A.Pc(6,\"translate\"),A.Pc(7,\"translate\"),A.nd(8,AddonCalendarEditEventPage_form_14_ion_item_26_ion_select_option_8_Template,2,2,\"ion-select-option\",30),A.Dc(),A.Dc()),2&e){const e=A.Oc(2);A.lc(2),A.Vc(\"core-mark-required\",!0),A.lc(1),A.qd(A.Qc(4,5,\"core.course\")),A.lc(2),A.Vc(\"placeholder\",A.Qc(6,7,\"core.noselection\"))(\"interfaceOptions\",A.ad(11,_c1,A.Qc(7,9,\"core.course\"))),A.lc(3),A.Vc(\"ngForOf\",e.courses)}}function AddonCalendarEditEventPage_form_14_ng_container_27_ion_select_option_9_Template(e,t){if(1&e&&(A.Ec(0,\"ion-select-option\",31),A.pd(1),A.Dc()),2&e){const e=t.$implicit;A.Vc(\"value\",e.id),A.lc(1),A.rd(\" \",e.fullname,\" \")}}function AddonCalendarEditEventPage_form_14_ng_container_27_ion_item_10_Template(e,t){1&e&&(A.Ec(0,\"ion-item\",37),A.Ec(1,\"ion-label\"),A.Ec(2,\"p\"),A.pd(3),A.Pc(4,\"translate\"),A.Dc(),A.Dc(),A.Dc()),2&e&&(A.lc(3),A.qd(A.Qc(4,1,\"core.coursenogroups\")))}function AddonCalendarEditEventPage_form_14_ng_container_27_ion_item_11_ion_select_option_8_Template(e,t){if(1&e&&(A.Ec(0,\"ion-select-option\",31),A.pd(1),A.Dc()),2&e){const e=t.$implicit;A.Vc(\"value\",e.id),A.lc(1),A.qd(e.name)}}function AddonCalendarEditEventPage_form_14_ng_container_27_ion_item_11_Template(e,t){if(1&e&&(A.Ec(0,\"ion-item\",38),A.Ec(1,\"ion-label\"),A.Ec(2,\"p\",11),A.pd(3),A.Pc(4,\"translate\"),A.Dc(),A.Dc(),A.Ec(5,\"ion-select\",39),A.Pc(6,\"translate\"),A.Pc(7,\"translate\"),A.nd(8,AddonCalendarEditEventPage_form_14_ng_container_27_ion_item_11_ion_select_option_8_Template,2,2,\"ion-select-option\",30),A.Dc(),A.Dc()),2&e){const e=A.Oc(3);A.lc(2),A.Vc(\"core-mark-required\",!0),A.lc(1),A.qd(A.Qc(4,5,\"core.group\")),A.lc(2),A.Vc(\"placeholder\",A.Qc(6,7,\"core.noselection\"))(\"interfaceOptions\",A.ad(11,_c1,A.Qc(7,9,\"core.group\"))),A.lc(3),A.Vc(\"ngForOf\",e.groups)}}function AddonCalendarEditEventPage_form_14_ng_container_27_ion_item_12_ion_spinner_2_Template(e,t){1&e&&(A.zc(0,\"ion-spinner\"),A.Pc(1,\"translate\")),2&e&&A.mc(\"aria-label\",A.Qc(1,1,\"core.loading\"))}function AddonCalendarEditEventPage_form_14_ng_container_27_ion_item_12_Template(e,t){if(1&e&&(A.Ec(0,\"ion-item\",9),A.Ec(1,\"ion-label\"),A.nd(2,AddonCalendarEditEventPage_form_14_ng_container_27_ion_item_12_ion_spinner_2_Template,2,3,\"ion-spinner\",19),A.Dc(),A.Dc()),2&e){const e=A.Oc(3);A.lc(2),A.Vc(\"ngIf\",e.loadingGroups)}}function AddonCalendarEditEventPage_form_14_ng_container_27_Template(e,t){if(1&e){const e=A.Fc();A.Cc(0),A.Ec(1,\"ion-item\",9),A.Ec(2,\"ion-label\"),A.Ec(3,\"p\",11),A.pd(4),A.Pc(5,\"translate\"),A.Dc(),A.Dc(),A.Ec(6,\"ion-select\",34),A.Mc(\"ionChange\",(function AddonCalendarEditEventPage_form_14_ng_container_27_Template_ion_select_ionChange_6_listener(){A.fd(e);return A.Oc(2).groupCourseSelected()})),A.Pc(7,\"translate\"),A.Pc(8,\"translate\"),A.nd(9,AddonCalendarEditEventPage_form_14_ng_container_27_ion_select_option_9_Template,2,2,\"ion-select-option\",30),A.Dc(),A.Dc(),A.nd(10,AddonCalendarEditEventPage_form_14_ng_container_27_ion_item_10_Template,5,3,\"ion-item\",35),A.nd(11,AddonCalendarEditEventPage_form_14_ng_container_27_ion_item_11_Template,9,13,\"ion-item\",36),A.nd(12,AddonCalendarEditEventPage_form_14_ng_container_27_ion_item_12_Template,3,1,\"ion-item\",18),A.Bc()}if(2&e){const e=A.Oc(2);A.lc(3),A.Vc(\"core-mark-required\",!0),A.lc(1),A.qd(A.Qc(5,8,\"core.course\")),A.lc(2),A.Vc(\"placeholder\",A.Qc(7,10,\"core.noselection\"))(\"interfaceOptions\",A.ad(14,_c1,A.Qc(8,12,\"core.course\"))),A.lc(3),A.Vc(\"ngForOf\",e.courses),A.lc(1),A.Vc(\"ngIf\",!e.loadingGroups&&e.courseGroupSet&&!e.groups.length),A.lc(1),A.Vc(\"ngIf\",!e.loadingGroups&&e.groups.length>0),A.lc(1),A.Vc(\"ngIf\",e.loadingGroups)}}function AddonCalendarEditEventPage_form_14_ng_container_28_ion_item_9_Template(e,t){if(1&e){const e=A.Fc();A.Ec(0,\"ion-item\",9),A.Ec(1,\"ion-label\"),A.Ec(2,\"p\"),A.pd(3),A.Dc(),A.Dc(),A.Ec(4,\"ion-button\",41),A.Mc(\"click\",(function AddonCalendarEditEventPage_form_14_ng_container_28_ion_item_9_Template_ion_button_click_4_listener(){A.fd(e);const n=t.$implicit;return A.Oc(3).removeReminder(n)})),A.Pc(5,\"translate\"),A.zc(6,\"ion-icon\",44),A.Dc(),A.Dc()}if(2&e){const e=t.$implicit;A.lc(3),A.qd(e.label),A.lc(1),A.mc(\"aria-label\",A.Qc(5,2,\"core.delete\"))}}function AddonCalendarEditEventPage_form_14_ng_container_28_Template(e,t){if(1&e){const e=A.Fc();A.Cc(0),A.Ec(1,\"ion-item-divider\",40),A.Ec(2,\"ion-label\"),A.Ec(3,\"p\",23),A.pd(4),A.Pc(5,\"translate\"),A.Dc(),A.Dc(),A.Ec(6,\"ion-button\",41),A.Mc(\"click\",(function AddonCalendarEditEventPage_form_14_ng_container_28_Template_ion_button_click_6_listener(){A.fd(e);return A.Oc(2).addReminder()})),A.Pc(7,\"translate\"),A.zc(8,\"ion-icon\",42),A.Dc(),A.Dc(),A.nd(9,AddonCalendarEditEventPage_form_14_ng_container_28_ion_item_9_Template,7,4,\"ion-item\",43),A.Bc()}if(2&e){const e=A.Oc(2);A.lc(4),A.qd(A.Qc(5,3,\"addon.calendar.reminders\")),A.lc(2),A.mc(\"aria-label\",A.Qc(7,5,\"addon.calendar.setnewreminder\")),A.lc(3),A.Vc(\"ngForOf\",e.reminders)}}function AddonCalendarEditEventPage_form_14_ion_item_48_Template(e,t){if(1&e&&(A.Ec(0,\"ion-item\"),A.zc(1,\"ion-label\",10),A.zc(2,\"ion-datetime\",45),A.Pc(3,\"translate\"),A.Dc()),2&e){const e=A.Oc(2);A.lc(2),A.Vc(\"max\",e.maxDate)(\"min\",e.minDate)(\"placeholder\",A.Qc(3,4,\"addon.calendar.durationuntil\"))(\"displayFormat\",e.dateFormat)}}function AddonCalendarEditEventPage_form_14_ion_item_55_Template(e,t){1&e&&(A.Ec(0,\"ion-item\"),A.Ec(1,\"ion-label\",46),A.pd(2),A.Pc(3,\"translate\"),A.Dc(),A.zc(4,\"ion-input\",47),A.Pc(5,\"translate\"),A.Dc()),2&e&&(A.lc(2),A.qd(A.Qc(3,2,\"addon.calendar.durationminutes\")),A.lc(2),A.Vc(\"placeholder\",A.Qc(5,4,\"addon.calendar.durationminutes\")))}function AddonCalendarEditEventPage_form_14_ng_container_56_Template(e,t){if(1&e&&(A.Cc(0),A.Ec(1,\"ion-item\",48),A.Ec(2,\"ion-label\"),A.Ec(3,\"p\",23),A.pd(4),A.Pc(5,\"translate\"),A.Dc(),A.Dc(),A.zc(6,\"ion-checkbox\",49),A.Dc(),A.Ec(7,\"ion-item\",9),A.Ec(8,\"ion-label\",10),A.Ec(9,\"p\",23),A.pd(10),A.Pc(11,\"translate\"),A.Dc(),A.Dc(),A.zc(12,\"ion-input\",50),A.Dc(),A.Bc()),2&e){const e=A.Oc(2);A.lc(4),A.qd(A.Qc(5,3,\"addon.calendar.repeatevent\")),A.lc(6),A.qd(A.Qc(11,5,\"addon.calendar.repeatweeksl\")),A.lc(2),A.Vc(\"disabled\",!e.form.controls.repeat.value)}}const _c2=function(e){return{$a:e}};function AddonCalendarEditEventPage_form_14_div_57_Template(e,t){if(1&e&&(A.Ec(0,\"div\",20),A.Ec(1,\"ion-radio-group\",51),A.Ec(2,\"ion-item-divider\",22),A.Ec(3,\"ion-label\"),A.Ec(4,\"p\",23),A.pd(5),A.Pc(6,\"translate\"),A.Dc(),A.Dc(),A.Dc(),A.Ec(7,\"ion-item\"),A.Ec(8,\"ion-label\"),A.Ec(9,\"p\"),A.pd(10),A.Pc(11,\"translate\"),A.Dc(),A.Dc(),A.zc(12,\"ion-radio\",52),A.Dc(),A.Ec(13,\"ion-item\"),A.Ec(14,\"ion-label\"),A.Ec(15,\"p\"),A.pd(16),A.Pc(17,\"translate\"),A.Dc(),A.Dc(),A.zc(18,\"ion-radio\",53),A.Dc(),A.Dc(),A.Dc()),2&e){const e=A.Oc(2);A.lc(5),A.qd(A.Qc(6,3,\"addon.calendar.repeatedevents\")),A.lc(5),A.qd(A.Rc(11,5,\"addon.calendar.repeateditall\",A.ad(10,_c2,e.otherEventsCount))),A.lc(6),A.qd(A.Qc(17,8,\"addon.calendar.repeateditthis\"))}}function AddonCalendarEditEventPage_form_14_Template(e,t){if(1&e&&(A.Ec(0,\"form\",7,8),A.Ec(2,\"ion-item\",9),A.Ec(3,\"ion-label\",10),A.Ec(4,\"p\",11),A.pd(5),A.Pc(6,\"translate\"),A.Dc(),A.Dc(),A.zc(7,\"ion-input\",12),A.Pc(8,\"translate\"),A.zc(9,\"core-input-errors\",13),A.Dc(),A.Ec(10,\"ion-item\",9),A.Ec(11,\"ion-label\",10),A.Ec(12,\"p\",11),A.pd(13),A.Pc(14,\"translate\"),A.Dc(),A.Dc(),A.zc(15,\"ion-datetime\",14),A.Pc(16,\"translate\"),A.zc(17,\"core-input-errors\",13),A.Dc(),A.Ec(18,\"ion-item\",15),A.Ec(19,\"ion-label\"),A.Ec(20,\"p\",11),A.pd(21),A.Pc(22,\"translate\"),A.Dc(),A.Dc(),A.nd(23,AddonCalendarEditEventPage_form_14_p_23_Template,3,3,\"p\",16),A.nd(24,AddonCalendarEditEventPage_form_14_ion_select_24_Template,3,6,\"ion-select\",17),A.Dc(),A.nd(25,AddonCalendarEditEventPage_form_14_ion_item_25_Template,9,13,\"ion-item\",18),A.nd(26,AddonCalendarEditEventPage_form_14_ion_item_26_Template,9,13,\"ion-item\",18),A.nd(27,AddonCalendarEditEventPage_form_14_ng_container_27_Template,13,16,\"ng-container\",19),A.nd(28,AddonCalendarEditEventPage_form_14_ng_container_28_Template,10,7,\"ng-container\",19),A.Ec(29,\"div\",20),A.Ec(30,\"ion-radio-group\",21),A.Ec(31,\"ion-item-divider\",22),A.Ec(32,\"ion-label\"),A.Ec(33,\"p\",23),A.pd(34),A.Pc(35,\"translate\"),A.Dc(),A.Dc(),A.Dc(),A.Ec(36,\"ion-item\"),A.Ec(37,\"ion-label\"),A.Ec(38,\"p\"),A.pd(39),A.Pc(40,\"translate\"),A.Dc(),A.Dc(),A.zc(41,\"ion-radio\",24),A.Dc(),A.Ec(42,\"ion-item\"),A.Ec(43,\"ion-label\"),A.Ec(44,\"p\"),A.pd(45),A.Pc(46,\"translate\"),A.Dc(),A.Dc(),A.zc(47,\"ion-radio\",24),A.Dc(),A.nd(48,AddonCalendarEditEventPage_form_14_ion_item_48_Template,4,6,\"ion-item\",19),A.Ec(49,\"ion-item\"),A.Ec(50,\"ion-label\"),A.Ec(51,\"p\"),A.pd(52),A.Pc(53,\"translate\"),A.Dc(),A.Dc(),A.zc(54,\"ion-radio\",24),A.Dc(),A.nd(55,AddonCalendarEditEventPage_form_14_ion_item_55_Template,6,6,\"ion-item\",19),A.Dc(),A.Dc(),A.nd(56,AddonCalendarEditEventPage_form_14_ng_container_56_Template,13,7,\"ng-container\",19),A.nd(57,AddonCalendarEditEventPage_form_14_div_57_Template,19,12,\"div\",25),A.Ec(58,\"ion-item\",9),A.Ec(59,\"ion-label\",10),A.Ec(60,\"p\",23),A.pd(61),A.Pc(62,\"translate\"),A.Dc(),A.Dc(),A.zc(63,\"core-rich-text-editor\",26),A.Pc(64,\"translate\"),A.Pc(65,\"translate\"),A.Dc(),A.Ec(66,\"ion-item\",9),A.Ec(67,\"ion-label\",10),A.Ec(68,\"p\",23),A.pd(69),A.Pc(70,\"translate\"),A.Dc(),A.Dc(),A.zc(71,\"ion-input\",27),A.Pc(72,\"translate\"),A.Dc(),A.Dc()),2&e){const e=A.Oc();A.Vc(\"formGroup\",e.form),A.lc(4),A.Vc(\"core-mark-required\",!0),A.lc(1),A.qd(A.Qc(6,42,\"addon.calendar.eventname\")),A.lc(2),A.Vc(\"placeholder\",A.Qc(8,44,\"addon.calendar.eventname\")),A.lc(2),A.Vc(\"control\",e.form.controls.name)(\"errorMessages\",e.errors),A.lc(3),A.Vc(\"core-mark-required\",!0),A.lc(1),A.qd(A.Qc(14,46,\"core.date\")),A.lc(2),A.Vc(\"placeholder\",A.Qc(16,48,\"core.date\"))(\"displayFormat\",e.dateFormat)(\"max\",e.maxDate)(\"min\",e.minDate),A.lc(2),A.Vc(\"control\",e.form.controls.timestart)(\"errorMessages\",e.errors),A.lc(3),A.Vc(\"core-mark-required\",!0),A.lc(1),A.qd(A.Qc(22,50,\"addon.calendar.eventkind\")),A.lc(2),A.Vc(\"ngIf\",1==e.eventTypes.length),A.lc(1),A.Vc(\"ngIf\",e.eventTypes.length>1),A.lc(1),A.Vc(\"ngIf\",\"category\"==e.typeControl.value),A.lc(1),A.Vc(\"ngIf\",\"course\"==e.typeControl.value),A.lc(1),A.Vc(\"ngIf\",\"group\"==e.typeControl.value),A.lc(1),A.Vc(\"ngIf\",e.notificationsEnabled&&!e.eventId),A.lc(6),A.qd(A.Qc(35,52,\"addon.calendar.eventduration\")),A.lc(5),A.qd(A.Qc(40,54,\"addon.calendar.durationnone\")),A.lc(2),A.Vc(\"value\",0),A.lc(4),A.qd(A.Qc(46,56,\"addon.calendar.durationuntil\")),A.lc(2),A.Vc(\"value\",1),A.lc(1),A.Vc(\"ngIf\",1===e.form.controls.duration.value),A.lc(4),A.qd(A.Qc(53,58,\"addon.calendar.durationminutes\")),A.lc(2),A.Vc(\"value\",2),A.lc(1),A.Vc(\"ngIf\",2===e.form.controls.duration.value),A.lc(1),A.Vc(\"ngIf\",!e.eventId||e.eventId<0),A.lc(1),A.Vc(\"ngIf\",e.eventRepeatId),A.lc(4),A.qd(A.Qc(62,60,\"core.description\")),A.lc(2),A.Vc(\"control\",e.descriptionControl)(\"placeholder\",A.Qc(65,64,\"core.description\"))(\"component\",e.component)(\"componentId\",e.eventId)(\"autoSave\",!1),A.mc(\"aria-label\",A.Qc(64,62,\"core.description\")),A.lc(6),A.qd(A.Qc(70,66,\"core.location\")),A.lc(2),A.Vc(\"placeholder\",A.Qc(72,68,\"core.location\"))}}function AddonCalendarEditEventPage_div_15_ion_button_2_Template(e,t){if(1&e){const e=A.Fc();A.Ec(0,\"ion-button\",58),A.Mc(\"click\",(function AddonCalendarEditEventPage_div_15_ion_button_2_Template_ion_button_click_0_listener(){A.fd(e);return A.Oc(2).discard()})),A.pd(1),A.Pc(2,\"translate\"),A.Dc()}2&e&&(A.lc(1),A.rd(\" \",A.Qc(2,1,\"core.discard\"),\" \"))}function AddonCalendarEditEventPage_div_15_Template(e,t){if(1&e){const e=A.Fc();A.Ec(0,\"div\",54),A.Ec(1,\"div\",55),A.nd(2,AddonCalendarEditEventPage_div_15_ion_button_2_Template,3,3,\"ion-button\",56),A.Ec(3,\"ion-button\",57),A.Mc(\"click\",(function AddonCalendarEditEventPage_div_15_Template_ion_button_click_3_listener(){A.fd(e);return A.Oc().submit()})),A.pd(4),A.Pc(5,\"translate\"),A.Dc(),A.Dc(),A.Dc()}if(2&e){const e=A.Oc();A.lc(2),A.Vc(\"ngIf\",e.hasOffline&&e.eventId&&e.eventId<0),A.lc(1),A.Vc(\"disabled\",!e.form.valid),A.lc(1),A.rd(\" \",A.Qc(5,3,\"core.save\"),\" \")}}let G=(()=>{class AddonCalendarEditEventPage{constructor(e){this.fb=e,this.title=\"addon.calendar.newevent\",this.component=E.c.COMPONENT,this.loaded=!1,this.hasOffline=!1,this.eventTypes=[],this.categories=[],this.courses=[],this.groups=[],this.loadingGroups=!1,this.courseGroupSet=!1,this.error=!1,this.otherEventsCount=0,this.notificationsEnabled=!1,this.reminders=[],this.types={},this.showAll=!1,this.isDestroyed=!1,this.gotEventData=!1,this.currentSite=s.b.getRequiredCurrentSite(),this.notificationsEnabled=V.a.isAvailable(),this.errors={required:b.J.instant(\"core.required\")},this.dateFormat=_.a.convertPHPToMoment(b.J.instant(\"core.strftimedatetimeshort\")).replace(/[[\\]]/g,\"\"),this.form=new c.j({}),this.typeControl=this.fb.control(\"\",c.F.required),this.groupControl=this.fb.control(\"\"),this.descriptionControl=this.fb.control(\"\"),this.form.addControl(\"name\",this.fb.control(\"\",c.F.required)),this.form.addControl(\"eventtype\",this.typeControl),this.form.addControl(\"categoryid\",this.fb.control(\"\")),this.form.addControl(\"groupcourseid\",this.fb.control(\"\")),this.form.addControl(\"groupid\",this.groupControl),this.form.addControl(\"description\",this.descriptionControl),this.form.addControl(\"location\",this.fb.control(\"\")),this.form.addControl(\"duration\",this.fb.control(0)),this.form.addControl(\"timedurationminutes\",this.fb.control(\"\")),this.form.addControl(\"repeat\",this.fb.control(!1)),this.form.addControl(\"repeats\",this.fb.control(\"1\")),this.form.addControl(\"repeateditall\",this.fb.control(1)),this.maxDate=_.a.getDatetimeDefaultMax(),this.minDate=_.a.getDatetimeDefaultMin()}ngOnInit(){this.eventId=y.a.getRouteNumberParam(\"eventId\")||void 0,this.courseId=y.a.getRouteNumberParam(\"courseId\")||0,this.title=this.eventId?\"addon.calendar.editevent\":\"addon.calendar.newevent\";const e=y.a.getRouteNumberParam(\"timestamp\"),t=_.a.toDatetimeFormat(e);this.form.addControl(\"timestart\",this.fb.control(t,c.F.required)),this.form.addControl(\"timedurationuntil\",this.fb.control(t)),this.form.addControl(\"courseid\",this.fb.control(this.courseId)),this.initReminders(),this.fetchData().finally((()=>{this.originalData=p.a.clone(this.form.value),this.loaded=!0}))}fetchData(){return Object(r.a)(this,void 0,void 0,(function*(){this.error=!1;try{const[e,t]=yield Promise.all([E.a.getAllowedEventTypes(this.courseId),p.a.ignoreErrors(E.a.getAccessInformation(this.courseId),{canmanageentries:!1,canmanageownentries:!1,canmanagegroupentries:!1})]);this.types=e;const n=[],o=v.b.getEventTypeOptions(this.types);if(!o.length)throw new P.a(b.J.instant(\"addon.calendar.nopermissiontoupdatecalendar\"));if(this.eventId&&!this.gotEventData){const e=this.eventId;n.push(C.a.waitForSync(C.b.SYNC_ID).then((()=>Object(r.a)(this,void 0,void 0,(function*(){let t;!this.isDestroyed&&this.eventId&&m.a.blockOperation(E.c.COMPONENT,e);try{t=yield g.a.getEvent(e),this.hasOffline=!0}catch(e){this.hasOffline=!1}if(e>0){const n=yield E.a.getEventById(e);t||(t=n),this.eventRepeatId=null==n?void 0:n.repeatid,this.eventRepeatId&&(this.otherEventsCount=n.eventcount?n.eventcount-1:0)}if(this.gotEventData=!0,t)return this.loadEventData(t,this.hasOffline)})))))}this.types.category&&n.push(this.fetchCategories()),this.showAll=p.a.isTrueOrOne(this.currentSite.getStoredConfig(\"calendar_adminseesall\"))&&t.canmanageentries,(this.types.course||this.types.groups)&&n.push(this.fetchCourses()),yield Promise.all(n),this.typeControl.value||this.typeControl.setValue(this.types.course?E.b.COURSE:o[0].value),this.eventTypes=o}catch(e){u.a.showErrorModalDefault(e,\"Error getting data.\"),this.error=!0}}))}fetchCategories(){return Object(r.a)(this,void 0,void 0,(function*(){this.categories=yield f.a.getCategories(0,!0)}))}fetchCourses(){return Object(r.a)(this,void 0,void 0,(function*(){let e=yield this.showAll?f.a.getCoursesByField():f.a.getUserCourses();if(e.length<0)return this.courses=[],void 0;const courseFillterFullname=e=>D.a.getFiltersAndFormatText(e.fullname,\"course\",e.id).then((t=>{e.fullname=t.text})).catch((()=>{}));if(this.showAll){const t=s.b.getCurrentSiteHomeId();e=(\"contacts\"in e[0],e.filter((e=>e.id!=t)))}\"contacts\"in e[0],yield Promise.all(e.map(courseFillterFullname)),this.courses=e.sort(((e,t)=>{const n=e.fullname.toLowerCase(),o=t.fullname.toLowerCase();return n.localeCompare(o)}))}))}loadEventData(e,t){var n;return Object(r.a)(this,void 0,void 0,(function*(){if(!e)return;const o=e,i=e,a=t?o.courseid:null===(n=i.course)||void 0===n?void 0:n.id;this.form.controls.name.setValue(e.name),this.form.controls.timestart.setValue(_.a.toDatetimeFormat(1e3*e.timestart)),this.form.controls.eventtype.setValue(e.eventtype),this.form.controls.categoryid.setValue(e.categoryid||\"\"),this.form.controls.courseid.setValue(a||\"\"),this.form.controls.groupcourseid.setValue(a||\"\"),this.form.controls.groupid.setValue(e.groupid||\"\"),this.form.controls.description.setValue(e.description),this.form.controls.location.setValue(e.location),t?(this.form.controls.duration.setValue(o.duration),this.form.controls.timedurationuntil.setValue(_.a.toDatetimeFormat(1e3*(o.timedurationuntil||0)||Date.now())),this.form.controls.timedurationminutes.setValue(o.timedurationminutes||\"\"),this.form.controls.repeat.setValue(!!o.repeat),this.form.controls.repeats.setValue(o.repeats||\"1\"),this.form.controls.repeateditall.setValue(o.repeateditall||1)):(i.timeduration>0?(this.form.controls.duration.setValue(1),this.form.controls.timedurationuntil.setValue(_.a.toDatetimeFormat(1e3*(i.timestart+i.timeduration)))):(this.form.controls.duration.setValue(0),this.form.controls.timedurationuntil.setValue(_.a.toDatetimeFormat())),this.form.controls.timedurationminutes.setValue(\"\"),this.form.controls.repeat.setValue(!!i.repeatid),this.form.controls.repeats.setValue(i.eventcount||\"1\"),this.form.controls.repeateditall.setValue(1)),e.eventtype==E.b.GROUP&&a&&(yield this.loadGroups(a))}))}refreshData(e){const t=[E.a.invalidateAccessInformation(this.courseId),E.a.invalidateAllowedEventTypes(this.courseId)];this.types&&(this.types.category&&t.push(f.a.invalidateCategories(0,!0)),(this.types.course||this.types.groups)&&t.push(this.showAll?f.a.invalidateCoursesByField():f.a.invalidateUserCourses())),Promise.all(t).finally((()=>{this.fetchData().finally((()=>{null==e?void 0:e.complete()}))}))}groupCourseSelected(){return Object(r.a)(this,void 0,void 0,(function*(){const e=this.form.controls.groupcourseid.value;if(!e)return;const t=yield u.a.showModalLoading();try{yield this.loadGroups(e),this.groupControl.setValue(\"\")}catch(e){u.a.showErrorModalDefault(e,\"Error getting data.\")}t.dismiss()}))}loadGroups(e){return Object(r.a)(this,void 0,void 0,(function*(){this.loadingGroups=!0;try{this.groups=yield l.a.getUserGroupsInCourse(e),this.courseGroupSet=!0}finally{this.loadingGroups=!1}}))}selectDuration(e){this.form.controls.duration.setValue(e)}submit(){return Object(r.a)(this,void 0,void 0,(function*(){const e=this.form.value,t=_.a.convertToTimestamp(e.timestart,!0),n=_.a.convertToTimestamp(e.timedurationuntil,!0),o=parseInt(e.timedurationminutes||\"\",10);let i;if((e.eventtype!=E.b.COURSE||e.courseid)&&(e.eventtype!=E.b.GROUP||e.groupcourseid)?e.eventtype!=E.b.GROUP||e.groupid?e.eventtype!=E.b.CATEGORY||e.categoryid?1==e.duration&&t>n?i=\"addon.calendar.invalidtimedurationuntil\":2==e.duration&&(isNaN(o)||o<1)&&(i=\"addon.calendar.invalidtimedurationminutes\"):i=\"core.selectacategory\":i=\"core.selectagroup\":i=\"core.selectacourse\",i)return u.a.showErrorModal(b.J.instant(i)),void 0;const a={name:e.name,eventtype:e.eventtype,timestart:t,description:{text:e.description||\"\",format:1},location:e.location,duration:e.duration,repeat:e.repeat};e.eventtype==E.b.COURSE?a.courseid=e.courseid:e.eventtype==E.b.GROUP?(a.groupcourseid=e.groupcourseid,a.groupid=e.groupid):e.eventtype==E.b.CATEGORY&&(a.categoryid=e.categoryid),1==e.duration?a.timedurationuntil=n:2==e.duration&&(a.timedurationminutes=e.timedurationminutes),e.repeat&&(a.repeats=Number(e.repeats)),this.eventRepeatId&&(a.repeatid=this.eventRepeatId,a.repeateditall=e.repeateditall);const r=yield u.a.showModalLoading(\"core.sending\",!0);let c;try{const t=yield E.a.submitEvent(this.eventId,a,{reminders:this.eventId?[]:this.reminders});if(c=t.event,T.a.triggerFormSubmittedEvent(this.formElement,t.sent,this.currentSite.getId()),t.sent){const n=e.repeat?e.repeats:a.repeateditall&&this.otherEventsCount?this.otherEventsCount+1:1;try{yield v.b.refreshAfterChangeEvent(t.event,n)}catch(e){}}this.returnToList(c)}catch(i){u.a.showErrorModalDefault(i,\"Error sending data.\")}r.dismiss()}))}returnToList(e){this.unblockSync(),this.eventId&&this.eventId>0?d.b.trigger(E.c.EDIT_EVENT_EVENT,{eventId:this.eventId},this.currentSite.getId()):e?d.b.trigger(E.c.NEW_EVENT_EVENT,{eventId:e.id,oldEventId:this.eventId},this.currentSite.getId()):d.b.trigger(E.c.NEW_EVENT_DISCARDED_EVENT,{},this.currentSite.getId()),this.originalData=void 0,y.a.back()}discard(){return Object(r.a)(this,void 0,void 0,(function*(){if(this.eventId)try{yield u.a.showConfirm(b.J.instant(\"core.areyousure\"));try{yield g.a.deleteEvent(this.eventId),T.a.triggerFormCancelledEvent(this.formElement,this.currentSite.getId()),this.returnToList()}catch(e){u.a.showErrorModal(\"Error discarding event.\")}}catch(e){}}))}canLeave(){return Object(r.a)(this,void 0,void 0,(function*(){return v.b.hasEventDataChanged(this.form.value,this.originalData)&&(yield u.a.showConfirm(b.J.instant(\"core.confirmcanceledit\"))),T.a.triggerFormCancelledEvent(this.formElement,this.currentSite.getId()),!0}))}unblockSync(){this.eventId&&m.a.unblockOperation(E.c.COMPONENT,this.eventId)}initReminders(){return Object(r.a)(this,void 0,void 0,(function*(){if(!this.notificationsEnabled||this.eventId)return;const e=yield E.a.getDefaultNotificationTime(this.currentSite.getId());if(0===e)return;const t=E.c.convertSecondsToValueAndUnit(e);this.reminders.push({time:null,value:t.value,unit:t.unit,label:E.a.getUnitValueLabel(t.value,t.unit,!0)})}))}addReminder(){return Object(r.a)(this,void 0,void 0,(function*(){const e=yield u.a.openModal({component:O.a});if(void 0===e)return;const t=E.c.convertSecondsToValueAndUnit(e);this.reminders.push({time:e,value:t.value,unit:t.unit,label:E.a.getUnitValueLabel(t.value,t.unit)})}))}removeReminder(e){const t=this.reminders.indexOf(e);-1!=t&&this.reminders.splice(t,1)}ngOnDestroy(){this.unblockSync(),this.isDestroyed=!0}}return AddonCalendarEditEventPage.ɵfac=function AddonCalendarEditEventPage_Factory(e){return new(e||AddonCalendarEditEventPage)(A.yc(c.f))},AddonCalendarEditEventPage.ɵcmp=A.sc({type:AddonCalendarEditEventPage,selectors:[[\"page-addon-calendar-edit-event\"]],viewQuery:function AddonCalendarEditEventPage_Query(e,t){var n;(1&e&&(A.ud(h.a,!0),A.ud(R,!0)),2&e)&&(A.dd(n=A.Nc())&&(t.descriptionEditor=n.first),A.dd(n=A.Nc())&&(t.formElement=n.first))},decls:16,vars:13,consts:[[\"slot\",\"start\"],[3,\"text\"],[\"slot\",\"fixed\",3,\"disabled\",\"ionRefresh\"],[3,\"pullingText\"],[3,\"hideUntil\"],[3,\"formGroup\",4,\"ngIf\"],[\"collapsible-footer\",\"\",\"appearOnBottom\",\"\",\"slot\",\"fixed\",4,\"ngIf\"],[3,\"formGroup\"],[\"editEventForm\",\"\"],[1,\"ion-text-wrap\"],[\"position\",\"stacked\"],[1,\"item-heading\",3,\"core-mark-required\"],[\"type\",\"text\",\"name\",\"name\",\"formControlName\",\"name\",3,\"placeholder\"],[3,\"control\",\"errorMessages\"],[\"formControlName\",\"timestart\",\"display-timezone\",\"utc\",3,\"placeholder\",\"displayFormat\",\"max\",\"min\"],[1,\"ion-text-wrap\",\"addon-calendar-eventtype-container\"],[\"slot\",\"end\",4,\"ngIf\"],[\"formControlName\",\"eventtype\",\"interface\",\"action-sheet\",3,\"interfaceOptions\",4,\"ngIf\"],[\"class\",\"ion-text-wrap\",4,\"ngIf\"],[4,\"ngIf\"],[1,\"ion-text-wrap\",\"addon-calendar-radio-container\"],[\"formControlName\",\"duration\"],[1,\"addon-calendar-radio-title\"],[1,\"item-heading\"],[\"slot\",\"end\",3,\"value\"],[\"class\",\"ion-text-wrap addon-calendar-radio-container\",4,\"ngIf\"],[\"name\",\"description\",3,\"control\",\"placeholder\",\"component\",\"componentId\",\"autoSave\"],[\"type\",\"text\",\"name\",\"location\",\"formControlName\",\"location\",3,\"placeholder\"],[\"slot\",\"end\"],[\"formControlName\",\"eventtype\",\"interface\",\"action-sheet\",3,\"interfaceOptions\"],[3,\"value\",4,\"ngFor\",\"ngForOf\"],[3,\"value\"],[\"formControlName\",\"categoryid\",\"interface\",\"action-sheet\",3,\"placeholder\",\"interfaceOptions\"],[\"formControlName\",\"courseid\",\"interface\",\"action-sheet\",3,\"placeholder\",\"interfaceOptions\"],[\"formControlName\",\"groupcourseid\",\"interface\",\"action-sheet\",3,\"placeholder\",\"interfaceOptions\",\"ionChange\"],[\"class\",\"ion-text-wrap core-danger-item\",4,\"ngIf\"],[\"class\",\"ion-text-wrap core-edit-set-group\",4,\"ngIf\"],[1,\"ion-text-wrap\",\"core-danger-item\"],[1,\"ion-text-wrap\",\"core-edit-set-group\"],[\"formControlName\",\"groupid\",\"interface\",\"action-sheet\",3,\"placeholder\",\"interfaceOptions\"],[1,\"addon-calendar-reminders-title\"],[\"fill\",\"clear\",\"slot\",\"end\",3,\"click\"],[\"name\",\"fas-plus\",\"slot\",\"icon-only\",\"aria-hidden\",\"true\"],[\"class\",\"ion-text-wrap\",4,\"ngFor\",\"ngForOf\"],[\"name\",\"fas-trash\",\"color\",\"danger\",\"slot\",\"icon-only\",\"aria-hidden\",\"true\"],[\"formControlName\",\"timedurationuntil\",\"display-timezone\",\"utc\",3,\"max\",\"min\",\"placeholder\",\"displayFormat\"],[1,\"sr-only\"],[\"type\",\"number\",\"name\",\"timedurationminutes\",\"slot\",\"end\",\"formControlName\",\"timedurationminutes\",3,\"placeholder\"],[1,\"ion-text-wrap\",\"divider\"],[\"slot\",\"end\",\"formControlName\",\"repeat\"],[\"type\",\"number\",\"name\",\"repeats\",\"formControlName\",\"repeats\",3,\"disabled\"],[\"formControlName\",\"repeateditall\"],[\"slot\",\"end\",\"value\",\"1\"],[\"slot\",\"end\",\"value\",\"0\"],[\"collapsible-footer\",\"\",\"appearOnBottom\",\"\",\"slot\",\"fixed\"],[1,\"list-item-limited-width\",\"adaptable-buttons-row\"],[\"expand\",\"block\",\"fill\",\"outline\",\"class\",\"ion-margin ion-text-wrap\",3,\"click\",4,\"ngIf\"],[\"expand\",\"block\",\"type\",\"submit\",1,\"ion-margin\",\"ion-text-wrap\",3,\"disabled\",\"click\"],[\"expand\",\"block\",\"fill\",\"outline\",1,\"ion-margin\",\"ion-text-wrap\",3,\"click\"]],template:function AddonCalendarEditEventPage_Template(e,t){1&e&&(A.Ec(0,\"ion-header\"),A.Ec(1,\"ion-toolbar\"),A.Ec(2,\"ion-buttons\",0),A.zc(3,\"ion-back-button\",1),A.Pc(4,\"translate\"),A.Dc(),A.Ec(5,\"ion-title\"),A.Ec(6,\"h1\"),A.pd(7),A.Pc(8,\"translate\"),A.Dc(),A.Dc(),A.Dc(),A.Dc(),A.Ec(9,\"ion-content\"),A.Ec(10,\"ion-refresher\",2),A.Mc(\"ionRefresh\",(function AddonCalendarEditEventPage_Template_ion_refresher_ionRefresh_10_listener(e){return t.refreshData(e.target)})),A.zc(11,\"ion-refresher-content\",3),A.Pc(12,\"translate\"),A.Dc(),A.Ec(13,\"core-loading\",4),A.nd(14,AddonCalendarEditEventPage_form_14_Template,73,70,\"form\",5),A.nd(15,AddonCalendarEditEventPage_div_15_Template,6,5,\"div\",6),A.Dc(),A.Dc()),2&e&&(A.lc(3),A.Vc(\"text\",A.Qc(4,7,\"core.back\")),A.lc(4),A.qd(A.Qc(8,9,t.title)),A.lc(3),A.Vc(\"disabled\",!t.loaded),A.lc(1),A.Wc(\"pullingText\",A.Qc(12,11,\"core.pulltorefresh\")),A.lc(2),A.Vc(\"hideUntil\",t.loaded),A.lc(1),A.Vc(\"ngIf\",!t.error),A.lc(1),A.Vc(\"ngIf\",t.loaded&&!t.error))},directives:[I.C,I.Ab,I.m,I.h,I.i,I.yb,w.a,I.v,I.bb,I.cb,Q.a,F.t,c.H,c.s,c.k,I.I,I.O,M.a,I.H,I.Pb,c.r,c.i,k.a,I.w,I.Ob,I.Z,I.J,I.Y,I.Mb,h.a,I.lb,F.s,I.mb,I.qb,x.a,I.l,I.D,N.a,I.Jb,I.s,I.d,q.a],pipes:[S.d],styles:[\"[_nghost-%COMP%]   .addon-calendar-eventtype-container.item-select-disabled[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%], [_nghost-%COMP%]   .addon-calendar-eventtype-container.item-select-disabled[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   .addon-calendar-eventtype-container.item-select-disabled[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]::part(icon){display:none}\"]}),AddonCalendarEditEventPage})();var z=n(\"MLi9\");const j=[{path:\"\",component:G,canDeactivate:[z.a]}];let L=(()=>{class AddonCalendarEditEventPageModule{}return AddonCalendarEditEventPageModule.ɵmod=A.wc({type:AddonCalendarEditEventPageModule}),AddonCalendarEditEventPageModule.ɵinj=A.vc({factory:function AddonCalendarEditEventPageModule_Factory(e){return new(e||AddonCalendarEditEventPageModule)},imports:[[o.m.forChild(j),i.a,a.a],o.m]}),AddonCalendarEditEventPageModule})();void((\"undefined\"==typeof ngJitMode||ngJitMode)&&A.kd(L,{declarations:[G],imports:[o.m,i.a,a.a],exports:[o.m]}))}}]);","name":"38.146debbfdb2ded169b33.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[38],{\n\n/***/ \"YHcW\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"AddonCalendarEditEventPageModule\", function() { return /* binding */ edit_event_module_AddonCalendarEditEventPageModule; });\n\n// EXTERNAL MODULE: ./node_modules/@angular/router/__ivy_ngcc__/fesm2015/router.js + 10 modules\nvar router = __webpack_require__(\"tyNb\");\n\n// EXTERNAL MODULE: ./src/core/shared.module.ts + 3 modules\nvar shared_module = __webpack_require__(\"L3Fv\");\n\n// EXTERNAL MODULE: ./src/core/features/editor/components/components.module.ts\nvar components_module = __webpack_require__(\"ekpb\");\n\n// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.js\nvar tslib_es6 = __webpack_require__(\"mrSG\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/forms/__ivy_ngcc__/fesm2015/forms.js\nvar fesm2015_forms = __webpack_require__(\"3Pt+\");\n\n// EXTERNAL MODULE: ./src/core/singletons/events.ts\nvar events = __webpack_require__(\"fjkH\");\n\n// EXTERNAL MODULE: ./src/core/services/groups.ts\nvar groups = __webpack_require__(\"mWdr\");\n\n// EXTERNAL MODULE: ./src/core/services/sites.ts\nvar sites = __webpack_require__(\"9+EE\");\n\n// EXTERNAL MODULE: ./src/core/services/sync.ts\nvar sync = __webpack_require__(\"uT8i\");\n\n// EXTERNAL MODULE: ./src/core/services/utils/dom.ts + 2 modules\nvar dom = __webpack_require__(\"3LXp\");\n\n// EXTERNAL MODULE: ./src/core/services/utils/time.ts\nvar time = __webpack_require__(\"Q98t\");\n\n// EXTERNAL MODULE: ./src/core/services/utils/utils.ts\nvar utils = __webpack_require__(\"bFG1\");\n\n// EXTERNAL MODULE: ./src/core/features/courses/services/courses.ts\nvar services_courses = __webpack_require__(\"Xzvb\");\n\n// EXTERNAL MODULE: ./src/core/features/editor/components/rich-text-editor/rich-text-editor.ts\nvar rich_text_editor = __webpack_require__(\"N5Lt\");\n\n// EXTERNAL MODULE: ./src/addons/calendar/services/calendar.ts\nvar calendar = __webpack_require__(\"SmTL\");\n\n// EXTERNAL MODULE: ./src/addons/calendar/services/calendar-offline.ts\nvar calendar_offline = __webpack_require__(\"Lc7R\");\n\n// EXTERNAL MODULE: ./src/addons/calendar/services/calendar-helper.ts\nvar calendar_helper = __webpack_require__(\"n6RP\");\n\n// EXTERNAL MODULE: ./src/addons/calendar/services/calendar-sync.ts\nvar calendar_sync = __webpack_require__(\"+lfu\");\n\n// EXTERNAL MODULE: ./src/core/singletons/index.ts\nvar singletons = __webpack_require__(\"j3ag\");\n\n// EXTERNAL MODULE: ./src/core/features/filter/services/filter-helper.ts\nvar filter_helper = __webpack_require__(\"D2MD\");\n\n// EXTERNAL MODULE: ./src/core/classes/errors/error.ts\nvar errors_error = __webpack_require__(\"93ts\");\n\n// EXTERNAL MODULE: ./src/core/services/navigator.ts\nvar services_navigator = __webpack_require__(\"pHTc\");\n\n// EXTERNAL MODULE: ./src/core/singletons/form.ts\nvar singletons_form = __webpack_require__(\"4reR\");\n\n// EXTERNAL MODULE: ./src/core/services/local-notifications.ts + 1 modules\nvar local_notifications = __webpack_require__(\"ANhT\");\n\n// EXTERNAL MODULE: ./src/addons/calendar/components/reminder-time-modal/reminder-time-modal.ts\nvar reminder_time_modal = __webpack_require__(\"2CAT\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js\nvar core = __webpack_require__(\"fXoL\");\n\n// EXTERNAL MODULE: ./node_modules/@ionic/angular/__ivy_ngcc__/fesm2015/ionic-angular.js + 5 modules\nvar ionic_angular = __webpack_require__(\"TEn/\");\n\n// EXTERNAL MODULE: ./src/core/directives/content.ts\nvar content = __webpack_require__(\"nt/U\");\n\n// EXTERNAL MODULE: ./src/core/components/loading/loading.ts\nvar loading = __webpack_require__(\"PgjG\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/common/__ivy_ngcc__/fesm2015/common.js\nvar common = __webpack_require__(\"ofXK\");\n\n// EXTERNAL MODULE: ./src/core/components/mark-required/mark-required.ts\nvar mark_required = __webpack_require__(\"FasJ\");\n\n// EXTERNAL MODULE: ./src/core/components/input-errors/input-errors.ts\nvar input_errors = __webpack_require__(\"FTxb\");\n\n// EXTERNAL MODULE: ./src/core/directives/update-non-reactive-attributes.ts\nvar update_non_reactive_attributes = __webpack_require__(\"ACYt\");\n\n// EXTERNAL MODULE: ./src/core/directives/fa-icon.ts\nvar fa_icon = __webpack_require__(\"3CSS\");\n\n// EXTERNAL MODULE: ./src/core/directives/collapsible-footer.ts\nvar collapsible_footer = __webpack_require__(\"3jOR\");\n\n// EXTERNAL MODULE: ./node_modules/@ngx-translate/core/__ivy_ngcc__/fesm2015/ngx-translate-core.js + 8 modules\nvar ngx_translate_core = __webpack_require__(\"sYmb\");\n\n// CONCATENATED MODULE: ./src/addons/calendar/pages/edit-event/edit-event.page.ts\n\n// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst _c0 = [\"editEventForm\"];\nfunction AddonCalendarEditEventPage_form_14_p_23_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"p\", 28);\n        core[\"pd\" /* ɵɵtext */](1);\n        core[\"Pc\" /* ɵɵpipe */](2, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r3 = core[\"Oc\" /* ɵɵnextContext */](2);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](2, 1, ctx_r3.eventTypes[0].name));\n    }\n}\nfunction AddonCalendarEditEventPage_form_14_ion_select_24_ion_select_option_2_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-select-option\", 31);\n        core[\"pd\" /* ɵɵtext */](1);\n        core[\"Pc\" /* ɵɵpipe */](2, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const type_r14 = ctx.$implicit;\n        core[\"Vc\" /* ɵɵproperty */](\"value\", type_r14.value);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"rd\" /* ɵɵtextInterpolate1 */](\" \", core[\"Qc\" /* ɵɵpipeBind1 */](2, 2, type_r14.name), \" \");\n    }\n}\nconst _c1 = function (a0) { return { header: a0 }; };\nfunction AddonCalendarEditEventPage_form_14_ion_select_24_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-select\", 29);\n        core[\"Pc\" /* ɵɵpipe */](1, \"translate\");\n        core[\"nd\" /* ɵɵtemplate */](2, AddonCalendarEditEventPage_form_14_ion_select_24_ion_select_option_2_Template, 3, 4, \"ion-select-option\", 30);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r4 = core[\"Oc\" /* ɵɵnextContext */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"interfaceOptions\", core[\"ad\" /* ɵɵpureFunction1 */](4, _c1, core[\"Qc\" /* ɵɵpipeBind1 */](1, 2, \"addon.calendar.eventkind\")));\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"ngForOf\", ctx_r4.eventTypes);\n    }\n}\nfunction AddonCalendarEditEventPage_form_14_ion_item_25_ion_select_option_8_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-select-option\", 31);\n        core[\"pd\" /* ɵɵtext */](1);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const category_r16 = ctx.$implicit;\n        core[\"Vc\" /* ɵɵproperty */](\"value\", category_r16.id);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"rd\" /* ɵɵtextInterpolate1 */](\" \", category_r16.name, \" \");\n    }\n}\nfunction AddonCalendarEditEventPage_form_14_ion_item_25_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-item\", 9);\n        core[\"Ec\" /* ɵɵelementStart */](1, \"ion-label\");\n        core[\"Ec\" /* ɵɵelementStart */](2, \"p\", 11);\n        core[\"pd\" /* ɵɵtext */](3);\n        core[\"Pc\" /* ɵɵpipe */](4, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Ec\" /* ɵɵelementStart */](5, \"ion-select\", 32);\n        core[\"Pc\" /* ɵɵpipe */](6, \"translate\");\n        core[\"Pc\" /* ɵɵpipe */](7, \"translate\");\n        core[\"nd\" /* ɵɵtemplate */](8, AddonCalendarEditEventPage_form_14_ion_item_25_ion_select_option_8_Template, 2, 2, \"ion-select-option\", 30);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r5 = core[\"Oc\" /* ɵɵnextContext */](2);\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"core-mark-required\", true);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](4, 5, \"core.category\"));\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"placeholder\", core[\"Qc\" /* ɵɵpipeBind1 */](6, 7, \"core.noselection\"))(\"interfaceOptions\", core[\"ad\" /* ɵɵpureFunction1 */](11, _c1, core[\"Qc\" /* ɵɵpipeBind1 */](7, 9, \"core.category\")));\n        core[\"lc\" /* ɵɵadvance */](3);\n        core[\"Vc\" /* ɵɵproperty */](\"ngForOf\", ctx_r5.categories);\n    }\n}\nfunction AddonCalendarEditEventPage_form_14_ion_item_26_ion_select_option_8_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-select-option\", 31);\n        core[\"pd\" /* ɵɵtext */](1);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const course_r18 = ctx.$implicit;\n        core[\"Vc\" /* ɵɵproperty */](\"value\", course_r18.id);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"qd\" /* ɵɵtextInterpolate */](course_r18.fullname);\n    }\n}\nfunction AddonCalendarEditEventPage_form_14_ion_item_26_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-item\", 9);\n        core[\"Ec\" /* ɵɵelementStart */](1, \"ion-label\");\n        core[\"Ec\" /* ɵɵelementStart */](2, \"p\", 11);\n        core[\"pd\" /* ɵɵtext */](3);\n        core[\"Pc\" /* ɵɵpipe */](4, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Ec\" /* ɵɵelementStart */](5, \"ion-select\", 33);\n        core[\"Pc\" /* ɵɵpipe */](6, \"translate\");\n        core[\"Pc\" /* ɵɵpipe */](7, \"translate\");\n        core[\"nd\" /* ɵɵtemplate */](8, AddonCalendarEditEventPage_form_14_ion_item_26_ion_select_option_8_Template, 2, 2, \"ion-select-option\", 30);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r6 = core[\"Oc\" /* ɵɵnextContext */](2);\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"core-mark-required\", true);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](4, 5, \"core.course\"));\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"placeholder\", core[\"Qc\" /* ɵɵpipeBind1 */](6, 7, \"core.noselection\"))(\"interfaceOptions\", core[\"ad\" /* ɵɵpureFunction1 */](11, _c1, core[\"Qc\" /* ɵɵpipeBind1 */](7, 9, \"core.course\")));\n        core[\"lc\" /* ɵɵadvance */](3);\n        core[\"Vc\" /* ɵɵproperty */](\"ngForOf\", ctx_r6.courses);\n    }\n}\nfunction AddonCalendarEditEventPage_form_14_ng_container_27_ion_select_option_9_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-select-option\", 31);\n        core[\"pd\" /* ɵɵtext */](1);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const course_r23 = ctx.$implicit;\n        core[\"Vc\" /* ɵɵproperty */](\"value\", course_r23.id);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"rd\" /* ɵɵtextInterpolate1 */](\" \", course_r23.fullname, \" \");\n    }\n}\nfunction AddonCalendarEditEventPage_form_14_ng_container_27_ion_item_10_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-item\", 37);\n        core[\"Ec\" /* ɵɵelementStart */](1, \"ion-label\");\n        core[\"Ec\" /* ɵɵelementStart */](2, \"p\");\n        core[\"pd\" /* ɵɵtext */](3);\n        core[\"Pc\" /* ɵɵpipe */](4, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        core[\"lc\" /* ɵɵadvance */](3);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](4, 1, \"core.coursenogroups\"));\n    }\n}\nfunction AddonCalendarEditEventPage_form_14_ng_container_27_ion_item_11_ion_select_option_8_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-select-option\", 31);\n        core[\"pd\" /* ɵɵtext */](1);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const group_r25 = ctx.$implicit;\n        core[\"Vc\" /* ɵɵproperty */](\"value\", group_r25.id);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"qd\" /* ɵɵtextInterpolate */](group_r25.name);\n    }\n}\nfunction AddonCalendarEditEventPage_form_14_ng_container_27_ion_item_11_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-item\", 38);\n        core[\"Ec\" /* ɵɵelementStart */](1, \"ion-label\");\n        core[\"Ec\" /* ɵɵelementStart */](2, \"p\", 11);\n        core[\"pd\" /* ɵɵtext */](3);\n        core[\"Pc\" /* ɵɵpipe */](4, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Ec\" /* ɵɵelementStart */](5, \"ion-select\", 39);\n        core[\"Pc\" /* ɵɵpipe */](6, \"translate\");\n        core[\"Pc\" /* ɵɵpipe */](7, \"translate\");\n        core[\"nd\" /* ɵɵtemplate */](8, AddonCalendarEditEventPage_form_14_ng_container_27_ion_item_11_ion_select_option_8_Template, 2, 2, \"ion-select-option\", 30);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r21 = core[\"Oc\" /* ɵɵnextContext */](3);\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"core-mark-required\", true);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](4, 5, \"core.group\"));\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"placeholder\", core[\"Qc\" /* ɵɵpipeBind1 */](6, 7, \"core.noselection\"))(\"interfaceOptions\", core[\"ad\" /* ɵɵpureFunction1 */](11, _c1, core[\"Qc\" /* ɵɵpipeBind1 */](7, 9, \"core.group\")));\n        core[\"lc\" /* ɵɵadvance */](3);\n        core[\"Vc\" /* ɵɵproperty */](\"ngForOf\", ctx_r21.groups);\n    }\n}\nfunction AddonCalendarEditEventPage_form_14_ng_container_27_ion_item_12_ion_spinner_2_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"zc\" /* ɵɵelement */](0, \"ion-spinner\");\n        core[\"Pc\" /* ɵɵpipe */](1, \"translate\");\n    }\n    if (rf & 2) {\n        core[\"mc\" /* ɵɵattribute */](\"aria-label\", core[\"Qc\" /* ɵɵpipeBind1 */](1, 1, \"core.loading\"));\n    }\n}\nfunction AddonCalendarEditEventPage_form_14_ng_container_27_ion_item_12_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-item\", 9);\n        core[\"Ec\" /* ɵɵelementStart */](1, \"ion-label\");\n        core[\"nd\" /* ɵɵtemplate */](2, AddonCalendarEditEventPage_form_14_ng_container_27_ion_item_12_ion_spinner_2_Template, 2, 3, \"ion-spinner\", 19);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r22 = core[\"Oc\" /* ɵɵnextContext */](3);\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx_r22.loadingGroups);\n    }\n}\nfunction AddonCalendarEditEventPage_form_14_ng_container_27_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r28 = core[\"Fc\" /* ɵɵgetCurrentView */]();\n        core[\"Cc\" /* ɵɵelementContainerStart */](0);\n        core[\"Ec\" /* ɵɵelementStart */](1, \"ion-item\", 9);\n        core[\"Ec\" /* ɵɵelementStart */](2, \"ion-label\");\n        core[\"Ec\" /* ɵɵelementStart */](3, \"p\", 11);\n        core[\"pd\" /* ɵɵtext */](4);\n        core[\"Pc\" /* ɵɵpipe */](5, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Ec\" /* ɵɵelementStart */](6, \"ion-select\", 34);\n        core[\"Mc\" /* ɵɵlistener */](\"ionChange\", function AddonCalendarEditEventPage_form_14_ng_container_27_Template_ion_select_ionChange_6_listener() { core[\"fd\" /* ɵɵrestoreView */](_r28); const ctx_r27 = core[\"Oc\" /* ɵɵnextContext */](2); return ctx_r27.groupCourseSelected(); });\n        core[\"Pc\" /* ɵɵpipe */](7, \"translate\");\n        core[\"Pc\" /* ɵɵpipe */](8, \"translate\");\n        core[\"nd\" /* ɵɵtemplate */](9, AddonCalendarEditEventPage_form_14_ng_container_27_ion_select_option_9_Template, 2, 2, \"ion-select-option\", 30);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"nd\" /* ɵɵtemplate */](10, AddonCalendarEditEventPage_form_14_ng_container_27_ion_item_10_Template, 5, 3, \"ion-item\", 35);\n        core[\"nd\" /* ɵɵtemplate */](11, AddonCalendarEditEventPage_form_14_ng_container_27_ion_item_11_Template, 9, 13, \"ion-item\", 36);\n        core[\"nd\" /* ɵɵtemplate */](12, AddonCalendarEditEventPage_form_14_ng_container_27_ion_item_12_Template, 3, 1, \"ion-item\", 18);\n        core[\"Bc\" /* ɵɵelementContainerEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r7 = core[\"Oc\" /* ɵɵnextContext */](2);\n        core[\"lc\" /* ɵɵadvance */](3);\n        core[\"Vc\" /* ɵɵproperty */](\"core-mark-required\", true);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](5, 8, \"core.course\"));\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"placeholder\", core[\"Qc\" /* ɵɵpipeBind1 */](7, 10, \"core.noselection\"))(\"interfaceOptions\", core[\"ad\" /* ɵɵpureFunction1 */](14, _c1, core[\"Qc\" /* ɵɵpipeBind1 */](8, 12, \"core.course\")));\n        core[\"lc\" /* ɵɵadvance */](3);\n        core[\"Vc\" /* ɵɵproperty */](\"ngForOf\", ctx_r7.courses);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", !ctx_r7.loadingGroups && ctx_r7.courseGroupSet && !ctx_r7.groups.length);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", !ctx_r7.loadingGroups && ctx_r7.groups.length > 0);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx_r7.loadingGroups);\n    }\n}\nfunction AddonCalendarEditEventPage_form_14_ng_container_28_ion_item_9_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r32 = core[\"Fc\" /* ɵɵgetCurrentView */]();\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-item\", 9);\n        core[\"Ec\" /* ɵɵelementStart */](1, \"ion-label\");\n        core[\"Ec\" /* ɵɵelementStart */](2, \"p\");\n        core[\"pd\" /* ɵɵtext */](3);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Ec\" /* ɵɵelementStart */](4, \"ion-button\", 41);\n        core[\"Mc\" /* ɵɵlistener */](\"click\", function AddonCalendarEditEventPage_form_14_ng_container_28_ion_item_9_Template_ion_button_click_4_listener() { core[\"fd\" /* ɵɵrestoreView */](_r32); const reminder_r30 = ctx.$implicit; const ctx_r31 = core[\"Oc\" /* ɵɵnextContext */](3); return ctx_r31.removeReminder(reminder_r30); });\n        core[\"Pc\" /* ɵɵpipe */](5, \"translate\");\n        core[\"zc\" /* ɵɵelement */](6, \"ion-icon\", 44);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const reminder_r30 = ctx.$implicit;\n        core[\"lc\" /* ɵɵadvance */](3);\n        core[\"qd\" /* ɵɵtextInterpolate */](reminder_r30.label);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"mc\" /* ɵɵattribute */](\"aria-label\", core[\"Qc\" /* ɵɵpipeBind1 */](5, 2, \"core.delete\"));\n    }\n}\nfunction AddonCalendarEditEventPage_form_14_ng_container_28_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r34 = core[\"Fc\" /* ɵɵgetCurrentView */]();\n        core[\"Cc\" /* ɵɵelementContainerStart */](0);\n        core[\"Ec\" /* ɵɵelementStart */](1, \"ion-item-divider\", 40);\n        core[\"Ec\" /* ɵɵelementStart */](2, \"ion-label\");\n        core[\"Ec\" /* ɵɵelementStart */](3, \"p\", 23);\n        core[\"pd\" /* ɵɵtext */](4);\n        core[\"Pc\" /* ɵɵpipe */](5, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Ec\" /* ɵɵelementStart */](6, \"ion-button\", 41);\n        core[\"Mc\" /* ɵɵlistener */](\"click\", function AddonCalendarEditEventPage_form_14_ng_container_28_Template_ion_button_click_6_listener() { core[\"fd\" /* ɵɵrestoreView */](_r34); const ctx_r33 = core[\"Oc\" /* ɵɵnextContext */](2); return ctx_r33.addReminder(); });\n        core[\"Pc\" /* ɵɵpipe */](7, \"translate\");\n        core[\"zc\" /* ɵɵelement */](8, \"ion-icon\", 42);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"nd\" /* ɵɵtemplate */](9, AddonCalendarEditEventPage_form_14_ng_container_28_ion_item_9_Template, 7, 4, \"ion-item\", 43);\n        core[\"Bc\" /* ɵɵelementContainerEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r8 = core[\"Oc\" /* ɵɵnextContext */](2);\n        core[\"lc\" /* ɵɵadvance */](4);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](5, 3, \"addon.calendar.reminders\"));\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"mc\" /* ɵɵattribute */](\"aria-label\", core[\"Qc\" /* ɵɵpipeBind1 */](7, 5, \"addon.calendar.setnewreminder\"));\n        core[\"lc\" /* ɵɵadvance */](3);\n        core[\"Vc\" /* ɵɵproperty */](\"ngForOf\", ctx_r8.reminders);\n    }\n}\nfunction AddonCalendarEditEventPage_form_14_ion_item_48_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-item\");\n        core[\"zc\" /* ɵɵelement */](1, \"ion-label\", 10);\n        core[\"zc\" /* ɵɵelement */](2, \"ion-datetime\", 45);\n        core[\"Pc\" /* ɵɵpipe */](3, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r9 = core[\"Oc\" /* ɵɵnextContext */](2);\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"max\", ctx_r9.maxDate)(\"min\", ctx_r9.minDate)(\"placeholder\", core[\"Qc\" /* ɵɵpipeBind1 */](3, 4, \"addon.calendar.durationuntil\"))(\"displayFormat\", ctx_r9.dateFormat);\n    }\n}\nfunction AddonCalendarEditEventPage_form_14_ion_item_55_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-item\");\n        core[\"Ec\" /* ɵɵelementStart */](1, \"ion-label\", 46);\n        core[\"pd\" /* ɵɵtext */](2);\n        core[\"Pc\" /* ɵɵpipe */](3, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"zc\" /* ɵɵelement */](4, \"ion-input\", 47);\n        core[\"Pc\" /* ɵɵpipe */](5, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](3, 2, \"addon.calendar.durationminutes\"));\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"placeholder\", core[\"Qc\" /* ɵɵpipeBind1 */](5, 4, \"addon.calendar.durationminutes\"));\n    }\n}\nfunction AddonCalendarEditEventPage_form_14_ng_container_56_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Cc\" /* ɵɵelementContainerStart */](0);\n        core[\"Ec\" /* ɵɵelementStart */](1, \"ion-item\", 48);\n        core[\"Ec\" /* ɵɵelementStart */](2, \"ion-label\");\n        core[\"Ec\" /* ɵɵelementStart */](3, \"p\", 23);\n        core[\"pd\" /* ɵɵtext */](4);\n        core[\"Pc\" /* ɵɵpipe */](5, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"zc\" /* ɵɵelement */](6, \"ion-checkbox\", 49);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Ec\" /* ɵɵelementStart */](7, \"ion-item\", 9);\n        core[\"Ec\" /* ɵɵelementStart */](8, \"ion-label\", 10);\n        core[\"Ec\" /* ɵɵelementStart */](9, \"p\", 23);\n        core[\"pd\" /* ɵɵtext */](10);\n        core[\"Pc\" /* ɵɵpipe */](11, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"zc\" /* ɵɵelement */](12, \"ion-input\", 50);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Bc\" /* ɵɵelementContainerEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r11 = core[\"Oc\" /* ɵɵnextContext */](2);\n        core[\"lc\" /* ɵɵadvance */](4);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](5, 3, \"addon.calendar.repeatevent\"));\n        core[\"lc\" /* ɵɵadvance */](6);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](11, 5, \"addon.calendar.repeatweeksl\"));\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"disabled\", !ctx_r11.form.controls.repeat.value);\n    }\n}\nconst _c2 = function (a0) { return { $a: a0 }; };\nfunction AddonCalendarEditEventPage_form_14_div_57_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"div\", 20);\n        core[\"Ec\" /* ɵɵelementStart */](1, \"ion-radio-group\", 51);\n        core[\"Ec\" /* ɵɵelementStart */](2, \"ion-item-divider\", 22);\n        core[\"Ec\" /* ɵɵelementStart */](3, \"ion-label\");\n        core[\"Ec\" /* ɵɵelementStart */](4, \"p\", 23);\n        core[\"pd\" /* ɵɵtext */](5);\n        core[\"Pc\" /* ɵɵpipe */](6, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Ec\" /* ɵɵelementStart */](7, \"ion-item\");\n        core[\"Ec\" /* ɵɵelementStart */](8, \"ion-label\");\n        core[\"Ec\" /* ɵɵelementStart */](9, \"p\");\n        core[\"pd\" /* ɵɵtext */](10);\n        core[\"Pc\" /* ɵɵpipe */](11, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"zc\" /* ɵɵelement */](12, \"ion-radio\", 52);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Ec\" /* ɵɵelementStart */](13, \"ion-item\");\n        core[\"Ec\" /* ɵɵelementStart */](14, \"ion-label\");\n        core[\"Ec\" /* ɵɵelementStart */](15, \"p\");\n        core[\"pd\" /* ɵɵtext */](16);\n        core[\"Pc\" /* ɵɵpipe */](17, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"zc\" /* ɵɵelement */](18, \"ion-radio\", 53);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r12 = core[\"Oc\" /* ɵɵnextContext */](2);\n        core[\"lc\" /* ɵɵadvance */](5);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](6, 3, \"addon.calendar.repeatedevents\"));\n        core[\"lc\" /* ɵɵadvance */](5);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Rc\" /* ɵɵpipeBind2 */](11, 5, \"addon.calendar.repeateditall\", core[\"ad\" /* ɵɵpureFunction1 */](10, _c2, ctx_r12.otherEventsCount)));\n        core[\"lc\" /* ɵɵadvance */](6);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](17, 8, \"addon.calendar.repeateditthis\"));\n    }\n}\nfunction AddonCalendarEditEventPage_form_14_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"form\", 7, 8);\n        core[\"Ec\" /* ɵɵelementStart */](2, \"ion-item\", 9);\n        core[\"Ec\" /* ɵɵelementStart */](3, \"ion-label\", 10);\n        core[\"Ec\" /* ɵɵelementStart */](4, \"p\", 11);\n        core[\"pd\" /* ɵɵtext */](5);\n        core[\"Pc\" /* ɵɵpipe */](6, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"zc\" /* ɵɵelement */](7, \"ion-input\", 12);\n        core[\"Pc\" /* ɵɵpipe */](8, \"translate\");\n        core[\"zc\" /* ɵɵelement */](9, \"core-input-errors\", 13);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Ec\" /* ɵɵelementStart */](10, \"ion-item\", 9);\n        core[\"Ec\" /* ɵɵelementStart */](11, \"ion-label\", 10);\n        core[\"Ec\" /* ɵɵelementStart */](12, \"p\", 11);\n        core[\"pd\" /* ɵɵtext */](13);\n        core[\"Pc\" /* ɵɵpipe */](14, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"zc\" /* ɵɵelement */](15, \"ion-datetime\", 14);\n        core[\"Pc\" /* ɵɵpipe */](16, \"translate\");\n        core[\"zc\" /* ɵɵelement */](17, \"core-input-errors\", 13);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Ec\" /* ɵɵelementStart */](18, \"ion-item\", 15);\n        core[\"Ec\" /* ɵɵelementStart */](19, \"ion-label\");\n        core[\"Ec\" /* ɵɵelementStart */](20, \"p\", 11);\n        core[\"pd\" /* ɵɵtext */](21);\n        core[\"Pc\" /* ɵɵpipe */](22, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"nd\" /* ɵɵtemplate */](23, AddonCalendarEditEventPage_form_14_p_23_Template, 3, 3, \"p\", 16);\n        core[\"nd\" /* ɵɵtemplate */](24, AddonCalendarEditEventPage_form_14_ion_select_24_Template, 3, 6, \"ion-select\", 17);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"nd\" /* ɵɵtemplate */](25, AddonCalendarEditEventPage_form_14_ion_item_25_Template, 9, 13, \"ion-item\", 18);\n        core[\"nd\" /* ɵɵtemplate */](26, AddonCalendarEditEventPage_form_14_ion_item_26_Template, 9, 13, \"ion-item\", 18);\n        core[\"nd\" /* ɵɵtemplate */](27, AddonCalendarEditEventPage_form_14_ng_container_27_Template, 13, 16, \"ng-container\", 19);\n        core[\"nd\" /* ɵɵtemplate */](28, AddonCalendarEditEventPage_form_14_ng_container_28_Template, 10, 7, \"ng-container\", 19);\n        core[\"Ec\" /* ɵɵelementStart */](29, \"div\", 20);\n        core[\"Ec\" /* ɵɵelementStart */](30, \"ion-radio-group\", 21);\n        core[\"Ec\" /* ɵɵelementStart */](31, \"ion-item-divider\", 22);\n        core[\"Ec\" /* ɵɵelementStart */](32, \"ion-label\");\n        core[\"Ec\" /* ɵɵelementStart */](33, \"p\", 23);\n        core[\"pd\" /* ɵɵtext */](34);\n        core[\"Pc\" /* ɵɵpipe */](35, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Ec\" /* ɵɵelementStart */](36, \"ion-item\");\n        core[\"Ec\" /* ɵɵelementStart */](37, \"ion-label\");\n        core[\"Ec\" /* ɵɵelementStart */](38, \"p\");\n        core[\"pd\" /* ɵɵtext */](39);\n        core[\"Pc\" /* ɵɵpipe */](40, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"zc\" /* ɵɵelement */](41, \"ion-radio\", 24);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Ec\" /* ɵɵelementStart */](42, \"ion-item\");\n        core[\"Ec\" /* ɵɵelementStart */](43, \"ion-label\");\n        core[\"Ec\" /* ɵɵelementStart */](44, \"p\");\n        core[\"pd\" /* ɵɵtext */](45);\n        core[\"Pc\" /* ɵɵpipe */](46, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"zc\" /* ɵɵelement */](47, \"ion-radio\", 24);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"nd\" /* ɵɵtemplate */](48, AddonCalendarEditEventPage_form_14_ion_item_48_Template, 4, 6, \"ion-item\", 19);\n        core[\"Ec\" /* ɵɵelementStart */](49, \"ion-item\");\n        core[\"Ec\" /* ɵɵelementStart */](50, \"ion-label\");\n        core[\"Ec\" /* ɵɵelementStart */](51, \"p\");\n        core[\"pd\" /* ɵɵtext */](52);\n        core[\"Pc\" /* ɵɵpipe */](53, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"zc\" /* ɵɵelement */](54, \"ion-radio\", 24);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"nd\" /* ɵɵtemplate */](55, AddonCalendarEditEventPage_form_14_ion_item_55_Template, 6, 6, \"ion-item\", 19);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"nd\" /* ɵɵtemplate */](56, AddonCalendarEditEventPage_form_14_ng_container_56_Template, 13, 7, \"ng-container\", 19);\n        core[\"nd\" /* ɵɵtemplate */](57, AddonCalendarEditEventPage_form_14_div_57_Template, 19, 12, \"div\", 25);\n        core[\"Ec\" /* ɵɵelementStart */](58, \"ion-item\", 9);\n        core[\"Ec\" /* ɵɵelementStart */](59, \"ion-label\", 10);\n        core[\"Ec\" /* ɵɵelementStart */](60, \"p\", 23);\n        core[\"pd\" /* ɵɵtext */](61);\n        core[\"Pc\" /* ɵɵpipe */](62, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"zc\" /* ɵɵelement */](63, \"core-rich-text-editor\", 26);\n        core[\"Pc\" /* ɵɵpipe */](64, \"translate\");\n        core[\"Pc\" /* ɵɵpipe */](65, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Ec\" /* ɵɵelementStart */](66, \"ion-item\", 9);\n        core[\"Ec\" /* ɵɵelementStart */](67, \"ion-label\", 10);\n        core[\"Ec\" /* ɵɵelementStart */](68, \"p\", 23);\n        core[\"pd\" /* ɵɵtext */](69);\n        core[\"Pc\" /* ɵɵpipe */](70, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"zc\" /* ɵɵelement */](71, \"ion-input\", 27);\n        core[\"Pc\" /* ɵɵpipe */](72, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r0 = core[\"Oc\" /* ɵɵnextContext */]();\n        core[\"Vc\" /* ɵɵproperty */](\"formGroup\", ctx_r0.form);\n        core[\"lc\" /* ɵɵadvance */](4);\n        core[\"Vc\" /* ɵɵproperty */](\"core-mark-required\", true);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](6, 42, \"addon.calendar.eventname\"));\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"placeholder\", core[\"Qc\" /* ɵɵpipeBind1 */](8, 44, \"addon.calendar.eventname\"));\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"control\", ctx_r0.form.controls.name)(\"errorMessages\", ctx_r0.errors);\n        core[\"lc\" /* ɵɵadvance */](3);\n        core[\"Vc\" /* ɵɵproperty */](\"core-mark-required\", true);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](14, 46, \"core.date\"));\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"placeholder\", core[\"Qc\" /* ɵɵpipeBind1 */](16, 48, \"core.date\"))(\"displayFormat\", ctx_r0.dateFormat)(\"max\", ctx_r0.maxDate)(\"min\", ctx_r0.minDate);\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"control\", ctx_r0.form.controls.timestart)(\"errorMessages\", ctx_r0.errors);\n        core[\"lc\" /* ɵɵadvance */](3);\n        core[\"Vc\" /* ɵɵproperty */](\"core-mark-required\", true);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](22, 50, \"addon.calendar.eventkind\"));\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx_r0.eventTypes.length == 1);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx_r0.eventTypes.length > 1);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx_r0.typeControl.value == \"category\");\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx_r0.typeControl.value == \"course\");\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx_r0.typeControl.value == \"group\");\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx_r0.notificationsEnabled && !ctx_r0.eventId);\n        core[\"lc\" /* ɵɵadvance */](6);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](35, 52, \"addon.calendar.eventduration\"));\n        core[\"lc\" /* ɵɵadvance */](5);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](40, 54, \"addon.calendar.durationnone\"));\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"value\", 0);\n        core[\"lc\" /* ɵɵadvance */](4);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](46, 56, \"addon.calendar.durationuntil\"));\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"value\", 1);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx_r0.form.controls.duration.value === 1);\n        core[\"lc\" /* ɵɵadvance */](4);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](53, 58, \"addon.calendar.durationminutes\"));\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"value\", 2);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx_r0.form.controls.duration.value === 2);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", !ctx_r0.eventId || ctx_r0.eventId < 0);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx_r0.eventRepeatId);\n        core[\"lc\" /* ɵɵadvance */](4);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](62, 60, \"core.description\"));\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"control\", ctx_r0.descriptionControl)(\"placeholder\", core[\"Qc\" /* ɵɵpipeBind1 */](65, 64, \"core.description\"))(\"component\", ctx_r0.component)(\"componentId\", ctx_r0.eventId)(\"autoSave\", false);\n        core[\"mc\" /* ɵɵattribute */](\"aria-label\", core[\"Qc\" /* ɵɵpipeBind1 */](64, 62, \"core.description\"));\n        core[\"lc\" /* ɵɵadvance */](6);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](70, 66, \"core.location\"));\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"placeholder\", core[\"Qc\" /* ɵɵpipeBind1 */](72, 68, \"core.location\"));\n    }\n}\nfunction AddonCalendarEditEventPage_div_15_ion_button_2_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r37 = core[\"Fc\" /* ɵɵgetCurrentView */]();\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-button\", 58);\n        core[\"Mc\" /* ɵɵlistener */](\"click\", function AddonCalendarEditEventPage_div_15_ion_button_2_Template_ion_button_click_0_listener() { core[\"fd\" /* ɵɵrestoreView */](_r37); const ctx_r36 = core[\"Oc\" /* ɵɵnextContext */](2); return ctx_r36.discard(); });\n        core[\"pd\" /* ɵɵtext */](1);\n        core[\"Pc\" /* ɵɵpipe */](2, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"rd\" /* ɵɵtextInterpolate1 */](\" \", core[\"Qc\" /* ɵɵpipeBind1 */](2, 1, \"core.discard\"), \" \");\n    }\n}\nfunction AddonCalendarEditEventPage_div_15_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r39 = core[\"Fc\" /* ɵɵgetCurrentView */]();\n        core[\"Ec\" /* ɵɵelementStart */](0, \"div\", 54);\n        core[\"Ec\" /* ɵɵelementStart */](1, \"div\", 55);\n        core[\"nd\" /* ɵɵtemplate */](2, AddonCalendarEditEventPage_div_15_ion_button_2_Template, 3, 3, \"ion-button\", 56);\n        core[\"Ec\" /* ɵɵelementStart */](3, \"ion-button\", 57);\n        core[\"Mc\" /* ɵɵlistener */](\"click\", function AddonCalendarEditEventPage_div_15_Template_ion_button_click_3_listener() { core[\"fd\" /* ɵɵrestoreView */](_r39); const ctx_r38 = core[\"Oc\" /* ɵɵnextContext */](); return ctx_r38.submit(); });\n        core[\"pd\" /* ɵɵtext */](4);\n        core[\"Pc\" /* ɵɵpipe */](5, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r1 = core[\"Oc\" /* ɵɵnextContext */]();\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx_r1.hasOffline && ctx_r1.eventId && ctx_r1.eventId < 0);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"disabled\", !ctx_r1.form.valid);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"rd\" /* ɵɵtextInterpolate1 */](\" \", core[\"Qc\" /* ɵɵpipeBind1 */](5, 3, \"core.save\"), \" \");\n    }\n}\n/**\n * Page that displays a form to create/edit an event.\n */\nlet edit_event_page_AddonCalendarEditEventPage = /*@__PURE__*/ (() => {\n    class AddonCalendarEditEventPage {\n        constructor(fb) {\n            this.fb = fb;\n            this.title = 'addon.calendar.newevent';\n            this.component = calendar[\"c\" /* AddonCalendarProvider */].COMPONENT;\n            this.loaded = false;\n            this.hasOffline = false;\n            this.eventTypes = [];\n            this.categories = [];\n            this.courses = [];\n            this.groups = [];\n            this.loadingGroups = false;\n            this.courseGroupSet = false;\n            this.error = false;\n            this.otherEventsCount = 0;\n            // Reminders.\n            this.notificationsEnabled = false;\n            this.reminders = [];\n            this.types = {}; // Object with the supported types.\n            this.showAll = false;\n            this.isDestroyed = false;\n            this.gotEventData = false;\n            this.currentSite = sites[\"b\" /* CoreSites */].getRequiredCurrentSite();\n            this.notificationsEnabled = local_notifications[\"a\" /* CoreLocalNotifications */].isAvailable();\n            this.errors = {\n                required: singletons[\"J\" /* Translate */].instant('core.required'),\n            };\n            // Calculate format to use. ion-datetime doesn't support escaping characters ([]), so we remove them.\n            this.dateFormat = time[\"a\" /* CoreTimeUtils */].convertPHPToMoment(singletons[\"J\" /* Translate */].instant('core.strftimedatetimeshort'))\n                .replace(/[[\\]]/g, '');\n            this.form = new fesm2015_forms[\"j\" /* FormGroup */]({});\n            // Initialize form variables.\n            this.typeControl = this.fb.control('', fesm2015_forms[\"F\" /* Validators */].required);\n            this.groupControl = this.fb.control('');\n            this.descriptionControl = this.fb.control('');\n            this.form.addControl('name', this.fb.control('', fesm2015_forms[\"F\" /* Validators */].required));\n            this.form.addControl('eventtype', this.typeControl);\n            this.form.addControl('categoryid', this.fb.control(''));\n            this.form.addControl('groupcourseid', this.fb.control(''));\n            this.form.addControl('groupid', this.groupControl);\n            this.form.addControl('description', this.descriptionControl);\n            this.form.addControl('location', this.fb.control(''));\n            this.form.addControl('duration', this.fb.control(0));\n            this.form.addControl('timedurationminutes', this.fb.control(''));\n            this.form.addControl('repeat', this.fb.control(false));\n            this.form.addControl('repeats', this.fb.control('1'));\n            this.form.addControl('repeateditall', this.fb.control(1));\n            this.maxDate = time[\"a\" /* CoreTimeUtils */].getDatetimeDefaultMax();\n            this.minDate = time[\"a\" /* CoreTimeUtils */].getDatetimeDefaultMin();\n        }\n        /**\n         * Component being initialized.\n         */\n        ngOnInit() {\n            this.eventId = services_navigator[\"a\" /* CoreNavigator */].getRouteNumberParam('eventId') || undefined;\n            this.courseId = services_navigator[\"a\" /* CoreNavigator */].getRouteNumberParam('courseId') || 0;\n            this.title = this.eventId ? 'addon.calendar.editevent' : 'addon.calendar.newevent';\n            const timestamp = services_navigator[\"a\" /* CoreNavigator */].getRouteNumberParam('timestamp');\n            const currentDate = time[\"a\" /* CoreTimeUtils */].toDatetimeFormat(timestamp);\n            this.form.addControl('timestart', this.fb.control(currentDate, fesm2015_forms[\"F\" /* Validators */].required));\n            this.form.addControl('timedurationuntil', this.fb.control(currentDate));\n            this.form.addControl('courseid', this.fb.control(this.courseId));\n            this.initReminders();\n            this.fetchData().finally(() => {\n                this.originalData = utils[\"a\" /* CoreUtils */].clone(this.form.value);\n                this.loaded = true;\n            });\n        }\n        /**\n         * Fetch the data needed to render the form.\n         *\n         * @param refresh Whether it's refreshing data.\n         * @return Promise resolved when done.\n         */\n        fetchData() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                this.error = false;\n                // Get access info.\n                try {\n                    const [types, accessInfo] = yield Promise.all([\n                        calendar[\"a\" /* AddonCalendar */].getAllowedEventTypes(this.courseId),\n                        utils[\"a\" /* CoreUtils */].ignoreErrors(calendar[\"a\" /* AddonCalendar */].getAccessInformation(this.courseId), {\n                            canmanageentries: false,\n                            canmanageownentries: false,\n                            canmanagegroupentries: false,\n                        }),\n                    ]);\n                    this.types = types;\n                    const promises = [];\n                    const eventTypes = calendar_helper[\"b\" /* AddonCalendarHelper */].getEventTypeOptions(this.types);\n                    if (!eventTypes.length) {\n                        throw new errors_error[\"a\" /* CoreError */](singletons[\"J\" /* Translate */].instant('addon.calendar.nopermissiontoupdatecalendar'));\n                    }\n                    if (this.eventId && !this.gotEventData) {\n                        // Editing an event, get the event data. Wait for sync first.\n                        const eventId = this.eventId;\n                        promises.push(calendar_sync[\"a\" /* AddonCalendarSync */].waitForSync(calendar_sync[\"b\" /* AddonCalendarSyncProvider */].SYNC_ID).then(() => Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                            // Do not block if the scope is already destroyed.\n                            if (!this.isDestroyed && this.eventId) {\n                                sync[\"a\" /* CoreSync */].blockOperation(calendar[\"c\" /* AddonCalendarProvider */].COMPONENT, eventId);\n                            }\n                            let eventForm;\n                            // Get the event offline data if there's any.\n                            try {\n                                eventForm = yield calendar_offline[\"a\" /* AddonCalendarOffline */].getEvent(eventId);\n                                this.hasOffline = true;\n                            }\n                            catch (_a) {\n                                // No offline data.\n                                this.hasOffline = false;\n                            }\n                            if (eventId > 0) {\n                                // It's an online event. get its data from server.\n                                const event = yield calendar[\"a\" /* AddonCalendar */].getEventById(eventId);\n                                if (!eventForm) {\n                                    eventForm = event; // Use offline data first.\n                                }\n                                this.eventRepeatId = event === null || event === void 0 ? void 0 : event.repeatid;\n                                if (this.eventRepeatId) {\n                                    this.otherEventsCount = event.eventcount ? event.eventcount - 1 : 0;\n                                }\n                            }\n                            this.gotEventData = true;\n                            if (eventForm) {\n                                // Load the data in the form.\n                                return this.loadEventData(eventForm, this.hasOffline);\n                            }\n                            return;\n                        })));\n                    }\n                    if (this.types.category) {\n                        // Get the categories.\n                        promises.push(this.fetchCategories());\n                    }\n                    this.showAll = utils[\"a\" /* CoreUtils */].isTrueOrOne(this.currentSite.getStoredConfig('calendar_adminseesall')) &&\n                        accessInfo.canmanageentries;\n                    if (this.types.course || this.types.groups) {\n                        promises.push(this.fetchCourses());\n                    }\n                    yield Promise.all(promises);\n                    if (!this.typeControl.value) {\n                        // Initialize event type value. If course is allowed, select it first.\n                        if (this.types.course) {\n                            this.typeControl.setValue(calendar[\"b\" /* AddonCalendarEventType */].COURSE);\n                        }\n                        else {\n                            this.typeControl.setValue(eventTypes[0].value);\n                        }\n                    }\n                    this.eventTypes = eventTypes;\n                }\n                catch (error) {\n                    dom[\"a\" /* CoreDomUtils */].showErrorModalDefault(error, 'Error getting data.');\n                    this.error = true;\n                }\n            });\n        }\n        fetchCategories() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                this.categories = yield services_courses[\"a\" /* CoreCourses */].getCategories(0, true);\n            });\n        }\n        fetchCourses() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                // Get the courses.\n                let courses = yield (this.showAll ? services_courses[\"a\" /* CoreCourses */].getCoursesByField() : services_courses[\"a\" /* CoreCourses */].getUserCourses());\n                if (courses.length < 0) {\n                    this.courses = [];\n                    return;\n                }\n                const courseFillterFullname = (course) => filter_helper[\"a\" /* CoreFilterHelper */].getFiltersAndFormatText(course.fullname, 'course', course.id)\n                    .then((result) => {\n                    course.fullname = result.text;\n                    return;\n                }).catch(() => {\n                    // Ignore errors.\n                });\n                if (this.showAll) {\n                    // Remove site home from the list of courses.\n                    const siteHomeId = sites[\"b\" /* CoreSites */].getCurrentSiteHomeId();\n                    if ('contacts' in courses[0]) {\n                        courses = courses.filter((course) => course.id != siteHomeId);\n                    }\n                    else {\n                        courses = courses.filter((course) => course.id != siteHomeId);\n                    }\n                }\n                // Format the name of the courses.\n                if ('contacts' in courses[0]) {\n                    yield Promise.all(courses.map(courseFillterFullname));\n                }\n                else {\n                    yield Promise.all(courses.map(courseFillterFullname));\n                }\n                // Sort courses by name.\n                this.courses = courses.sort((a, b) => {\n                    const compareA = a.fullname.toLowerCase();\n                    const compareB = b.fullname.toLowerCase();\n                    return compareA.localeCompare(compareB);\n                });\n            });\n        }\n        /**\n         * Load an event data into the form.\n         *\n         * @param event Event data.\n         * @param isOffline Whether the data is from offline or not.\n         * @return Promise resolved when done.\n         */\n        loadEventData(event, isOffline) {\n            var _a;\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                if (!event) {\n                    return;\n                }\n                const offlineEvent = event;\n                const onlineEvent = event;\n                const courseId = isOffline ? offlineEvent.courseid : (_a = onlineEvent.course) === null || _a === void 0 ? void 0 : _a.id;\n                this.form.controls.name.setValue(event.name);\n                this.form.controls.timestart.setValue(time[\"a\" /* CoreTimeUtils */].toDatetimeFormat(event.timestart * 1000));\n                this.form.controls.eventtype.setValue(event.eventtype);\n                this.form.controls.categoryid.setValue(event.categoryid || '');\n                this.form.controls.courseid.setValue(courseId || '');\n                this.form.controls.groupcourseid.setValue(courseId || '');\n                this.form.controls.groupid.setValue(event.groupid || '');\n                this.form.controls.description.setValue(event.description);\n                this.form.controls.location.setValue(event.location);\n                if (isOffline) {\n                    // It's an offline event, use the data as it is.\n                    this.form.controls.duration.setValue(offlineEvent.duration);\n                    this.form.controls.timedurationuntil.setValue(time[\"a\" /* CoreTimeUtils */].toDatetimeFormat(((offlineEvent.timedurationuntil || 0) * 1000) || Date.now()));\n                    this.form.controls.timedurationminutes.setValue(offlineEvent.timedurationminutes || '');\n                    this.form.controls.repeat.setValue(!!offlineEvent.repeat);\n                    this.form.controls.repeats.setValue(offlineEvent.repeats || '1');\n                    this.form.controls.repeateditall.setValue(offlineEvent.repeateditall || 1);\n                }\n                else {\n                    // Online event, we'll have to calculate the data.\n                    if (onlineEvent.timeduration > 0) {\n                        this.form.controls.duration.setValue(1);\n                        this.form.controls.timedurationuntil.setValue(time[\"a\" /* CoreTimeUtils */].toDatetimeFormat((onlineEvent.timestart + onlineEvent.timeduration) * 1000));\n                    }\n                    else {\n                        // No duration.\n                        this.form.controls.duration.setValue(0);\n                        this.form.controls.timedurationuntil.setValue(time[\"a\" /* CoreTimeUtils */].toDatetimeFormat());\n                    }\n                    this.form.controls.timedurationminutes.setValue('');\n                    this.form.controls.repeat.setValue(!!onlineEvent.repeatid);\n                    this.form.controls.repeats.setValue(onlineEvent.eventcount || '1');\n                    this.form.controls.repeateditall.setValue(1);\n                }\n                if (event.eventtype == calendar[\"b\" /* AddonCalendarEventType */].GROUP && courseId) {\n                    yield this.loadGroups(courseId);\n                }\n            });\n        }\n        /**\n         * Pull to refresh.\n         *\n         * @param refresher Refresher.\n         */\n        refreshData(refresher) {\n            const promises = [\n                calendar[\"a\" /* AddonCalendar */].invalidateAccessInformation(this.courseId),\n                calendar[\"a\" /* AddonCalendar */].invalidateAllowedEventTypes(this.courseId),\n            ];\n            if (this.types) {\n                if (this.types.category) {\n                    promises.push(services_courses[\"a\" /* CoreCourses */].invalidateCategories(0, true));\n                }\n                if (this.types.course || this.types.groups) {\n                    if (this.showAll) {\n                        promises.push(services_courses[\"a\" /* CoreCourses */].invalidateCoursesByField());\n                    }\n                    else {\n                        promises.push(services_courses[\"a\" /* CoreCourses */].invalidateUserCourses());\n                    }\n                }\n            }\n            Promise.all(promises).finally(() => {\n                this.fetchData().finally(() => {\n                    refresher === null || refresher === void 0 ? void 0 : refresher.complete();\n                });\n            });\n        }\n        /**\n         * A course was selected, get its groups.\n         */\n        groupCourseSelected() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                const courseId = this.form.controls.groupcourseid.value;\n                if (!courseId) {\n                    return;\n                }\n                const modal = yield dom[\"a\" /* CoreDomUtils */].showModalLoading();\n                try {\n                    yield this.loadGroups(courseId);\n                    this.groupControl.setValue('');\n                }\n                catch (error) {\n                    dom[\"a\" /* CoreDomUtils */].showErrorModalDefault(error, 'Error getting data.');\n                }\n                modal.dismiss();\n            });\n        }\n        /**\n         * Load groups of a certain course.\n         *\n         * @param courseId Course ID.\n         * @return Promise resolved when done.\n         */\n        loadGroups(courseId) {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                this.loadingGroups = true;\n                try {\n                    this.groups = yield groups[\"a\" /* CoreGroups */].getUserGroupsInCourse(courseId);\n                    this.courseGroupSet = true;\n                }\n                finally {\n                    this.loadingGroups = false;\n                }\n            });\n        }\n        selectDuration(duration) {\n            this.form.controls.duration.setValue(duration);\n        }\n        /**\n         * Create the event.\n         */\n        submit() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                // Validate data.\n                const formData = this.form.value;\n                const timeStartDate = time[\"a\" /* CoreTimeUtils */].convertToTimestamp(formData.timestart, true);\n                const timeUntilDate = time[\"a\" /* CoreTimeUtils */].convertToTimestamp(formData.timedurationuntil, true);\n                const timeDurationMinutes = parseInt(formData.timedurationminutes || '', 10);\n                let error;\n                if (formData.eventtype == calendar[\"b\" /* AddonCalendarEventType */].COURSE && !formData.courseid) {\n                    error = 'core.selectacourse';\n                }\n                else if (formData.eventtype == calendar[\"b\" /* AddonCalendarEventType */].GROUP && !formData.groupcourseid) {\n                    error = 'core.selectacourse';\n                }\n                else if (formData.eventtype == calendar[\"b\" /* AddonCalendarEventType */].GROUP && !formData.groupid) {\n                    error = 'core.selectagroup';\n                }\n                else if (formData.eventtype == calendar[\"b\" /* AddonCalendarEventType */].CATEGORY && !formData.categoryid) {\n                    error = 'core.selectacategory';\n                }\n                else if (formData.duration == 1 && timeStartDate > timeUntilDate) {\n                    error = 'addon.calendar.invalidtimedurationuntil';\n                }\n                else if (formData.duration == 2 && (isNaN(timeDurationMinutes) || timeDurationMinutes < 1)) {\n                    error = 'addon.calendar.invalidtimedurationminutes';\n                }\n                if (error) {\n                    // Show error and stop.\n                    dom[\"a\" /* CoreDomUtils */].showErrorModal(singletons[\"J\" /* Translate */].instant(error));\n                    return;\n                }\n                // Format the data to send.\n                const data = {\n                    name: formData.name,\n                    eventtype: formData.eventtype,\n                    timestart: timeStartDate,\n                    description: {\n                        text: formData.description || '',\n                        format: 1,\n                    },\n                    location: formData.location,\n                    duration: formData.duration,\n                    repeat: formData.repeat,\n                };\n                if (formData.eventtype == calendar[\"b\" /* AddonCalendarEventType */].COURSE) {\n                    data.courseid = formData.courseid;\n                }\n                else if (formData.eventtype == calendar[\"b\" /* AddonCalendarEventType */].GROUP) {\n                    data.groupcourseid = formData.groupcourseid;\n                    data.groupid = formData.groupid;\n                }\n                else if (formData.eventtype == calendar[\"b\" /* AddonCalendarEventType */].CATEGORY) {\n                    data.categoryid = formData.categoryid;\n                }\n                if (formData.duration == 1) {\n                    data.timedurationuntil = timeUntilDate;\n                }\n                else if (formData.duration == 2) {\n                    data.timedurationminutes = formData.timedurationminutes;\n                }\n                if (formData.repeat) {\n                    data.repeats = Number(formData.repeats);\n                }\n                if (this.eventRepeatId) {\n                    data.repeatid = this.eventRepeatId;\n                    data.repeateditall = formData.repeateditall;\n                }\n                // Send the data.\n                const modal = yield dom[\"a\" /* CoreDomUtils */].showModalLoading('core.sending', true);\n                let event;\n                try {\n                    const result = yield calendar[\"a\" /* AddonCalendar */].submitEvent(this.eventId, data, {\n                        reminders: this.eventId ? [] : this.reminders,\n                    });\n                    event = result.event;\n                    singletons_form[\"a\" /* CoreForms */].triggerFormSubmittedEvent(this.formElement, result.sent, this.currentSite.getId());\n                    if (result.sent) {\n                        // Event created or edited, invalidate right days & months.\n                        const numberOfRepetitions = formData.repeat ? formData.repeats :\n                            (data.repeateditall && this.otherEventsCount ? this.otherEventsCount + 1 : 1);\n                        try {\n                            yield calendar_helper[\"b\" /* AddonCalendarHelper */].refreshAfterChangeEvent(result.event, numberOfRepetitions);\n                        }\n                        catch (_a) {\n                            // Ignore errors.\n                        }\n                    }\n                    this.returnToList(event);\n                }\n                catch (error) {\n                    dom[\"a\" /* CoreDomUtils */].showErrorModalDefault(error, 'Error sending data.');\n                }\n                modal.dismiss();\n            });\n        }\n        /**\n         * Convenience function to update or return to event list depending on device.\n         *\n         * @param event Event.\n         */\n        returnToList(event) {\n            // Unblock the sync because the view will be destroyed and the sync process could be triggered before ngOnDestroy.\n            this.unblockSync();\n            if (this.eventId && this.eventId > 0) {\n                // Editing an event.\n                events[\"b\" /* CoreEvents */].trigger(calendar[\"c\" /* AddonCalendarProvider */].EDIT_EVENT_EVENT, { eventId: this.eventId }, this.currentSite.getId());\n            }\n            else {\n                if (event) {\n                    events[\"b\" /* CoreEvents */].trigger(calendar[\"c\" /* AddonCalendarProvider */].NEW_EVENT_EVENT, {\n                        eventId: event.id,\n                        oldEventId: this.eventId,\n                    }, this.currentSite.getId());\n                }\n                else {\n                    events[\"b\" /* CoreEvents */].trigger(calendar[\"c\" /* AddonCalendarProvider */].NEW_EVENT_DISCARDED_EVENT, {}, this.currentSite.getId());\n                }\n            }\n            this.originalData = undefined; // Avoid asking for confirmation.\n            services_navigator[\"a\" /* CoreNavigator */].back();\n        }\n        /**\n         * Discard an offline saved discussion.\n         */\n        discard() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                if (!this.eventId) {\n                    return;\n                }\n                try {\n                    yield dom[\"a\" /* CoreDomUtils */].showConfirm(singletons[\"J\" /* Translate */].instant('core.areyousure'));\n                    try {\n                        yield calendar_offline[\"a\" /* AddonCalendarOffline */].deleteEvent(this.eventId);\n                        singletons_form[\"a\" /* CoreForms */].triggerFormCancelledEvent(this.formElement, this.currentSite.getId());\n                        this.returnToList();\n                    }\n                    catch (_a) {\n                        // Shouldn't happen.\n                        dom[\"a\" /* CoreDomUtils */].showErrorModal('Error discarding event.');\n                    }\n                }\n                catch (_b) {\n                    // Ignore errors\n                }\n            });\n        }\n        /**\n         * Check if we can leave the page or not.\n         *\n         * @return Resolved with true if we can leave it, rejected if not.\n         */\n        canLeave() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                if (calendar_helper[\"b\" /* AddonCalendarHelper */].hasEventDataChanged(this.form.value, this.originalData)) {\n                    // Show confirmation if some data has been modified.\n                    yield dom[\"a\" /* CoreDomUtils */].showConfirm(singletons[\"J\" /* Translate */].instant('core.confirmcanceledit'));\n                }\n                singletons_form[\"a\" /* CoreForms */].triggerFormCancelledEvent(this.formElement, this.currentSite.getId());\n                return true;\n            });\n        }\n        /**\n         * Unblock sync.\n         */\n        unblockSync() {\n            if (this.eventId) {\n                sync[\"a\" /* CoreSync */].unblockOperation(calendar[\"c\" /* AddonCalendarProvider */].COMPONENT, this.eventId);\n            }\n        }\n        /**\n         * Init reminders.\n         *\n         * @return Promise resolved when done.\n         */\n        initReminders() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                // Don't init reminders when editing an event. Right now, only allow adding reminders for new events.\n                if (!this.notificationsEnabled || this.eventId) {\n                    return;\n                }\n                // Check if default reminders are enabled.\n                const defaultTime = yield calendar[\"a\" /* AddonCalendar */].getDefaultNotificationTime(this.currentSite.getId());\n                if (defaultTime === 0) {\n                    return;\n                }\n                const data = calendar[\"c\" /* AddonCalendarProvider */].convertSecondsToValueAndUnit(defaultTime);\n                // Add default reminder.\n                this.reminders.push({\n                    time: null,\n                    value: data.value,\n                    unit: data.unit,\n                    label: calendar[\"a\" /* AddonCalendar */].getUnitValueLabel(data.value, data.unit, true),\n                });\n            });\n        }\n        /**\n         * Add a reminder.\n         */\n        addReminder() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                const reminderTime = yield dom[\"a\" /* CoreDomUtils */].openModal({\n                    component: reminder_time_modal[\"a\" /* AddonCalendarReminderTimeModalComponent */],\n                });\n                if (reminderTime === undefined) {\n                    // User canceled.\n                    return;\n                }\n                const data = calendar[\"c\" /* AddonCalendarProvider */].convertSecondsToValueAndUnit(reminderTime);\n                // Add reminder.\n                this.reminders.push({\n                    time: reminderTime,\n                    value: data.value,\n                    unit: data.unit,\n                    label: calendar[\"a\" /* AddonCalendar */].getUnitValueLabel(data.value, data.unit),\n                });\n            });\n        }\n        /**\n         * Remove a reminder.\n         *\n         * @param reminder The reminder to remove.\n         */\n        removeReminder(reminder) {\n            const index = this.reminders.indexOf(reminder);\n            if (index != -1) {\n                this.reminders.splice(index, 1);\n            }\n        }\n        /**\n         * Page destroyed.\n         */\n        ngOnDestroy() {\n            this.unblockSync();\n            this.isDestroyed = true;\n        }\n    }\n    AddonCalendarEditEventPage.ɵfac = function AddonCalendarEditEventPage_Factory(t) { return new (t || AddonCalendarEditEventPage)(core[\"yc\" /* ɵɵdirectiveInject */](fesm2015_forms[\"f\" /* FormBuilder */])); };\n    AddonCalendarEditEventPage.ɵcmp = core[\"sc\" /* ɵɵdefineComponent */]({ type: AddonCalendarEditEventPage, selectors: [[\"page-addon-calendar-edit-event\"]], viewQuery: function AddonCalendarEditEventPage_Query(rf, ctx) {\n            if (rf & 1) {\n                core[\"ud\" /* ɵɵviewQuery */](rich_text_editor[\"a\" /* CoreEditorRichTextEditorComponent */], true);\n                core[\"ud\" /* ɵɵviewQuery */](_c0, true);\n            }\n            if (rf & 2) {\n                var _t;\n                core[\"dd\" /* ɵɵqueryRefresh */](_t = core[\"Nc\" /* ɵɵloadQuery */]()) && (ctx.descriptionEditor = _t.first);\n                core[\"dd\" /* ɵɵqueryRefresh */](_t = core[\"Nc\" /* ɵɵloadQuery */]()) && (ctx.formElement = _t.first);\n            }\n        }, decls: 16, vars: 13, consts: [[\"slot\", \"start\"], [3, \"text\"], [\"slot\", \"fixed\", 3, \"disabled\", \"ionRefresh\"], [3, \"pullingText\"], [3, \"hideUntil\"], [3, \"formGroup\", 4, \"ngIf\"], [\"collapsible-footer\", \"\", \"appearOnBottom\", \"\", \"slot\", \"fixed\", 4, \"ngIf\"], [3, \"formGroup\"], [\"editEventForm\", \"\"], [1, \"ion-text-wrap\"], [\"position\", \"stacked\"], [1, \"item-heading\", 3, \"core-mark-required\"], [\"type\", \"text\", \"name\", \"name\", \"formControlName\", \"name\", 3, \"placeholder\"], [3, \"control\", \"errorMessages\"], [\"formControlName\", \"timestart\", \"display-timezone\", \"utc\", 3, \"placeholder\", \"displayFormat\", \"max\", \"min\"], [1, \"ion-text-wrap\", \"addon-calendar-eventtype-container\"], [\"slot\", \"end\", 4, \"ngIf\"], [\"formControlName\", \"eventtype\", \"interface\", \"action-sheet\", 3, \"interfaceOptions\", 4, \"ngIf\"], [\"class\", \"ion-text-wrap\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"ion-text-wrap\", \"addon-calendar-radio-container\"], [\"formControlName\", \"duration\"], [1, \"addon-calendar-radio-title\"], [1, \"item-heading\"], [\"slot\", \"end\", 3, \"value\"], [\"class\", \"ion-text-wrap addon-calendar-radio-container\", 4, \"ngIf\"], [\"name\", \"description\", 3, \"control\", \"placeholder\", \"component\", \"componentId\", \"autoSave\"], [\"type\", \"text\", \"name\", \"location\", \"formControlName\", \"location\", 3, \"placeholder\"], [\"slot\", \"end\"], [\"formControlName\", \"eventtype\", \"interface\", \"action-sheet\", 3, \"interfaceOptions\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [3, \"value\"], [\"formControlName\", \"categoryid\", \"interface\", \"action-sheet\", 3, \"placeholder\", \"interfaceOptions\"], [\"formControlName\", \"courseid\", \"interface\", \"action-sheet\", 3, \"placeholder\", \"interfaceOptions\"], [\"formControlName\", \"groupcourseid\", \"interface\", \"action-sheet\", 3, \"placeholder\", \"interfaceOptions\", \"ionChange\"], [\"class\", \"ion-text-wrap core-danger-item\", 4, \"ngIf\"], [\"class\", \"ion-text-wrap core-edit-set-group\", 4, \"ngIf\"], [1, \"ion-text-wrap\", \"core-danger-item\"], [1, \"ion-text-wrap\", \"core-edit-set-group\"], [\"formControlName\", \"groupid\", \"interface\", \"action-sheet\", 3, \"placeholder\", \"interfaceOptions\"], [1, \"addon-calendar-reminders-title\"], [\"fill\", \"clear\", \"slot\", \"end\", 3, \"click\"], [\"name\", \"fas-plus\", \"slot\", \"icon-only\", \"aria-hidden\", \"true\"], [\"class\", \"ion-text-wrap\", 4, \"ngFor\", \"ngForOf\"], [\"name\", \"fas-trash\", \"color\", \"danger\", \"slot\", \"icon-only\", \"aria-hidden\", \"true\"], [\"formControlName\", \"timedurationuntil\", \"display-timezone\", \"utc\", 3, \"max\", \"min\", \"placeholder\", \"displayFormat\"], [1, \"sr-only\"], [\"type\", \"number\", \"name\", \"timedurationminutes\", \"slot\", \"end\", \"formControlName\", \"timedurationminutes\", 3, \"placeholder\"], [1, \"ion-text-wrap\", \"divider\"], [\"slot\", \"end\", \"formControlName\", \"repeat\"], [\"type\", \"number\", \"name\", \"repeats\", \"formControlName\", \"repeats\", 3, \"disabled\"], [\"formControlName\", \"repeateditall\"], [\"slot\", \"end\", \"value\", \"1\"], [\"slot\", \"end\", \"value\", \"0\"], [\"collapsible-footer\", \"\", \"appearOnBottom\", \"\", \"slot\", \"fixed\"], [1, \"list-item-limited-width\", \"adaptable-buttons-row\"], [\"expand\", \"block\", \"fill\", \"outline\", \"class\", \"ion-margin ion-text-wrap\", 3, \"click\", 4, \"ngIf\"], [\"expand\", \"block\", \"type\", \"submit\", 1, \"ion-margin\", \"ion-text-wrap\", 3, \"disabled\", \"click\"], [\"expand\", \"block\", \"fill\", \"outline\", 1, \"ion-margin\", \"ion-text-wrap\", 3, \"click\"]], template: function AddonCalendarEditEventPage_Template(rf, ctx) {\n            if (rf & 1) {\n                core[\"Ec\" /* ɵɵelementStart */](0, \"ion-header\");\n                core[\"Ec\" /* ɵɵelementStart */](1, \"ion-toolbar\");\n                core[\"Ec\" /* ɵɵelementStart */](2, \"ion-buttons\", 0);\n                core[\"zc\" /* ɵɵelement */](3, \"ion-back-button\", 1);\n                core[\"Pc\" /* ɵɵpipe */](4, \"translate\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](5, \"ion-title\");\n                core[\"Ec\" /* ɵɵelementStart */](6, \"h1\");\n                core[\"pd\" /* ɵɵtext */](7);\n                core[\"Pc\" /* ɵɵpipe */](8, \"translate\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](9, \"ion-content\");\n                core[\"Ec\" /* ɵɵelementStart */](10, \"ion-refresher\", 2);\n                core[\"Mc\" /* ɵɵlistener */](\"ionRefresh\", function AddonCalendarEditEventPage_Template_ion_refresher_ionRefresh_10_listener($event) { return ctx.refreshData($event.target); });\n                core[\"zc\" /* ɵɵelement */](11, \"ion-refresher-content\", 3);\n                core[\"Pc\" /* ɵɵpipe */](12, \"translate\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](13, \"core-loading\", 4);\n                core[\"nd\" /* ɵɵtemplate */](14, AddonCalendarEditEventPage_form_14_Template, 73, 70, \"form\", 5);\n                core[\"nd\" /* ɵɵtemplate */](15, AddonCalendarEditEventPage_div_15_Template, 6, 5, \"div\", 6);\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n            }\n            if (rf & 2) {\n                core[\"lc\" /* ɵɵadvance */](3);\n                core[\"Vc\" /* ɵɵproperty */](\"text\", core[\"Qc\" /* ɵɵpipeBind1 */](4, 7, \"core.back\"));\n                core[\"lc\" /* ɵɵadvance */](4);\n                core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](8, 9, ctx.title));\n                core[\"lc\" /* ɵɵadvance */](3);\n                core[\"Vc\" /* ɵɵproperty */](\"disabled\", !ctx.loaded);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Wc\" /* ɵɵpropertyInterpolate */](\"pullingText\", core[\"Qc\" /* ɵɵpipeBind1 */](12, 11, \"core.pulltorefresh\"));\n                core[\"lc\" /* ɵɵadvance */](2);\n                core[\"Vc\" /* ɵɵproperty */](\"hideUntil\", ctx.loaded);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", !ctx.error);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx.loaded && !ctx.error);\n            }\n        }, directives: [ionic_angular[\"C\" /* IonHeader */], ionic_angular[\"Ab\" /* IonToolbar */], ionic_angular[\"m\" /* IonButtons */], ionic_angular[\"h\" /* IonBackButton */], ionic_angular[\"i\" /* IonBackButtonDelegate */], ionic_angular[\"yb\" /* IonTitle */], content[\"a\" /* CoreContentDirective */], ionic_angular[\"v\" /* IonContent */], ionic_angular[\"bb\" /* IonRefresher */], ionic_angular[\"cb\" /* IonRefresherContent */], loading[\"a\" /* CoreLoadingComponent */], common[\"t\" /* NgIf */], fesm2015_forms[\"H\" /* ɵangular_packages_forms_forms_y */], fesm2015_forms[\"s\" /* NgControlStatusGroup */], fesm2015_forms[\"k\" /* FormGroupDirective */], ionic_angular[\"I\" /* IonItem */], ionic_angular[\"O\" /* IonLabel */], mark_required[\"a\" /* CoreMarkRequiredComponent */], ionic_angular[\"H\" /* IonInput */], ionic_angular[\"Pb\" /* TextValueAccessor */], fesm2015_forms[\"r\" /* NgControlStatus */], fesm2015_forms[\"i\" /* FormControlName */], input_errors[\"a\" /* CoreInputErrorsComponent */], ionic_angular[\"w\" /* IonDatetime */], ionic_angular[\"Ob\" /* SelectValueAccessor */], ionic_angular[\"Z\" /* IonRadioGroup */], ionic_angular[\"J\" /* IonItemDivider */], ionic_angular[\"Y\" /* IonRadio */], ionic_angular[\"Mb\" /* RadioValueAccessor */], rich_text_editor[\"a\" /* CoreEditorRichTextEditorComponent */], ionic_angular[\"lb\" /* IonSelect */], common[\"s\" /* NgForOf */], ionic_angular[\"mb\" /* IonSelectOption */], ionic_angular[\"qb\" /* IonSpinner */], update_non_reactive_attributes[\"a\" /* CoreUpdateNonReactiveAttributesDirective */], ionic_angular[\"l\" /* IonButton */], ionic_angular[\"D\" /* IonIcon */], fa_icon[\"a\" /* CoreFaIconDirective */], ionic_angular[\"Jb\" /* NumericValueAccessor */], ionic_angular[\"s\" /* IonCheckbox */], ionic_angular[\"d\" /* BooleanValueAccessor */], collapsible_footer[\"a\" /* CoreCollapsibleFooterDirective */]], pipes: [ngx_translate_core[\"d\" /* TranslatePipe */]], styles: [\"[_nghost-%COMP%]   .addon-calendar-eventtype-container.item-select-disabled[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%], [_nghost-%COMP%]   .addon-calendar-eventtype-container.item-select-disabled[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   .addon-calendar-eventtype-container.item-select-disabled[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]::part(icon){display:none}\"] });\n    return AddonCalendarEditEventPage;\n})();\n\n// EXTERNAL MODULE: ./src/core/guards/can-leave.ts\nvar can_leave = __webpack_require__(\"MLi9\");\n\n// CONCATENATED MODULE: ./src/addons/calendar/pages/edit-event/edit-event.module.ts\n// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n\n\n\n\nconst routes = [\n    {\n        path: '',\n        component: edit_event_page_AddonCalendarEditEventPage,\n        canDeactivate: [can_leave[\"a\" /* CanLeaveGuard */]],\n    },\n];\nlet edit_event_module_AddonCalendarEditEventPageModule = /*@__PURE__*/ (() => {\n    class AddonCalendarEditEventPageModule {\n    }\n    AddonCalendarEditEventPageModule.ɵmod = core[\"wc\" /* ɵɵdefineNgModule */]({ type: AddonCalendarEditEventPageModule });\n    AddonCalendarEditEventPageModule.ɵinj = core[\"vc\" /* ɵɵdefineInjector */]({ factory: function AddonCalendarEditEventPageModule_Factory(t) { return new (t || AddonCalendarEditEventPageModule)(); }, imports: [[\n                router[\"m\" /* RouterModule */].forChild(routes),\n                shared_module[\"a\" /* CoreSharedModule */],\n                components_module[\"a\" /* CoreEditorComponentsModule */],\n            ], router[\"m\" /* RouterModule */]] });\n    return AddonCalendarEditEventPageModule;\n})();\n(function () {\n    (typeof ngJitMode === \"undefined\" || ngJitMode) && core[\"kd\" /* ɵɵsetNgModuleScope */](edit_event_module_AddonCalendarEditEventPageModule, { declarations: [edit_event_page_AddonCalendarEditEventPage], imports: [router[\"m\" /* RouterModule */], shared_module[\"a\" /* CoreSharedModule */],\n            components_module[\"a\" /* CoreEditorComponentsModule */]], exports: [router[\"m\" /* RouterModule */]] });\n})();\n\n\n/***/ })\n\n}]);","inputSourceMap":null}