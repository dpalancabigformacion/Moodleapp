(window.webpackJsonp=window.webpackJsonp||[]).push([[101],{EOZX:function(e,o,n){"use strict";n.r(o),n.d(o,"CoreLoginChangePasswordPageModule",(function(){return L}));var a=n("tyNb"),c=n("L3Fv"),r=n("9+EE"),t=n("3LXp"),s=n("mv9v"),i=n("j3ag"),g=n("pHTc"),l=n("fjkH"),d=n("bFG1"),h=n("fXoL"),P=n("TEn/"),p=n("ofXK"),C=n("ACYt"),w=n("3CSS"),u=n("nt/U"),_=n("sYmb");function CoreLoginChangePasswordPage_h1_6_Template(e,o){1&e&&(h.Ec(0,"h1"),h.pd(1),h.Pc(2,"translate"),h.Dc()),2&e&&(h.lc(1),h.qd(h.Qc(2,1,"core.login.changepassword")))}function CoreLoginChangePasswordPage_h1_7_Template(e,o){1&e&&(h.Ec(0,"h1"),h.pd(1),h.Pc(2,"translate"),h.Dc()),2&e&&(h.lc(1),h.qd(h.Qc(2,1,"core.login.reconnecttosite")))}function CoreLoginChangePasswordPage_ng_container_14_Template(e,o){if(1&e){const e=h.Fc();h.Cc(0),h.Ec(1,"ion-item",7),h.Ec(2,"ion-label"),h.Ec(3,"h2"),h.pd(4),h.Pc(5,"translate"),h.Dc(),h.Dc(),h.Dc(),h.Ec(6,"ion-button",9),h.Mc("click",(function CoreLoginChangePasswordPage_ng_container_14_Template_ion_button_click_6_listener(){h.fd(e);return h.Oc().openChangePasswordPage()})),h.pd(7),h.Pc(8,"translate"),h.Dc(),h.Bc()}2&e&&(h.lc(4),h.qd(h.Qc(5,2,"core.login.forcepasswordchangenotice")),h.lc(3),h.rd(" ",h.Qc(8,4,"core.login.changepasswordbutton")," "))}function CoreLoginChangePasswordPage_ng_container_15_Template(e,o){if(1&e){const e=h.Fc();h.Cc(0),h.Ec(1,"ion-item",7),h.Ec(2,"ion-label"),h.Ec(3,"p"),h.pd(4),h.Pc(5,"translate"),h.Dc(),h.Dc(),h.Dc(),h.Ec(6,"ion-button",9),h.Mc("click",(function CoreLoginChangePasswordPage_ng_container_15_Template_ion_button_click_6_listener(){h.fd(e);return h.Oc().login()})),h.pd(7),h.Pc(8,"translate"),h.Dc(),h.Bc()}2&e&&(h.lc(4),h.qd(h.Qc(5,2,"core.login.changepasswordreconnectinstructions")),h.lc(3),h.rd(" ",h.Qc(8,4,"core.login.reconnect")," "))}let b=(()=>{class CoreLoginChangePasswordPage{constructor(){this.changingPassword=!1,this.logoutLabel=s.a.getLogoutLabel()}showHelp(){t.a.showAlert(i.J.instant("core.help"),i.J.instant("core.login.changepasswordhelp"))}openChangePasswordPage(){s.a.openInAppForEdit(r.b.getCurrentSiteId(),"/login/change_password.php",void 0,!0),this.changingPassword=!0,this.detectPasswordChanged()}login(){g.a.navigateToSiteHome(),this.changingPassword=!1}logout(){r.b.logout(),this.changingPassword=!1}detectPasswordChanged(){this.urlLoadedObserver||(this.urlLoadedObserver=l.b.on(l.b.IAB_LOAD_START,(e=>{e.url.match(/\/login\/change_password\.php.*return=1/)&&(d.a.closeInAppBrowser(),this.login())})),this.browserClosedObserver=l.b.on(l.b.IAB_EXIT,(()=>{var e,o;null===(e=this.urlLoadedObserver)||void 0===e?void 0:e.off(),null===(o=this.browserClosedObserver)||void 0===o||o.off(),delete this.urlLoadedObserver,delete this.browserClosedObserver})))}ngOnDestroy(){var e,o;null===(e=this.urlLoadedObserver)||void 0===e?void 0:e.off(),null===(o=this.browserClosedObserver)||void 0===o||o.off()}}return CoreLoginChangePasswordPage.ɵfac=function CoreLoginChangePasswordPage_Factory(e){return new(e||CoreLoginChangePasswordPage)},CoreLoginChangePasswordPage.ɵcmp=h.sc({type:CoreLoginChangePasswordPage,selectors:[["page-core-login-change-password"]],decls:24,vars:16,consts:[["slot","start"],[3,"text"],[4,"ngIf"],["slot","end"],["fill","clear",3,"click"],["slot","icon-only","name","far-question-circle","aria-hidden","true"],[1,"list-item-limited-width"],[1,"ion-text-wrap"],["expand","block","fill","outline",1,"ion-text-wrap","ion-margin",3,"click"],["expand","block",1,"ion-text-wrap","ion-margin",3,"click"]],template:function CoreLoginChangePasswordPage_Template(e,o){1&e&&(h.Ec(0,"ion-header"),h.Ec(1,"ion-toolbar"),h.Ec(2,"ion-buttons",0),h.zc(3,"ion-back-button",1),h.Pc(4,"translate"),h.Dc(),h.Ec(5,"ion-title"),h.nd(6,CoreLoginChangePasswordPage_h1_6_Template,3,3,"h1",2),h.nd(7,CoreLoginChangePasswordPage_h1_7_Template,3,3,"h1",2),h.Dc(),h.Ec(8,"ion-buttons",3),h.Ec(9,"ion-button",4),h.Mc("click",(function CoreLoginChangePasswordPage_Template_ion_button_click_9_listener(){return o.showHelp()})),h.Pc(10,"translate"),h.zc(11,"ion-icon",5),h.Dc(),h.Dc(),h.Dc(),h.Dc(),h.Ec(12,"ion-content"),h.Ec(13,"ion-list",6),h.nd(14,CoreLoginChangePasswordPage_ng_container_14_Template,9,6,"ng-container",2),h.nd(15,CoreLoginChangePasswordPage_ng_container_15_Template,9,6,"ng-container",2),h.Ec(16,"ion-item",7),h.Ec(17,"ion-label"),h.Ec(18,"p"),h.pd(19),h.Pc(20,"translate"),h.Dc(),h.Dc(),h.Dc(),h.Ec(21,"ion-button",8),h.Mc("click",(function CoreLoginChangePasswordPage_Template_ion_button_click_21_listener(){return o.logout()})),h.pd(22),h.Pc(23,"translate"),h.Dc(),h.Dc(),h.Dc()),2&e&&(h.lc(3),h.Vc("text",h.Qc(4,8,"core.back")),h.lc(3),h.Vc("ngIf",!o.changingPassword),h.lc(1),h.Vc("ngIf",o.changingPassword),h.lc(2),h.mc("aria-label",h.Qc(10,10,"core.help")),h.lc(5),h.Vc("ngIf",!o.changingPassword),h.lc(1),h.Vc("ngIf",o.changingPassword),h.lc(4),h.qd(h.Qc(20,12,"core.wanttochangesite")),h.lc(3),h.rd(" ",h.Qc(23,14,o.logoutLabel)," "))},directives:[P.C,P.Ab,P.m,P.h,P.i,P.yb,p.t,C.a,P.l,P.D,w.a,u.a,P.v,P.P,P.I,P.O],pipes:[_.d],encapsulation:2}),CoreLoginChangePasswordPage})();const f=[{path:"",component:b}];let L=(()=>{class CoreLoginChangePasswordPageModule{}return CoreLoginChangePasswordPageModule.ɵmod=h.wc({type:CoreLoginChangePasswordPageModule}),CoreLoginChangePasswordPageModule.ɵinj=h.vc({factory:function CoreLoginChangePasswordPageModule_Factory(e){return new(e||CoreLoginChangePasswordPageModule)},imports:[[a.m.forChild(f),c.a],a.m]}),CoreLoginChangePasswordPageModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&h.kd(L,{declarations:[b],imports:[a.m,c.a],exports:[a.m]}))}}]);