{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{vNWJ:function(t,n,e){\"use strict\";e.r(n),e.d(n,\"AddonModDataLazyModule\",(function(){return nt}));var d=e(\"L3Fv\"),a=e(\"tyNb\"),o=e(\"rGK3\"),i=e(\"WsvK\"),r=e(\"JCPi\"),s=e(\"MLi9\"),c=e(\"ay5P\"),g=e(\"KarO\"),l=e(\"mrSG\"),h=e(\"3Pt+\"),u=e(\"93ts\"),p=e(\"hSQQ\"),m=e(\"kWmn\"),_=e(\"TEn/\"),f=e(\"mWdr\"),v=e(\"pHTc\"),M=e(\"9+EE\"),P=e(\"3LXp\"),C=e(\"4reR\"),O=e(\"bFG1\"),b=e(\"j3ag\"),y=e(\"fjkH\"),I=e(\"39eS\"),x=e(\"kTL9\"),E=e(\"6s78\"),D=e(\"fXoL\"),w=e(\"hMzs\"),A=e(\"ofXK\"),k=e(\"nt/U\"),T=e(\"PgjG\"),L=e(\"WPIK\"),F=e(\"ACYt\"),G=e(\"QQhE\"),R=e(\"eiAi\"),N=e(\"sYmb\");const V=[\"editFormEl\"];function AddonModDataEditPage_ion_button_9_Template(t,n){if(1&t){const t=D.Fc();D.Ec(0,\"ion-button\",8),D.Mc(\"click\",(function AddonModDataEditPage_ion_button_9_Template_ion_button_click_0_listener(n){D.fd(t);return D.Oc().save(n)})),D.pd(1),D.Pc(2,\"translate\"),D.Dc()}2&t&&(D.lc(1),D.rd(\" \",D.Qc(2,1,\"core.save\"),\" \"))}function AddonModDataEditPage_div_13_Template(t,n){if(1&t){const t=D.Fc();D.Ec(0,\"div\"),D.zc(1,\"core-style\",9),D.Ec(2,\"form\",10,11),D.Mc(\"ngSubmit\",(function AddonModDataEditPage_div_13_Template_form_ngSubmit_2_listener(n){D.fd(t);return D.Oc().save(n)})),D.zc(4,\"core-compile-html\",12),D.Dc(),D.Dc()}if(2&t){const t=D.Oc();D.oc(\"addon-data-contents \",t.cssClass,\"\"),D.lc(1),D.Xc(\"prefix\",\".\",t.cssClass,\"\"),D.Vc(\"css\",t.database.csstemplate),D.lc(1),D.Vc(\"formGroup\",t.editForm),D.lc(2),D.Vc(\"text\",t.editFormRender)(\"jsData\",t.jsData)(\"extraImports\",t.extraImports)}}let j=(()=>{class AddonModDataEditPage{constructor(){this.fieldsArray=[],this.offline=!1,this.forceLeave=!1,this.isEditing=!1,this.originalData={},this.fields={},this.moduleId=0,this.title=\"\",this.component=I.c.COMPONENT,this.loaded=!1,this.selectedGroup=0,this.cssClass=\"\",this.editFormRender=\"\",this.extraImports=[c.a],this.errors={},this.siteId=M.b.getCurrentSiteId(),this.editForm=new h.j({})}ngOnInit(){try{this.moduleId=v.a.getRequiredRouteNumberParam(\"cmId\"),this.courseId=v.a.getRequiredRouteNumberParam(\"courseId\"),this.title=v.a.getRouteParam(\"title\")||\"\",this.entryId=v.a.getRouteNumberParam(\"entryId\")||void 0,this.selectedGroup=v.a.getRouteNumberParam(\"group\")||0}catch(t){return P.a.showErrorModal(t),v.a.back(),void 0}this.isEditing=void 0!==this.entryId&&this.entryId>0,this.fetchEntryData(!0)}canLeave(){return Object(l.a)(this,void 0,void 0,(function*(){if(this.forceLeave||!this.entry)return!0;const t=this.editForm.value;let n=x.a.hasEditDataChanged(t,this.fieldsArray,this.originalData);n=n||!this.isEditing&&this.initialSelectedGroup!=this.selectedGroup,n&&(yield P.a.showConfirm(b.J.instant(\"core.confirmcanceledit\")));const e=yield x.a.getEditTmpFiles(t,this.fieldsArray,this.entry.contents);return p.a.clearTmpFiles(e),C.a.triggerFormCancelledEvent(this.formElement,this.siteId),!0}))}fetchEntryData(t=!1){return Object(l.a)(this,void 0,void 0,(function*(){try{this.database=yield I.a.getDatabase(this.courseId,this.moduleId),this.title=this.database.name||this.title,this.cssClass=\"addon-data-entries-\"+this.database.id,this.fieldsArray=yield I.a.getFields(this.database.id,{cmId:this.moduleId}),this.fields=O.a.arrayToObject(this.fieldsArray,\"id\");const n=yield x.a.fetchEntry(this.database,this.fieldsArray,this.entryId||0);if(this.entry=n.entry,this.originalData=O.a.clone(this.entry.contents),this.entryId&&(this.selectedGroup=this.entry.groupid),!this.isEditing){let n=!1,e=this.groupInfo;if(t&&(e=yield f.a.getActivityGroupInfo(this.database.coursemodule),e.visibleGroups&&e.groups.length&&(e.groups=e.groups.filter((t=>0!==t.id)),e.defaultGroupId=e.groups[0].id),this.selectedGroup=f.a.validateGroupId(this.selectedGroup,e),this.initialSelectedGroup=this.selectedGroup),(null==e?void 0:e.groups)&&(null==e?void 0:e.groups.length)>0)if(t){const t={};yield Promise.all(e.groups.map((n=>Object(l.a)(this,void 0,void 0,(function*(){const e=yield I.a.getDatabaseAccessInformation(this.database.id,{cmId:this.moduleId,groupId:n.id});t[n.id]=e.canaddentry}))))),e.groups=e.groups.filter((n=>!!t[n.id])),n=t[this.selectedGroup]}else n=!0;else{n=(yield I.a.getDatabaseAccessInformation(this.database.id,{cmId:this.moduleId})).canaddentry}if(this.groupInfo=e,!n)return P.a.showErrorModal(\"addon.mod_data.noaccess\",!0),this.forceLeave=!0,v.a.back(),void 0}this.editFormRender=this.displayEditFields()}catch(t){P.a.showErrorModalDefault(t,\"core.course.errorgetmodule\",!0)}this.loaded=!0}))}save(t){var n,e,d;return Object(l.a)(this,void 0,void 0,(function*(){t.preventDefault(),t.stopPropagation();const a=this.editForm.value;try{let t=x.a.hasEditDataChanged(a,this.fieldsArray,(null===(n=this.entry)||void 0===n?void 0:n.contents)||{});if(t=t||!this.isEditing&&this.initialSelectedGroup!=this.selectedGroup,!t){if(this.entryId)return yield this.returnToEntryList(),void 0;throw new u.a(b.J.instant(\"addon.mod_data.emptyaddform\"))}const o=yield P.a.showModalLoading(\"core.sending\",!0),i=this.entryId?this.entryId:-Date.now();let r=[];try{try{r=yield x.a.getEditDataFromForm(a,this.fieldsArray,this.database.id,i,(null===(e=this.entry)||void 0===e?void 0:e.contents)||{},this.offline)}catch(t){if(this.offline||O.a.isWebServiceError(t))throw t;this.offline=!0,r=yield x.a.getEditDataFromForm(a,this.fieldsArray,this.database.id,i,(null===(d=this.entry)||void 0===d?void 0:d.contents)||{},this.offline)}if(r.length<=0)throw new u.a(b.J.instant(\"addon.mod_data.emptyaddform\"));let t;if(t=this.isEditing?yield I.a.editEntry(this.database.id,this.entryId,this.courseId,r,this.fieldsArray,this.siteId,this.offline):yield I.a.addEntry(this.database.id,i,this.courseId,r,this.selectedGroup,this.fieldsArray,this.siteId,this.offline),this.isEditing&&\"updated\"in t&&t.updated||!this.isEditing&&\"newentryid\"in t&&t.newentryid){C.a.triggerFormSubmittedEvent(this.formElement,t.sent,this.siteId);const n=[];t.sent&&(y.b.trigger(y.b.ACTIVITY_DATA_SENT,{module:\"data\"}),this.isEditing&&n.push(I.a.invalidateEntryData(this.database.id,this.entryId,this.siteId)),n.push(I.a.invalidateEntriesData(this.database.id,this.siteId)));try{yield Promise.all(n),y.b.trigger(I.c.ENTRY_CHANGED,{dataId:this.database.id,entryId:this.entryId},this.siteId)}finally{this.returnToEntryList()}}else this.errors={},t.fieldnotifications&&t.fieldnotifications.forEach((t=>{const n=this.fieldsArray.find((n=>n.name==t.fieldname));n&&(this.errors[n.id]=t.notification)})),this.jsData.errors=this.errors,this.scrollToFirstError()}finally{o.dismiss()}}catch(t){P.a.showErrorModalDefault(t,\"Cannot edit entry\",!0)}}))}setGroup(t){return this.selectedGroup=t,this.loaded=!1,this.fetchEntryData()}displayEditFields(){var t;this.jsData={fields:this.fields,contents:O.a.clone(null===(t=this.entry)||void 0===t?void 0:t.contents)||{},form:this.editForm,database:this.database,errors:this.errors,onFieldInit:this.onFieldInit.bind(this)};let n=x.a.getTemplate(this.database,I.e.ADD,this.fieldsArray);this.fieldsArray.forEach((t=>{let e=\"[[\"+t.name+\"]]\";e=e.replace(/[-[\\]/{}()*+?.\\\\^$|]/g,\"\\\\$&\");let d=new RegExp(e,\"gi\");n=n.replace(d,'<addon-mod-data-field-plugin [class.has-errors]=\"!!errors['+t.id+']\" mode=\"edit\"                 [field]=\"fields['+t.id+']\" [value]=\"contents['+t.id+']\" [form]=\"form\" [database]=\"database\"                 [error]=\"errors['+t.id+']\" (onFieldInit)=\"onFieldInit($event)\"></addon-mod-data-field-plugin>'),e=\"[[\"+t.name+\"#id]]\",e=e.replace(/[-[\\]/{}()*+?.\\\\^$|]/g,\"\\\\$&\"),d=new RegExp(e,\"gi\"),n=n.replace(d,\"field_\"+t.id)}));const e=new RegExp(\"##tags##\",\"gi\"),d=m.a.areTagsAvailableInSite()?\"<p class=\\\"item-dimmed\\\">{{ 'addon.mod_data.edittagsnotsupported' | translate }}</p>\":\"\";return n=n.replace(e,d),n}onFieldInit(t){var n,e,d,a,o,i,r;this.originalData[t.fieldid]||(this.originalData[t.fieldid]={id:0,recordid:null!==(e=null===(n=this.entry)||void 0===n?void 0:n.id)&&void 0!==e?e:0,fieldid:t.fieldid,content:t.content,content1:null!==(d=t.content1)&&void 0!==d?d:null,content2:null!==(a=t.content2)&&void 0!==a?a:null,content3:null!==(o=t.content3)&&void 0!==o?o:null,content4:null!==(i=t.content4)&&void 0!==i?i:null,files:null!==(r=t.files)&&void 0!==r?r:[]})}returnToEntryList(){var t;return Object(l.a)(this,void 0,void 0,(function*(){const n=this.editForm.value;try{const e=yield x.a.getEditTmpFiles(n,this.fieldsArray,(null===(t=this.entry)||void 0===t?void 0:t.contents)||{});p.a.clearTmpFiles(e)}finally{this.forceLeave=!0,v.a.back()}}))}scrollToFirstError(){var t;return Object(l.a)(this,void 0,void 0,(function*(){(yield E.a.scrollToElement(this.formElement.nativeElement,\".addon-data-error\"))||(null===(t=this.content)||void 0===t?void 0:t.scrollToTop())}))}}return AddonModDataEditPage.ɵfac=function AddonModDataEditPage_Factory(t){return new(t||AddonModDataEditPage)},AddonModDataEditPage.ɵcmp=D.sc({type:AddonModDataEditPage,selectors:[[\"page-addon-mod-data-edit\"]],viewQuery:function AddonModDataEditPage_Query(t,n){var e;(1&t&&(D.ud(_.v,!0),D.ud(V,!0)),2&t)&&(D.dd(e=D.Nc())&&(n.content=e.first),D.dd(e=D.Nc())&&(n.formElement=e.first))},decls:14,vars:11,consts:[[\"slot\",\"start\"],[3,\"text\"],[\"contextLevel\",\"module\",3,\"text\",\"contextInstanceId\",\"courseId\"],[\"slot\",\"end\"],[\"fill\",\"clear\",3,\"click\",4,\"ngIf\"],[3,\"hideUntil\"],[3,\"groupInfo\",\"selected\",\"selectedChange\"],[3,\"class\",4,\"ngIf\"],[\"fill\",\"clear\",3,\"click\"],[3,\"css\",\"prefix\"],[3,\"formGroup\",\"ngSubmit\"],[\"editFormEl\",\"\"],[3,\"text\",\"jsData\",\"extraImports\"]],template:function AddonModDataEditPage_Template(t,n){1&t&&(D.Ec(0,\"ion-header\"),D.Ec(1,\"ion-toolbar\"),D.Ec(2,\"ion-buttons\",0),D.zc(3,\"ion-back-button\",1),D.Pc(4,\"translate\"),D.Dc(),D.Ec(5,\"ion-title\"),D.Ec(6,\"h1\"),D.zc(7,\"core-format-text\",2),D.Dc(),D.Dc(),D.Ec(8,\"ion-buttons\",3),D.nd(9,AddonModDataEditPage_ion_button_9_Template,3,3,\"ion-button\",4),D.Dc(),D.Dc(),D.Dc(),D.Ec(10,\"ion-content\"),D.Ec(11,\"core-loading\",5),D.Ec(12,\"core-group-selector\",6),D.Mc(\"selectedChange\",(function AddonModDataEditPage_Template_core_group_selector_selectedChange_12_listener(t){return n.selectedGroup=t}))(\"selectedChange\",(function AddonModDataEditPage_Template_core_group_selector_selectedChange_12_listener(){return n.setGroup(n.selectedGroup)})),D.Dc(),D.nd(13,AddonModDataEditPage_div_13_Template,5,9,\"div\",7),D.Dc(),D.Dc()),2&t&&(D.lc(3),D.Vc(\"text\",D.Qc(4,9,\"core.back\")),D.lc(4),D.Vc(\"text\",n.title)(\"contextInstanceId\",n.moduleId)(\"courseId\",n.courseId),D.lc(2),D.Vc(\"ngIf\",n.entry),D.lc(2),D.Vc(\"hideUntil\",n.loaded),D.lc(1),D.Vc(\"groupInfo\",n.groupInfo)(\"selected\",n.selectedGroup),D.lc(1),D.Vc(\"ngIf\",n.database))},directives:[_.C,_.Ab,_.m,_.h,_.i,_.yb,w.a,A.t,k.a,_.v,T.a,L.a,F.a,_.l,G.a,h.H,h.s,h.k,R.a],pipes:[N.d],styles:[\"[_nghost-%COMP%]{--border-color:var(--stroke)}.addon-data-contents[_ngcontent-%COMP%]{overflow:visible;white-space:normal;word-break:break-word;padding:16px;background-color:var(--ion-item-background);border-bottom:1px solid var(--border-color)}.addon-data-contents[_ngcontent-%COMP%]     table, .addon-data-contents[_ngcontent-%COMP%]     tbody{display:block}.addon-data-contents[_ngcontent-%COMP%]     tr{display:flex;flex-wrap:wrap;padding:0}@media (max-width:575.98px){.addon-data-contents[_ngcontent-%COMP%]     tr{flex-direction:column}}.addon-data-contents[_ngcontent-%COMP%]     td, .addon-data-contents[_ngcontent-%COMP%]     th{padding:var(--ion-grid-column-padding-xs,var(--ion-grid-column-padding,5px));margin:0;box-sizing:border-box;position:relative;flex-basis:0;flex-grow:1;width:100%;max-width:100%;min-height:auto}@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){.addon-data-contents[_ngcontent-%COMP%]     td, .addon-data-contents[_ngcontent-%COMP%]     th{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-grid-column-padding-xs,var(--ion-grid-column-padding,5px));padding-inline-start:var(--ion-grid-column-padding-xs,var(--ion-grid-column-padding,5px));-webkit-padding-end:var(--ion-grid-column-padding-xs,var(--ion-grid-column-padding,5px));padding-inline-end:var(--ion-grid-column-padding-xs,var(--ion-grid-column-padding,5px))}}@media (min-width:576px){.addon-data-contents[_ngcontent-%COMP%]     td, .addon-data-contents[_ngcontent-%COMP%]     th{padding:var(--ion-grid-column-padding-sm,var(--ion-grid-column-padding,5px))}@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){.addon-data-contents[_ngcontent-%COMP%]     td, .addon-data-contents[_ngcontent-%COMP%]     th{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-grid-column-padding-sm,var(--ion-grid-column-padding,5px));padding-inline-start:var(--ion-grid-column-padding-sm,var(--ion-grid-column-padding,5px));-webkit-padding-end:var(--ion-grid-column-padding-sm,var(--ion-grid-column-padding,5px));padding-inline-end:var(--ion-grid-column-padding-sm,var(--ion-grid-column-padding,5px))}}}@media (min-width:768px){.addon-data-contents[_ngcontent-%COMP%]     td, .addon-data-contents[_ngcontent-%COMP%]     th{padding:var(--ion-grid-column-padding-md,var(--ion-grid-column-padding,5px))}@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){.addon-data-contents[_ngcontent-%COMP%]     td, .addon-data-contents[_ngcontent-%COMP%]     th{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-grid-column-padding-md,var(--ion-grid-column-padding,5px));padding-inline-start:var(--ion-grid-column-padding-md,var(--ion-grid-column-padding,5px));-webkit-padding-end:var(--ion-grid-column-padding-md,var(--ion-grid-column-padding,5px));padding-inline-end:var(--ion-grid-column-padding-md,var(--ion-grid-column-padding,5px))}}}@media (min-width:992px){.addon-data-contents[_ngcontent-%COMP%]     td, .addon-data-contents[_ngcontent-%COMP%]     th{padding:var(--ion-grid-column-padding-lg,var(--ion-grid-column-padding,5px))}@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){.addon-data-contents[_ngcontent-%COMP%]     td, .addon-data-contents[_ngcontent-%COMP%]     th{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-grid-column-padding-lg,var(--ion-grid-column-padding,5px));padding-inline-start:var(--ion-grid-column-padding-lg,var(--ion-grid-column-padding,5px));-webkit-padding-end:var(--ion-grid-column-padding-lg,var(--ion-grid-column-padding,5px));padding-inline-end:var(--ion-grid-column-padding-lg,var(--ion-grid-column-padding,5px))}}}@media (min-width:1200px){.addon-data-contents[_ngcontent-%COMP%]     td, .addon-data-contents[_ngcontent-%COMP%]     th{padding:var(--ion-grid-column-padding-xl,var(--ion-grid-column-padding,5px))}@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){.addon-data-contents[_ngcontent-%COMP%]     td, .addon-data-contents[_ngcontent-%COMP%]     th{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-grid-column-padding-xl,var(--ion-grid-column-padding,5px));padding-inline-start:var(--ion-grid-column-padding-xl,var(--ion-grid-column-padding,5px));-webkit-padding-end:var(--ion-grid-column-padding-xl,var(--ion-grid-column-padding,5px));padding-inline-end:var(--ion-grid-column-padding-xl,var(--ion-grid-column-padding,5px))}}}.addon-data-contents[_ngcontent-%COMP%]     address, .addon-data-contents[_ngcontent-%COMP%]     article, .addon-data-contents[_ngcontent-%COMP%]     aside, .addon-data-contents[_ngcontent-%COMP%]     blockquote, .addon-data-contents[_ngcontent-%COMP%]     canvas, .addon-data-contents[_ngcontent-%COMP%]     dd, .addon-data-contents[_ngcontent-%COMP%]     div, .addon-data-contents[_ngcontent-%COMP%]     dl, .addon-data-contents[_ngcontent-%COMP%]     dt, .addon-data-contents[_ngcontent-%COMP%]     fieldset, .addon-data-contents[_ngcontent-%COMP%]     figcaption, .addon-data-contents[_ngcontent-%COMP%]     figure, .addon-data-contents[_ngcontent-%COMP%]     footer, .addon-data-contents[_ngcontent-%COMP%]     form, .addon-data-contents[_ngcontent-%COMP%]     h1, .addon-data-contents[_ngcontent-%COMP%]     h2, .addon-data-contents[_ngcontent-%COMP%]     h3, .addon-data-contents[_ngcontent-%COMP%]     h4, .addon-data-contents[_ngcontent-%COMP%]     h5, .addon-data-contents[_ngcontent-%COMP%]     h6, .addon-data-contents[_ngcontent-%COMP%]     header, .addon-data-contents[_ngcontent-%COMP%]     li, .addon-data-contents[_ngcontent-%COMP%]     main, .addon-data-contents[_ngcontent-%COMP%]     nav, .addon-data-contents[_ngcontent-%COMP%]     noscript, .addon-data-contents[_ngcontent-%COMP%]     ol, .addon-data-contents[_ngcontent-%COMP%]     p, .addon-data-contents[_ngcontent-%COMP%]     pre, .addon-data-contents[_ngcontent-%COMP%]     section, .addon-data-contents[_ngcontent-%COMP%]     table, .addon-data-contents[_ngcontent-%COMP%]     tfoot, .addon-data-contents[_ngcontent-%COMP%]     ul, .addon-data-contents[_ngcontent-%COMP%]     video{width:auto!important;height:auto!important;min-width:auto!important;min-height:auto!important;max-height:none!important}.addon-data-contents[_ngcontent-%COMP%]     hr{border-top:1px solid var(--stroke)}\",\"[_nghost-%COMP%]{--input-border-color:var(--stroke);--input-border-width:1px;--select-border-width:0px}[_nghost-%COMP%]     table{width:100%}[_nghost-%COMP%]     td{vertical-align:top}[_nghost-%COMP%]     .addon-data-latlong{display:flex}[_nghost-%COMP%]   .addon-data-advanced-search[_ngcontent-%COMP%]{padding:16px;width:100%}[_nghost-%COMP%]   .addon-data-contents[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .addon-data-advanced-search[_ngcontent-%COMP%]{background-color:var(--ion-item-background)}[_nghost-%COMP%]   .addon-data-contents[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]     ion-input, [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .addon-data-advanced-search[_ngcontent-%COMP%]     ion-input{border-bottom:var(--input-border-width) solid var(--input-border-color)}[_nghost-%COMP%]   .addon-data-contents[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]     ion-input.has-focus, [_nghost-%COMP%]   .addon-data-contents[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]     ion-input.has-focus.ion-valid, [_nghost-%COMP%]   .addon-data-contents[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]     ion-input.ion-touched.ion-invalid, [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .addon-data-advanced-search[_ngcontent-%COMP%]     ion-input.has-focus, [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .addon-data-advanced-search[_ngcontent-%COMP%]     ion-input.has-focus.ion-valid, [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .addon-data-advanced-search[_ngcontent-%COMP%]     ion-input.ion-touched.ion-invalid{--input-border-width:2px}[_nghost-%COMP%]   .addon-data-contents[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]     ion-input.has-focus, [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .addon-data-advanced-search[_ngcontent-%COMP%]     ion-input.has-focus{--input-border-color:var(--primary)}[_nghost-%COMP%]   .addon-data-contents[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]     ion-input.has-focus.ion-valid, [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .addon-data-advanced-search[_ngcontent-%COMP%]     ion-input.has-focus.ion-valid{--input-border-color:var(--success)}[_nghost-%COMP%]   .addon-data-contents[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]     ion-input.ion-touched.ion-invalid, [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .addon-data-advanced-search[_ngcontent-%COMP%]     ion-input.ion-touched.ion-invalid{--input-border-color:var(--danger)}[_nghost-%COMP%]   .addon-data-contents[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]     core-rich-text-editor, [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .addon-data-advanced-search[_ngcontent-%COMP%]     core-rich-text-editor{border-bottom:var(--select-border-width) solid var(--input-border-color)}[_nghost-%COMP%]   .addon-data-contents[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]     core-rich-text-editor.ion-touched.ng-invalid, [_nghost-%COMP%]   .addon-data-contents[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]     core-rich-text-editor.ion-touched.ng-valid, [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .addon-data-advanced-search[_ngcontent-%COMP%]     core-rich-text-editor.ion-touched.ng-invalid, [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .addon-data-advanced-search[_ngcontent-%COMP%]     core-rich-text-editor.ion-touched.ng-valid{--select-border-width:2px}[_nghost-%COMP%]   .addon-data-contents[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]     core-rich-text-editor.ion-touched.ng-valid, [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .addon-data-advanced-search[_ngcontent-%COMP%]     core-rich-text-editor.ion-touched.ng-valid{--input-border-color:var(--success)}[_nghost-%COMP%]   .addon-data-contents[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]     core-rich-text-editor.ion-touched.ng-invalid, [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .addon-data-advanced-search[_ngcontent-%COMP%]     core-rich-text-editor.ion-touched.ng-invalid{--input-border-color:var(--danger)}[_nghost-%COMP%]   .addon-data-contents[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]     ion-select, [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .addon-data-advanced-search[_ngcontent-%COMP%]     ion-select{border-bottom:var(--select-border-width) solid var(--input-border-color)}[_nghost-%COMP%]   .addon-data-contents[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]     ion-select.ion-touched.ion-invalid, [_nghost-%COMP%]   .addon-data-contents[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]     ion-select.ion-touched.ion-valid, [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .addon-data-advanced-search[_ngcontent-%COMP%]     ion-select.ion-touched.ion-invalid, [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .addon-data-advanced-search[_ngcontent-%COMP%]     ion-select.ion-touched.ion-valid{--select-border-width:2px}[_nghost-%COMP%]   .addon-data-contents[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]     ion-select.ion-touched.ion-valid, [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .addon-data-advanced-search[_ngcontent-%COMP%]     ion-select.ion-touched.ion-valid{--input-border-color:var(--success)}[_nghost-%COMP%]   .addon-data-contents[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]     ion-select.ion-touched.ion-invalid, [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .addon-data-advanced-search[_ngcontent-%COMP%]     ion-select.ion-touched.ion-invalid{--input-border-color:var(--danger)}[_nghost-%COMP%]   .addon-data-contents[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]     .has-errors ion-input.ion-invalid, [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .addon-data-advanced-search[_ngcontent-%COMP%]     .has-errors ion-input.ion-invalid{--input-border-width:2px;--input-border-color:var(--danger)}[_nghost-%COMP%]   .addon-data-contents[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]     .has-errors core-rich-text-editor.ng-invalid, [_nghost-%COMP%]   .addon-data-contents[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]     .has-errors ion-select.ion-invalid, [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .addon-data-advanced-search[_ngcontent-%COMP%]     .has-errors core-rich-text-editor.ng-invalid, [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .addon-data-advanced-search[_ngcontent-%COMP%]     .has-errors ion-select.ion-invalid{--select-border-width:2px;--input-border-color:var(--danger)}[_nghost-%COMP%]   .addon-data-contents[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]     .core-mark-required, [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .addon-data-advanced-search[_ngcontent-%COMP%]     .core-mark-required{float:right}[dir=rtl][_nghost-%COMP%]   .addon-data-contents[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]     .core-mark-required, [dir=rtl]   [_nghost-%COMP%]   .addon-data-contents[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]     .core-mark-required, [dir=rtl][_nghost-%COMP%]   form[_ngcontent-%COMP%]   .addon-data-advanced-search[_ngcontent-%COMP%]     .core-mark-required, [dir=rtl]   [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .addon-data-advanced-search[_ngcontent-%COMP%]     .core-mark-required{float:left}[_nghost-%COMP%]   .addon-data-contents[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]     .core-mark-required+ion-input, [_nghost-%COMP%]   .addon-data-contents[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]     .core-mark-required+ion-select, [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .addon-data-advanced-search[_ngcontent-%COMP%]     .core-mark-required+ion-input, [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .addon-data-advanced-search[_ngcontent-%COMP%]     .core-mark-required+ion-select{padding-right:20px}@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){[_nghost-%COMP%]   .addon-data-contents[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]     .core-mark-required+ion-input, [_nghost-%COMP%]   .addon-data-contents[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]     .core-mark-required+ion-select, [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .addon-data-advanced-search[_ngcontent-%COMP%]     .core-mark-required+ion-input, [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .addon-data-advanced-search[_ngcontent-%COMP%]     .core-mark-required+ion-select{padding-right:unset;-webkit-padding-end:20px;padding-inline-end:20px}}\"]}),AddonModDataEditPage})();var z=e(\"1Rj0\"),S=e(\"5pQw\"),q=e(\"ULAo\"),Q=e(\"vwQL\"),U=e(\"3CSS\"),H=e(\"fY5/\"),J=e(\"OoUD\"),W=e(\"3jOR\");const entry_c0=function(t){return{$a:t}};function AddonModDataEntryPage_ion_card_13_Template(t,n){if(1&t&&(D.Ec(0,\"ion-card\",14),D.Ec(1,\"ion-item\"),D.zc(2,\"ion-icon\",15),D.Ec(3,\"ion-label\"),D.pd(4),D.Pc(5,\"translate\"),D.Dc(),D.Dc(),D.Dc()),2&t){const t=D.Oc();D.lc(4),D.qd(D.Rc(5,1,\"core.hasdatatosync\",D.ad(4,entry_c0,t.moduleName)))}}function AddonModDataEntryPage_div_15_Template(t,n){if(1&t){const t=D.Fc();D.Ec(0,\"div\"),D.zc(1,\"core-style\",16),D.Ec(2,\"core-compile-html\",17),D.Mc(\"compiling\",(function AddonModDataEntryPage_div_15_Template_core_compile_html_compiling_2_listener(n){D.fd(t);return D.Oc().setRenderingEntry(n)})),D.Dc(),D.Dc()}if(2&t){const t=D.Oc();D.oc(\"addon-data-contents addon-data-entry addon-data-entries-\",t.database.id,\"\"),D.lc(1),D.Xc(\"prefix\",\".addon-data-entries-\",t.database.id,\"\"),D.Vc(\"css\",t.database.csstemplate),D.lc(1),D.Vc(\"text\",t.entryHtml)(\"jsData\",t.jsData)(\"extraImports\",t.extraImports)}}function AddonModDataEntryPage_core_rating_rate_16_Template(t,n){if(1&t){const t=D.Fc();D.Ec(0,\"core-rating-rate\",18),D.Mc(\"onLoading\",(function AddonModDataEntryPage_core_rating_rate_16_Template_core_rating_rate_onLoading_0_listener(n){D.fd(t);return D.Oc().setLoadingRating(n)}))(\"onUpdate\",(function AddonModDataEntryPage_core_rating_rate_16_Template_core_rating_rate_onUpdate_0_listener(){D.fd(t);return D.Oc().ratingUpdated()})),D.Dc()}if(2&t){const t=D.Oc();D.Vc(\"ratingInfo\",t.ratingInfo)(\"instanceId\",t.database.coursemodule)(\"itemId\",t.entry.id)(\"itemSetId\",0)(\"courseId\",t.courseId)(\"aggregateMethod\",t.database.assessed)(\"scaleId\",t.database.scale)(\"userId\",t.entry.userid)}}function AddonModDataEntryPage_core_rating_aggregate_17_Template(t,n){if(1&t&&D.zc(0,\"core-rating-aggregate\",19),2&t){const t=D.Oc();D.Vc(\"ratingInfo\",t.ratingInfo)(\"instanceId\",t.database.coursemodule)(\"itemId\",t.entry.id)(\"courseId\",t.courseId)(\"aggregateMethod\",t.database.assessed)(\"scaleId\",t.database.scale)}}function AddonModDataEntryPage_core_comments_18_Template(t,n){if(1&t){const t=D.Fc();D.Ec(0,\"core-comments\",20),D.Mc(\"onLoading\",(function AddonModDataEntryPage_core_comments_18_Template_core_comments_onLoading_0_listener(n){D.fd(t);return D.Oc().setLoadingComments(n)})),D.Dc()}if(2&t){const t=D.Oc();D.Vc(\"instanceId\",t.database.coursemodule)(\"itemId\",t.entry.id)(\"courseId\",t.courseId)(\"showItem\",!0)}}function AddonModDataEntryPage_div_19_Template(t,n){if(1&t){const t=D.Fc();D.Ec(0,\"div\",21),D.Ec(1,\"ion-row\",22),D.Ec(2,\"ion-col\",23),D.Ec(3,\"ion-button\",24),D.Mc(\"click\",(function AddonModDataEntryPage_div_19_Template_ion_button_click_3_listener(){D.fd(t);const n=D.Oc();return n.gotoEntry(n.offset-1)})),D.Pc(4,\"translate\"),D.zc(5,\"ion-icon\",25),D.Dc(),D.Dc(),D.zc(6,\"ion-col\",26),D.Ec(7,\"ion-col\",27),D.Ec(8,\"ion-button\",24),D.Mc(\"click\",(function AddonModDataEntryPage_div_19_Template_ion_button_click_8_listener(){D.fd(t);const n=D.Oc();return n.gotoEntry(n.offset+1)})),D.Pc(9,\"translate\"),D.zc(10,\"ion-icon\",28),D.Dc(),D.Dc(),D.Dc(),D.Dc()}if(2&t){const t=D.Oc();D.lc(3),D.Vc(\"disabled\",!t.hasPrevious),D.mc(\"aria-label\",D.Qc(4,4,\"core.previous\")),D.lc(5),D.Vc(\"disabled\",!t.hasNext),D.mc(\"aria-label\",D.Qc(9,6,\"core.next\"))}}let Y=(()=>{class AddonModDataEntryPage{constructor(t){this.cdr=t,this.fields={},this.fieldsArray=[],this.logAfterFetch=!0,this.moduleId=0,this.title=\"\",this.moduleName=\"data\",this.component=I.c.COMPONENT,this.entryLoaded=!1,this.renderingEntry=!1,this.loadingComments=!1,this.loadingRating=!1,this.selectedGroup=0,this.hasPrevious=!1,this.hasNext=!1,this.showComments=!1,this.entryHtml=\"\",this.extraImports=[c.a],this.isPullingToRefresh=!1,this.commentsEnabled=!1,this.moduleName=q.a.translateModuleName(\"data\"),this.siteId=M.b.getCurrentSiteId(),this.syncObserver=y.b.on(Q.b.AUTO_SYNCED,(t=>{var n;void 0!==t.entryId&&(t.entryId!=this.entryId&&t.offlineEntryId!=this.entryId||(null===(n=this.database)||void 0===n?void 0:n.id)!=t.dataId||(t.deleted?v.a.back():(this.entryId=t.entryId,this.entryLoaded=!1,this.fetchEntryData(!0))))}),this.siteId),this.entryChangedObserver=y.b.on(I.c.ENTRY_CHANGED,(t=>{var n;t.entryId==this.entryId&&(null===(n=this.database)||void 0===n?void 0:n.id)==t.dataId&&(t.deleted?v.a.back():(this.entryLoaded=!1,this.fetchEntryData(!0)))}),this.siteId)}ngOnInit(){return Object(l.a)(this,void 0,void 0,(function*(){try{this.moduleId=v.a.getRequiredRouteNumberParam(\"cmId\"),this.courseId=v.a.getRequiredRouteNumberParam(\"courseId\"),this.entryId=v.a.getRouteNumberParam(\"entryId\")||void 0,this.title=v.a.getRouteParam(\"title\")||\"\",this.selectedGroup=v.a.getRouteNumberParam(\"group\")||0,this.offset=v.a.getRouteNumberParam(\"offset\")}catch(t){return P.a.showErrorModal(t),v.a.back(),void 0}this.commentsEnabled=!S.a.areCommentsDisabledInSite(),yield this.fetchEntryData()}))}fetchEntryData(t=!1,n=!1){var e;return Object(l.a)(this,void 0,void 0,(function*(){this.isPullingToRefresh=n;try{this.database=yield I.a.getDatabase(this.courseId,this.moduleId),this.title=this.database.name||this.title,this.fieldsArray=yield I.a.getFields(this.database.id,{cmId:this.moduleId}),this.fields=O.a.arrayToObject(this.fieldsArray,\"id\"),yield this.setEntryFromOffset(),this.access=yield I.a.getDatabaseAccessInformation(this.database.id,{cmId:this.moduleId}),this.groupInfo=yield f.a.getActivityGroupInfo(this.database.coursemodule),this.groupInfo.visibleGroups&&this.groupInfo.groups.length&&(this.groupInfo.groups=this.groupInfo.groups.filter((t=>0!==t.id)),this.groupInfo.defaultGroupId=this.groupInfo.groups[0].id),this.selectedGroup=f.a.validateGroupId(this.selectedGroup,this.groupInfo);const t=x.a.getActions(this.database,this.access,this.entry),n=x.a.getTemplate(this.database,I.e.SINGLE,this.fieldsArray);this.entryHtml=x.a.displayShowFields(n,this.fieldsArray,this.entry,this.offset,I.d.SHOW,t),this.showComments=t.comments;const d={};d[this.entryId]=this.entry,this.jsData={fields:this.fields,entries:d,database:this.database,title:this.title,group:this.selectedGroup},this.logAfterFetch&&(this.logAfterFetch=!1,yield O.a.ignoreErrors(I.a.logView(this.database.id,this.database.name)),q.a.storeModuleViewed(this.courseId,this.moduleId))}catch(e){if(!t)return this.refreshAllData(n);P.a.showErrorModalDefault(e,\"core.course.errorgetmodule\",!0)}finally{null===(e=this.content)||void 0===e?void 0:e.scrollToTop(),this.entryLoaded=!0}}))}gotoEntry(t){return Object(l.a)(this,void 0,void 0,(function*(){this.offset=t,this.entryId=void 0,this.entry=void 0,this.entryLoaded=!1,this.logAfterFetch=!0,yield this.fetchEntryData()}))}refreshAllData(t){return Object(l.a)(this,void 0,void 0,(function*(){const n=[];n.push(I.a.invalidateDatabaseData(this.courseId)),this.database&&(n.push(I.a.invalidateEntryData(this.database.id,this.entryId)),n.push(f.a.invalidateActivityGroupInfo(this.database.coursemodule)),n.push(I.a.invalidateEntriesData(this.database.id)),n.push(I.a.invalidateFieldsData(this.database.id)),this.database.comments&&this.entry&&this.entry.id>0&&this.commentsEnabled&&this.comments&&this.comments.doRefresh().catch((()=>{}))),yield Promise.all(n).finally((()=>this.fetchEntryData(!0,t)))}))}refreshDatabase(t){this.entryLoaded&&this.refreshAllData(!0).finally((()=>{null==t?void 0:t.complete()}))}setGroup(t){return Object(l.a)(this,void 0,void 0,(function*(){this.selectedGroup=t,this.offset=void 0,this.entry=void 0,this.entryId=void 0,this.entryLoaded=!1,this.logAfterFetch=!0,yield this.fetchEntryData()}))}setEntryFromOffset(){var t,n,e;return Object(l.a)(this,void 0,void 0,(function*(){if(void 0===this.offset&&void 0!==this.entryId){this.hasNext=!1,this.hasPrevious=!1;const t=yield x.a.fetchEntry(this.database,this.fieldsArray,this.entryId);return this.entry=t.entry,this.ratingInfo=t.ratinginfo,void 0}const d=I.c.PER_PAGE,a=void 0!==this.offset&&this.offset>=0?Math.floor(this.offset/d):0,o=yield x.a.fetchEntries(this.database,this.fieldsArray,{groupId:this.selectedGroup,sort:0,order:\"DESC\",page:a,perPage:d}),i=(o.offlineEntries||[]).concat(o.entries);let r=0;if(r=void 0===this.offset?0:this.offset>0?this.offset%d+((null===(t=o.offlineEntries)||void 0===t?void 0:t.length)||0):this.offset+((null===(n=o.offlineEntries)||void 0===n?void 0:n.length)||0),this.entry=i[r],this.entryId=this.entry.id,this.hasPrevious=a>0||r>0,r+1<i.length)this.hasNext=!0;else if(i.length<d)this.hasNext=!1;else{const t=yield I.a.getEntries(this.database.id,{groupId:this.selectedGroup,page:a+1,perPage:d});this.hasNext=(null===(e=null==t?void 0:t.entries)||void 0===e?void 0:e.length)>0}if(this.entryId>0){const t=yield I.a.getEntry(this.database.id,this.entryId,{cmId:this.moduleId});this.ratingInfo=t.ratinginfo}}))}setRenderingEntry(t){this.renderingEntry=t,this.cdr.detectChanges()}setLoadingComments(t){this.loadingComments=t,this.cdr.detectChanges()}setLoadingRating(t){this.loadingRating=t,this.cdr.detectChanges()}ratingUpdated(){I.a.invalidateEntryData(this.database.id,this.entryId)}ngOnDestroy(){var t,n;null===(t=this.syncObserver)||void 0===t?void 0:t.off(),null===(n=this.entryChangedObserver)||void 0===n||n.off()}}return AddonModDataEntryPage.ɵfac=function AddonModDataEntryPage_Factory(t){return new(t||AddonModDataEntryPage)(D.yc(D.j))},AddonModDataEntryPage.ɵcmp=D.sc({type:AddonModDataEntryPage,selectors:[[\"page-addon-mod-data-entry\"]],viewQuery:function AddonModDataEntryPage_Query(t,n){var e;(1&t&&(D.ud(_.v,!0),D.ud(z.a,!0)),2&t)&&(D.dd(e=D.Nc())&&(n.content=e.first),D.dd(e=D.Nc())&&(n.comments=e.first))},decls:20,vars:19,consts:[[\"slot\",\"start\"],[3,\"text\"],[\"contextLevel\",\"module\",3,\"text\",\"contextInstanceId\",\"courseId\"],[1,\"limited-width\"],[\"slot\",\"fixed\",3,\"disabled\",\"ionRefresh\"],[3,\"pullingText\"],[3,\"hideUntil\"],[\"class\",\"core-warning-card\",4,\"ngIf\"],[3,\"groupInfo\",\"selected\",\"selectedChange\"],[3,\"class\",4,\"ngIf\"],[\"contextLevel\",\"module\",3,\"ratingInfo\",\"instanceId\",\"itemId\",\"itemSetId\",\"courseId\",\"aggregateMethod\",\"scaleId\",\"userId\",\"onLoading\",\"onUpdate\",4,\"ngIf\"],[\"contextLevel\",\"module\",3,\"ratingInfo\",\"instanceId\",\"itemId\",\"courseId\",\"aggregateMethod\",\"scaleId\",4,\"ngIf\"],[\"contextLevel\",\"module\",\"component\",\"mod_data\",\"area\",\"database_entry\",3,\"instanceId\",\"itemId\",\"courseId\",\"showItem\",\"onLoading\",4,\"ngIf\"],[\"collapsible-footer\",\"\",\"slot\",\"fixed\",\"appearOnBottom\",\"\",4,\"ngIf\"],[1,\"core-warning-card\"],[\"name\",\"fas-exclamation-triangle\",\"slot\",\"start\",\"aria-hidden\",\"true\"],[3,\"css\",\"prefix\"],[3,\"text\",\"jsData\",\"extraImports\",\"compiling\"],[\"contextLevel\",\"module\",3,\"ratingInfo\",\"instanceId\",\"itemId\",\"itemSetId\",\"courseId\",\"aggregateMethod\",\"scaleId\",\"userId\",\"onLoading\",\"onUpdate\"],[\"contextLevel\",\"module\",3,\"ratingInfo\",\"instanceId\",\"itemId\",\"courseId\",\"aggregateMethod\",\"scaleId\"],[\"contextLevel\",\"module\",\"component\",\"mod_data\",\"area\",\"database_entry\",3,\"instanceId\",\"itemId\",\"courseId\",\"showItem\",\"onLoading\"],[\"collapsible-footer\",\"\",\"slot\",\"fixed\",\"appearOnBottom\",\"\"],[1,\"ion-justify-content-between\",\"ion-align-items-center\",\"ion-no-padding\",\"ion-wrap\"],[\"size\",\"auto\",1,\"ion-text-start\",\"ion-no-padding\",\"core-navigation-arrow\"],[\"fill\",\"clear\",3,\"disabled\",\"click\"],[\"name\",\"fas-chevron-left\",\"slot\",\"icon-only\",\"aria-hidden\",\"true\"],[1,\"ion-text-center\"],[\"size\",\"auto\",1,\"ion-text-end\",\"ion-no-padding\",\"core-navigation-arrow\"],[\"name\",\"fas-chevron-right\",\"slot\",\"icon-only\",\"aria-hidden\",\"true\"]],template:function AddonModDataEntryPage_Template(t,n){1&t&&(D.Ec(0,\"ion-header\"),D.Ec(1,\"ion-toolbar\"),D.Ec(2,\"ion-buttons\",0),D.zc(3,\"ion-back-button\",1),D.Pc(4,\"translate\"),D.Dc(),D.Ec(5,\"ion-title\"),D.Ec(6,\"h1\"),D.zc(7,\"core-format-text\",2),D.Dc(),D.Dc(),D.Dc(),D.Dc(),D.Ec(8,\"ion-content\",3),D.Ec(9,\"ion-refresher\",4),D.Mc(\"ionRefresh\",(function AddonModDataEntryPage_Template_ion_refresher_ionRefresh_9_listener(t){return n.refreshDatabase(t.target)})),D.zc(10,\"ion-refresher-content\",5),D.Pc(11,\"translate\"),D.Dc(),D.Ec(12,\"core-loading\",6),D.nd(13,AddonModDataEntryPage_ion_card_13_Template,6,6,\"ion-card\",7),D.Ec(14,\"core-group-selector\",8),D.Mc(\"selectedChange\",(function AddonModDataEntryPage_Template_core_group_selector_selectedChange_14_listener(t){return n.selectedGroup=t}))(\"selectedChange\",(function AddonModDataEntryPage_Template_core_group_selector_selectedChange_14_listener(){return n.setGroup(n.selectedGroup)})),D.Dc(),D.nd(15,AddonModDataEntryPage_div_15_Template,3,8,\"div\",9),D.nd(16,AddonModDataEntryPage_core_rating_rate_16_Template,1,8,\"core-rating-rate\",10),D.nd(17,AddonModDataEntryPage_core_rating_aggregate_17_Template,1,6,\"core-rating-aggregate\",11),D.nd(18,AddonModDataEntryPage_core_comments_18_Template,1,4,\"core-comments\",12),D.Dc(),D.nd(19,AddonModDataEntryPage_div_19_Template,11,8,\"div\",13),D.Dc()),2&t&&(D.lc(3),D.Vc(\"text\",D.Qc(4,15,\"core.back\")),D.lc(4),D.Vc(\"text\",n.title)(\"contextInstanceId\",n.moduleId)(\"courseId\",n.courseId),D.lc(2),D.Vc(\"disabled\",!n.entryLoaded||!(n.isPullingToRefresh||!n.renderingEntry&&!n.loadingRating&&!n.loadingComments)),D.lc(1),D.Wc(\"pullingText\",D.Qc(11,17,\"core.pulltorefresh\")),D.lc(2),D.Vc(\"hideUntil\",n.entryLoaded&&(n.isPullingToRefresh||!n.renderingEntry&&!n.loadingRating&&!n.loadingComments)),D.lc(1),D.Vc(\"ngIf\",n.entry&&n.entry.hasOffline),D.lc(1),D.Vc(\"groupInfo\",n.groupInfo)(\"selected\",n.selectedGroup),D.lc(1),D.Vc(\"ngIf\",n.database&&n.entry),D.lc(1),D.Vc(\"ngIf\",n.database&&n.entry&&n.ratingInfo&&(!n.database.approval||n.entry.approved)),D.lc(1),D.Vc(\"ngIf\",n.database&&n.entry&&n.ratingInfo),D.lc(1),D.Vc(\"ngIf\",n.database&&n.database.comments&&n.entry&&n.entry.id>0&&n.commentsEnabled),D.lc(1),D.Vc(\"ngIf\",n.entryLoaded&&n.hasPrevious||n.hasNext))},directives:[_.C,_.Ab,_.m,_.h,_.i,_.yb,w.a,k.a,_.v,_.bb,_.cb,T.a,A.t,L.a,_.n,_.I,_.D,U.a,_.O,G.a,R.a,H.a,J.a,z.a,W.a,_.hb,_.u,F.a,_.l],pipes:[N.d],styles:[\"[_nghost-%COMP%]{--border-color:var(--stroke)}.addon-data-contents[_ngcontent-%COMP%]{overflow:visible;white-space:normal;word-break:break-word;padding:16px;background-color:var(--ion-item-background);border-bottom:1px solid var(--border-color)}.addon-data-contents[_ngcontent-%COMP%]     table, .addon-data-contents[_ngcontent-%COMP%]     tbody{display:block}.addon-data-contents[_ngcontent-%COMP%]     tr{display:flex;flex-wrap:wrap;padding:0}@media (max-width:575.98px){.addon-data-contents[_ngcontent-%COMP%]     tr{flex-direction:column}}.addon-data-contents[_ngcontent-%COMP%]     td, .addon-data-contents[_ngcontent-%COMP%]     th{padding:var(--ion-grid-column-padding-xs,var(--ion-grid-column-padding,5px));margin:0;box-sizing:border-box;position:relative;flex-basis:0;flex-grow:1;width:100%;max-width:100%;min-height:auto}@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){.addon-data-contents[_ngcontent-%COMP%]     td, .addon-data-contents[_ngcontent-%COMP%]     th{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-grid-column-padding-xs,var(--ion-grid-column-padding,5px));padding-inline-start:var(--ion-grid-column-padding-xs,var(--ion-grid-column-padding,5px));-webkit-padding-end:var(--ion-grid-column-padding-xs,var(--ion-grid-column-padding,5px));padding-inline-end:var(--ion-grid-column-padding-xs,var(--ion-grid-column-padding,5px))}}@media (min-width:576px){.addon-data-contents[_ngcontent-%COMP%]     td, .addon-data-contents[_ngcontent-%COMP%]     th{padding:var(--ion-grid-column-padding-sm,var(--ion-grid-column-padding,5px))}@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){.addon-data-contents[_ngcontent-%COMP%]     td, .addon-data-contents[_ngcontent-%COMP%]     th{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-grid-column-padding-sm,var(--ion-grid-column-padding,5px));padding-inline-start:var(--ion-grid-column-padding-sm,var(--ion-grid-column-padding,5px));-webkit-padding-end:var(--ion-grid-column-padding-sm,var(--ion-grid-column-padding,5px));padding-inline-end:var(--ion-grid-column-padding-sm,var(--ion-grid-column-padding,5px))}}}@media (min-width:768px){.addon-data-contents[_ngcontent-%COMP%]     td, .addon-data-contents[_ngcontent-%COMP%]     th{padding:var(--ion-grid-column-padding-md,var(--ion-grid-column-padding,5px))}@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){.addon-data-contents[_ngcontent-%COMP%]     td, .addon-data-contents[_ngcontent-%COMP%]     th{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-grid-column-padding-md,var(--ion-grid-column-padding,5px));padding-inline-start:var(--ion-grid-column-padding-md,var(--ion-grid-column-padding,5px));-webkit-padding-end:var(--ion-grid-column-padding-md,var(--ion-grid-column-padding,5px));padding-inline-end:var(--ion-grid-column-padding-md,var(--ion-grid-column-padding,5px))}}}@media (min-width:992px){.addon-data-contents[_ngcontent-%COMP%]     td, .addon-data-contents[_ngcontent-%COMP%]     th{padding:var(--ion-grid-column-padding-lg,var(--ion-grid-column-padding,5px))}@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){.addon-data-contents[_ngcontent-%COMP%]     td, .addon-data-contents[_ngcontent-%COMP%]     th{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-grid-column-padding-lg,var(--ion-grid-column-padding,5px));padding-inline-start:var(--ion-grid-column-padding-lg,var(--ion-grid-column-padding,5px));-webkit-padding-end:var(--ion-grid-column-padding-lg,var(--ion-grid-column-padding,5px));padding-inline-end:var(--ion-grid-column-padding-lg,var(--ion-grid-column-padding,5px))}}}@media (min-width:1200px){.addon-data-contents[_ngcontent-%COMP%]     td, .addon-data-contents[_ngcontent-%COMP%]     th{padding:var(--ion-grid-column-padding-xl,var(--ion-grid-column-padding,5px))}@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){.addon-data-contents[_ngcontent-%COMP%]     td, .addon-data-contents[_ngcontent-%COMP%]     th{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-grid-column-padding-xl,var(--ion-grid-column-padding,5px));padding-inline-start:var(--ion-grid-column-padding-xl,var(--ion-grid-column-padding,5px));-webkit-padding-end:var(--ion-grid-column-padding-xl,var(--ion-grid-column-padding,5px));padding-inline-end:var(--ion-grid-column-padding-xl,var(--ion-grid-column-padding,5px))}}}.addon-data-contents[_ngcontent-%COMP%]     address, .addon-data-contents[_ngcontent-%COMP%]     article, .addon-data-contents[_ngcontent-%COMP%]     aside, .addon-data-contents[_ngcontent-%COMP%]     blockquote, .addon-data-contents[_ngcontent-%COMP%]     canvas, .addon-data-contents[_ngcontent-%COMP%]     dd, .addon-data-contents[_ngcontent-%COMP%]     div, .addon-data-contents[_ngcontent-%COMP%]     dl, .addon-data-contents[_ngcontent-%COMP%]     dt, .addon-data-contents[_ngcontent-%COMP%]     fieldset, .addon-data-contents[_ngcontent-%COMP%]     figcaption, .addon-data-contents[_ngcontent-%COMP%]     figure, .addon-data-contents[_ngcontent-%COMP%]     footer, .addon-data-contents[_ngcontent-%COMP%]     form, .addon-data-contents[_ngcontent-%COMP%]     h1, .addon-data-contents[_ngcontent-%COMP%]     h2, .addon-data-contents[_ngcontent-%COMP%]     h3, .addon-data-contents[_ngcontent-%COMP%]     h4, .addon-data-contents[_ngcontent-%COMP%]     h5, .addon-data-contents[_ngcontent-%COMP%]     h6, .addon-data-contents[_ngcontent-%COMP%]     header, .addon-data-contents[_ngcontent-%COMP%]     li, .addon-data-contents[_ngcontent-%COMP%]     main, .addon-data-contents[_ngcontent-%COMP%]     nav, .addon-data-contents[_ngcontent-%COMP%]     noscript, .addon-data-contents[_ngcontent-%COMP%]     ol, .addon-data-contents[_ngcontent-%COMP%]     p, .addon-data-contents[_ngcontent-%COMP%]     pre, .addon-data-contents[_ngcontent-%COMP%]     section, .addon-data-contents[_ngcontent-%COMP%]     table, .addon-data-contents[_ngcontent-%COMP%]     tfoot, .addon-data-contents[_ngcontent-%COMP%]     ul, .addon-data-contents[_ngcontent-%COMP%]     video{width:auto!important;height:auto!important;min-width:auto!important;min-height:auto!important;max-height:none!important}.addon-data-contents[_ngcontent-%COMP%]     hr{border-top:1px solid var(--stroke)}\"]}),AddonModDataEntryPage})();var $=e(\"ghUQ\"),K=e(\"DHaU\"),X=e(\"4JiN\");let B=(()=>{class AddonModDataIndexPage extends $.a{constructor(){super(...arguments),this.group=0}ngOnInit(){super.ngOnInit(),this.group=v.a.getRouteNumberParam(\"group\")||0}}return AddonModDataIndexPage.ɵfac=function AddonModDataIndexPage_Factory(t){return Z(t||AddonModDataIndexPage)},AddonModDataIndexPage.ɵcmp=D.sc({type:AddonModDataIndexPage,selectors:[[\"page-addon-mod-data-index\"]],viewQuery:function AddonModDataIndexPage_Query(t,n){var e;(1&t&&D.ud(K.a,!0),2&t)&&(D.dd(e=D.Nc())&&(n.activityComponent=e.first))},features:[D.ic],decls:14,vars:13,consts:[[\"collapsible\",\"\"],[\"slot\",\"start\"],[3,\"text\"],[\"contextLevel\",\"module\",3,\"text\",\"contextInstanceId\",\"courseId\"],[\"slot\",\"end\"],[1,\"limited-width\"],[\"slot\",\"fixed\",3,\"disabled\",\"ionRefresh\"],[3,\"pullingText\"],[3,\"module\",\"courseId\",\"group\",\"dataRetrieved\"]],template:function AddonModDataIndexPage_Template(t,n){1&t&&(D.Ec(0,\"ion-header\",0),D.Ec(1,\"ion-toolbar\"),D.Ec(2,\"ion-buttons\",1),D.zc(3,\"ion-back-button\",2),D.Pc(4,\"translate\"),D.Dc(),D.Ec(5,\"ion-title\"),D.Ec(6,\"h1\"),D.zc(7,\"core-format-text\",3),D.Dc(),D.Dc(),D.zc(8,\"ion-buttons\",4),D.Dc(),D.Dc(),D.Ec(9,\"ion-content\",5),D.Ec(10,\"ion-refresher\",6),D.Mc(\"ionRefresh\",(function AddonModDataIndexPage_Template_ion_refresher_ionRefresh_10_listener(t){return null==n.activityComponent?null:n.activityComponent.doRefresh(t.target)})),D.zc(11,\"ion-refresher-content\",7),D.Pc(12,\"translate\"),D.Dc(),D.Ec(13,\"addon-mod-data-index\",8),D.Mc(\"dataRetrieved\",(function AddonModDataIndexPage_Template_addon_mod_data_index_dataRetrieved_13_listener(t){return n.updateData(t)})),D.Dc(),D.Dc()),2&t&&(D.lc(3),D.Vc(\"text\",D.Qc(4,9,\"core.back\")),D.lc(4),D.Vc(\"text\",n.title)(\"contextInstanceId\",n.module.id)(\"courseId\",n.courseId),D.lc(3),D.Vc(\"disabled\",null==n.activityComponent?null:n.activityComponent.showLoading),D.lc(1),D.Wc(\"pullingText\",D.Qc(12,11,\"core.pulltorefresh\")),D.lc(2),D.Vc(\"module\",n.module)(\"courseId\",n.courseId)(\"group\",n.group))},directives:[_.C,X.b,_.Ab,_.m,_.h,_.i,_.yb,w.a,k.a,_.v,_.bb,_.cb,K.a],pipes:[N.d],encapsulation:2}),AddonModDataIndexPage})();const Z=D.Gc(B),tt=[{path:\":courseId/:cmId\",component:B},{path:\":courseId/:cmId/edit\",component:j,canDeactivate:[s.a]},{path:\":courseId/:cmId/edit/:entryId\",component:j,canDeactivate:[s.a]},{path:\":courseId/:cmId/:entryId\",component:Y}];let nt=(()=>{class AddonModDataLazyModule{}return AddonModDataLazyModule.ɵmod=D.wc({type:AddonModDataLazyModule}),AddonModDataLazyModule.ɵinj=D.vc({factory:function AddonModDataLazyModule_Factory(t){return new(t||AddonModDataLazyModule)},imports:[[a.m.forChild(tt),d.a,g.a,c.a,o.a,r.a,i.a]]}),AddonModDataLazyModule})();void((\"undefined\"==typeof ngJitMode||ngJitMode)&&D.kd(nt,{declarations:[B,Y,j],imports:[a.m,d.a,g.a,c.a,o.a,r.a,i.a]}))}}]);","name":"56.9e831ea9ba7b0380cc61.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[56],{\n\n/***/ \"vNWJ\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"AddonModDataLazyModule\", function() { return /* binding */ data_lazy_module_AddonModDataLazyModule; });\n\n// EXTERNAL MODULE: ./src/core/shared.module.ts + 3 modules\nvar shared_module = __webpack_require__(\"L3Fv\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/router/__ivy_ngcc__/fesm2015/router.js + 10 modules\nvar router = __webpack_require__(\"tyNb\");\n\n// EXTERNAL MODULE: ./src/core/features/comments/components/components.module.ts\nvar components_module = __webpack_require__(\"rGK3\");\n\n// EXTERNAL MODULE: ./src/core/features/compile/components/compile-html/compile-html.module.ts\nvar compile_html_module = __webpack_require__(\"WsvK\");\n\n// EXTERNAL MODULE: ./src/core/features/rating/components/components.module.ts\nvar components_components_module = __webpack_require__(\"JCPi\");\n\n// EXTERNAL MODULE: ./src/core/guards/can-leave.ts\nvar can_leave = __webpack_require__(\"MLi9\");\n\n// EXTERNAL MODULE: ./src/addons/mod/data/components/components-compile.module.ts + 2 modules\nvar components_compile_module = __webpack_require__(\"ay5P\");\n\n// EXTERNAL MODULE: ./src/addons/mod/data/components/components.module.ts\nvar data_components_components_module = __webpack_require__(\"KarO\");\n\n// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.js\nvar tslib_es6 = __webpack_require__(\"mrSG\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/forms/__ivy_ngcc__/fesm2015/forms.js\nvar fesm2015_forms = __webpack_require__(\"3Pt+\");\n\n// EXTERNAL MODULE: ./src/core/classes/errors/error.ts\nvar errors_error = __webpack_require__(\"93ts\");\n\n// EXTERNAL MODULE: ./src/core/features/fileuploader/services/fileuploader.ts\nvar fileuploader = __webpack_require__(\"hSQQ\");\n\n// EXTERNAL MODULE: ./src/core/features/tag/services/tag.ts\nvar tag = __webpack_require__(\"kWmn\");\n\n// EXTERNAL MODULE: ./node_modules/@ionic/angular/__ivy_ngcc__/fesm2015/ionic-angular.js + 5 modules\nvar ionic_angular = __webpack_require__(\"TEn/\");\n\n// EXTERNAL MODULE: ./src/core/services/groups.ts\nvar groups = __webpack_require__(\"mWdr\");\n\n// EXTERNAL MODULE: ./src/core/services/navigator.ts\nvar services_navigator = __webpack_require__(\"pHTc\");\n\n// EXTERNAL MODULE: ./src/core/services/sites.ts\nvar sites = __webpack_require__(\"9+EE\");\n\n// EXTERNAL MODULE: ./src/core/services/utils/dom.ts + 2 modules\nvar dom = __webpack_require__(\"3LXp\");\n\n// EXTERNAL MODULE: ./src/core/singletons/form.ts\nvar singletons_form = __webpack_require__(\"4reR\");\n\n// EXTERNAL MODULE: ./src/core/services/utils/utils.ts\nvar utils = __webpack_require__(\"bFG1\");\n\n// EXTERNAL MODULE: ./src/core/singletons/index.ts\nvar singletons = __webpack_require__(\"j3ag\");\n\n// EXTERNAL MODULE: ./src/core/singletons/events.ts\nvar events = __webpack_require__(\"fjkH\");\n\n// EXTERNAL MODULE: ./src/addons/mod/data/services/data.ts\nvar services_data = __webpack_require__(\"39eS\");\n\n// EXTERNAL MODULE: ./src/addons/mod/data/services/data-helper.ts\nvar data_helper = __webpack_require__(\"kTL9\");\n\n// EXTERNAL MODULE: ./src/core/singletons/dom.ts + 1 modules\nvar singletons_dom = __webpack_require__(\"6s78\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js\nvar core = __webpack_require__(\"fXoL\");\n\n// EXTERNAL MODULE: ./src/core/directives/format-text.ts\nvar format_text = __webpack_require__(\"hMzs\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/common/__ivy_ngcc__/fesm2015/common.js\nvar common = __webpack_require__(\"ofXK\");\n\n// EXTERNAL MODULE: ./src/core/directives/content.ts\nvar content = __webpack_require__(\"nt/U\");\n\n// EXTERNAL MODULE: ./src/core/components/loading/loading.ts\nvar loading = __webpack_require__(\"PgjG\");\n\n// EXTERNAL MODULE: ./src/core/components/group-selector/group-selector.ts\nvar group_selector = __webpack_require__(\"WPIK\");\n\n// EXTERNAL MODULE: ./src/core/directives/update-non-reactive-attributes.ts\nvar update_non_reactive_attributes = __webpack_require__(\"ACYt\");\n\n// EXTERNAL MODULE: ./src/core/components/style/style.ts\nvar style = __webpack_require__(\"QQhE\");\n\n// EXTERNAL MODULE: ./src/core/features/compile/components/compile-html/compile-html.ts\nvar compile_html = __webpack_require__(\"eiAi\");\n\n// EXTERNAL MODULE: ./node_modules/@ngx-translate/core/__ivy_ngcc__/fesm2015/ngx-translate-core.js + 8 modules\nvar ngx_translate_core = __webpack_require__(\"sYmb\");\n\n// CONCATENATED MODULE: ./src/addons/mod/data/pages/edit/edit.ts\n\n// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst _c0 = [\"editFormEl\"];\nfunction AddonModDataEditPage_ion_button_9_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r3 = core[\"Fc\" /* ɵɵgetCurrentView */]();\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-button\", 8);\n        core[\"Mc\" /* ɵɵlistener */](\"click\", function AddonModDataEditPage_ion_button_9_Template_ion_button_click_0_listener($event) { core[\"fd\" /* ɵɵrestoreView */](_r3); const ctx_r2 = core[\"Oc\" /* ɵɵnextContext */](); return ctx_r2.save($event); });\n        core[\"pd\" /* ɵɵtext */](1);\n        core[\"Pc\" /* ɵɵpipe */](2, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"rd\" /* ɵɵtextInterpolate1 */](\" \", core[\"Qc\" /* ɵɵpipeBind1 */](2, 1, \"core.save\"), \" \");\n    }\n}\nfunction AddonModDataEditPage_div_13_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r6 = core[\"Fc\" /* ɵɵgetCurrentView */]();\n        core[\"Ec\" /* ɵɵelementStart */](0, \"div\");\n        core[\"zc\" /* ɵɵelement */](1, \"core-style\", 9);\n        core[\"Ec\" /* ɵɵelementStart */](2, \"form\", 10, 11);\n        core[\"Mc\" /* ɵɵlistener */](\"ngSubmit\", function AddonModDataEditPage_div_13_Template_form_ngSubmit_2_listener($event) { core[\"fd\" /* ɵɵrestoreView */](_r6); const ctx_r5 = core[\"Oc\" /* ɵɵnextContext */](); return ctx_r5.save($event); });\n        core[\"zc\" /* ɵɵelement */](4, \"core-compile-html\", 12);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r1 = core[\"Oc\" /* ɵɵnextContext */]();\n        core[\"oc\" /* ɵɵclassMapInterpolate1 */](\"addon-data-contents \", ctx_r1.cssClass, \"\");\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Xc\" /* ɵɵpropertyInterpolate1 */](\"prefix\", \".\", ctx_r1.cssClass, \"\");\n        core[\"Vc\" /* ɵɵproperty */](\"css\", ctx_r1.database.csstemplate);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"formGroup\", ctx_r1.editForm);\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"text\", ctx_r1.editFormRender)(\"jsData\", ctx_r1.jsData)(\"extraImports\", ctx_r1.extraImports);\n    }\n}\n/**\n * Page that displays the view edit page.\n */\nlet edit_AddonModDataEditPage = /*@__PURE__*/ (() => {\n    class AddonModDataEditPage {\n        constructor() {\n            this.fieldsArray = [];\n            this.offline = false;\n            this.forceLeave = false; // To allow leaving the page without checking for changes.\n            this.isEditing = false;\n            this.originalData = {};\n            this.fields = {};\n            this.moduleId = 0;\n            this.title = '';\n            this.component = services_data[\"c\" /* AddonModDataProvider */].COMPONENT;\n            this.loaded = false;\n            this.selectedGroup = 0;\n            this.cssClass = '';\n            this.editFormRender = '';\n            this.extraImports = [components_compile_module[\"a\" /* AddonModDataComponentsCompileModule */]];\n            this.errors = {};\n            this.siteId = sites[\"b\" /* CoreSites */].getCurrentSiteId();\n            this.editForm = new fesm2015_forms[\"j\" /* FormGroup */]({});\n        }\n        /**\n         * @inheritdoc\n         */\n        ngOnInit() {\n            try {\n                this.moduleId = services_navigator[\"a\" /* CoreNavigator */].getRequiredRouteNumberParam('cmId');\n                this.courseId = services_navigator[\"a\" /* CoreNavigator */].getRequiredRouteNumberParam('courseId');\n                this.title = services_navigator[\"a\" /* CoreNavigator */].getRouteParam('title') || '';\n                this.entryId = services_navigator[\"a\" /* CoreNavigator */].getRouteNumberParam('entryId') || undefined;\n                this.selectedGroup = services_navigator[\"a\" /* CoreNavigator */].getRouteNumberParam('group') || 0;\n            }\n            catch (error) {\n                dom[\"a\" /* CoreDomUtils */].showErrorModal(error);\n                services_navigator[\"a\" /* CoreNavigator */].back();\n                return;\n            }\n            // If entryId is lower than 0 or null, it is a new entry or an offline entry.\n            this.isEditing = this.entryId !== undefined && this.entryId > 0;\n            this.fetchEntryData(true);\n        }\n        /**\n         * Check if we can leave the page or not and ask to confirm the lost of data.\n         *\n         * @return True if we can leave, false otherwise.\n         */\n        canLeave() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                if (this.forceLeave || !this.entry) {\n                    return true;\n                }\n                const inputData = this.editForm.value;\n                let changed = data_helper[\"a\" /* AddonModDataHelper */].hasEditDataChanged(inputData, this.fieldsArray, this.originalData);\n                changed = changed || (!this.isEditing && this.initialSelectedGroup != this.selectedGroup);\n                if (changed) {\n                    // Show confirmation if some data has been modified.\n                    yield dom[\"a\" /* CoreDomUtils */].showConfirm(singletons[\"J\" /* Translate */].instant('core.confirmcanceledit'));\n                }\n                // Delete the local files from the tmp folder.\n                const files = yield data_helper[\"a\" /* AddonModDataHelper */].getEditTmpFiles(inputData, this.fieldsArray, this.entry.contents);\n                fileuploader[\"a\" /* CoreFileUploader */].clearTmpFiles(files);\n                singletons_form[\"a\" /* CoreForms */].triggerFormCancelledEvent(this.formElement, this.siteId);\n                return true;\n            });\n        }\n        /**\n         * Fetch the entry data.\n         *\n         * @param refresh To refresh all downloaded data.\n         * @return Resolved when done.\n         */\n        fetchEntryData(refresh = false) {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                try {\n                    this.database = yield services_data[\"a\" /* AddonModData */].getDatabase(this.courseId, this.moduleId);\n                    this.title = this.database.name || this.title;\n                    this.cssClass = 'addon-data-entries-' + this.database.id;\n                    this.fieldsArray = yield services_data[\"a\" /* AddonModData */].getFields(this.database.id, { cmId: this.moduleId });\n                    this.fields = utils[\"a\" /* CoreUtils */].arrayToObject(this.fieldsArray, 'id');\n                    const entry = yield data_helper[\"a\" /* AddonModDataHelper */].fetchEntry(this.database, this.fieldsArray, this.entryId || 0);\n                    this.entry = entry.entry;\n                    this.originalData = utils[\"a\" /* CoreUtils */].clone(this.entry.contents);\n                    if (this.entryId) {\n                        // Load correct group.\n                        this.selectedGroup = this.entry.groupid;\n                    }\n                    // Check permissions when adding a new entry or offline entry.\n                    if (!this.isEditing) {\n                        let haveAccess = false;\n                        let groupInfo = this.groupInfo;\n                        if (refresh) {\n                            groupInfo = yield groups[\"a\" /* CoreGroups */].getActivityGroupInfo(this.database.coursemodule);\n                            if (groupInfo.visibleGroups && groupInfo.groups.length) {\n                                // There is a bug in Moodle with All participants and visible groups (MOBILE-3597). Remove it.\n                                groupInfo.groups = groupInfo.groups.filter(group => group.id !== 0);\n                                groupInfo.defaultGroupId = groupInfo.groups[0].id;\n                            }\n                            this.selectedGroup = groups[\"a\" /* CoreGroups */].validateGroupId(this.selectedGroup, groupInfo);\n                            this.initialSelectedGroup = this.selectedGroup;\n                        }\n                        if ((groupInfo === null || groupInfo === void 0 ? void 0 : groupInfo.groups) && (groupInfo === null || groupInfo === void 0 ? void 0 : groupInfo.groups.length) > 0) {\n                            if (refresh) {\n                                const canAddGroup = {};\n                                yield Promise.all(groupInfo.groups.map((group) => Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                                    const accessData = yield services_data[\"a\" /* AddonModData */].getDatabaseAccessInformation(this.database.id, {\n                                        cmId: this.moduleId,\n                                        groupId: group.id,\n                                    });\n                                    canAddGroup[group.id] = accessData.canaddentry;\n                                })));\n                                groupInfo.groups = groupInfo.groups.filter((group) => !!canAddGroup[group.id]);\n                                haveAccess = canAddGroup[this.selectedGroup];\n                            }\n                            else {\n                                // Groups already filtered, so it have access.\n                                haveAccess = true;\n                            }\n                        }\n                        else {\n                            const accessData = yield services_data[\"a\" /* AddonModData */].getDatabaseAccessInformation(this.database.id, { cmId: this.moduleId });\n                            haveAccess = accessData.canaddentry;\n                        }\n                        this.groupInfo = groupInfo;\n                        if (!haveAccess) {\n                            // You shall not pass, go back.\n                            dom[\"a\" /* CoreDomUtils */].showErrorModal('addon.mod_data.noaccess', true);\n                            // Go back to entry list.\n                            this.forceLeave = true;\n                            services_navigator[\"a\" /* CoreNavigator */].back();\n                            return;\n                        }\n                    }\n                    this.editFormRender = this.displayEditFields();\n                }\n                catch (error) {\n                    dom[\"a\" /* CoreDomUtils */].showErrorModalDefault(error, 'core.course.errorgetmodule', true);\n                }\n                this.loaded = true;\n            });\n        }\n        /**\n         * Saves data.\n         *\n         * @param e Event.\n         * @return Resolved when done.\n         */\n        save(e) {\n            var _a, _b, _c;\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                e.preventDefault();\n                e.stopPropagation();\n                const inputData = this.editForm.value;\n                try {\n                    let changed = data_helper[\"a\" /* AddonModDataHelper */].hasEditDataChanged(inputData, this.fieldsArray, ((_a = this.entry) === null || _a === void 0 ? void 0 : _a.contents) || {});\n                    changed = changed || (!this.isEditing && this.initialSelectedGroup != this.selectedGroup);\n                    if (!changed) {\n                        if (this.entryId) {\n                            yield this.returnToEntryList();\n                            return;\n                        }\n                        // New entry, no changes means no field filled, warn the user.\n                        throw new errors_error[\"a\" /* CoreError */](singletons[\"J\" /* Translate */].instant('addon.mod_data.emptyaddform'));\n                    }\n                    const modal = yield dom[\"a\" /* CoreDomUtils */].showModalLoading('core.sending', true);\n                    // Create an ID to assign files.\n                    const entryTemp = this.entryId ? this.entryId : -(Date.now());\n                    let editData = [];\n                    try {\n                        try {\n                            editData = yield data_helper[\"a\" /* AddonModDataHelper */].getEditDataFromForm(inputData, this.fieldsArray, this.database.id, entryTemp, ((_b = this.entry) === null || _b === void 0 ? void 0 : _b.contents) || {}, this.offline);\n                        }\n                        catch (error) {\n                            if (this.offline || utils[\"a\" /* CoreUtils */].isWebServiceError(error)) {\n                                throw error;\n                            }\n                            // Cannot submit in online, prepare for offline usage.\n                            this.offline = true;\n                            editData = yield data_helper[\"a\" /* AddonModDataHelper */].getEditDataFromForm(inputData, this.fieldsArray, this.database.id, entryTemp, ((_c = this.entry) === null || _c === void 0 ? void 0 : _c.contents) || {}, this.offline);\n                        }\n                        if (editData.length <= 0) {\n                            // No field filled, warn the user.\n                            throw new errors_error[\"a\" /* CoreError */](singletons[\"J\" /* Translate */].instant('addon.mod_data.emptyaddform'));\n                        }\n                        let updateEntryResult;\n                        if (this.isEditing) {\n                            updateEntryResult = yield services_data[\"a\" /* AddonModData */].editEntry(this.database.id, this.entryId, this.courseId, editData, this.fieldsArray, this.siteId, this.offline);\n                        }\n                        else {\n                            updateEntryResult = yield services_data[\"a\" /* AddonModData */].addEntry(this.database.id, entryTemp, this.courseId, editData, this.selectedGroup, this.fieldsArray, this.siteId, this.offline);\n                        }\n                        // This is done if entry is updated when editing or creating if not.\n                        if ((this.isEditing && 'updated' in updateEntryResult && updateEntryResult.updated) ||\n                            (!this.isEditing && 'newentryid' in updateEntryResult && updateEntryResult.newentryid)) {\n                            singletons_form[\"a\" /* CoreForms */].triggerFormSubmittedEvent(this.formElement, updateEntryResult.sent, this.siteId);\n                            const promises = [];\n                            if (updateEntryResult.sent) {\n                                events[\"b\" /* CoreEvents */].trigger(events[\"b\" /* CoreEvents */].ACTIVITY_DATA_SENT, { module: 'data' });\n                                if (this.isEditing) {\n                                    promises.push(services_data[\"a\" /* AddonModData */].invalidateEntryData(this.database.id, this.entryId, this.siteId));\n                                }\n                                promises.push(services_data[\"a\" /* AddonModData */].invalidateEntriesData(this.database.id, this.siteId));\n                            }\n                            try {\n                                yield Promise.all(promises);\n                                events[\"b\" /* CoreEvents */].trigger(services_data[\"c\" /* AddonModDataProvider */].ENTRY_CHANGED, { dataId: this.database.id, entryId: this.entryId }, this.siteId);\n                            }\n                            finally {\n                                this.returnToEntryList();\n                            }\n                        }\n                        else {\n                            this.errors = {};\n                            if (updateEntryResult.fieldnotifications) {\n                                updateEntryResult.fieldnotifications.forEach((fieldNotif) => {\n                                    const field = this.fieldsArray.find((field) => field.name == fieldNotif.fieldname);\n                                    if (field) {\n                                        this.errors[field.id] = fieldNotif.notification;\n                                    }\n                                });\n                            }\n                            this.jsData.errors = this.errors;\n                            this.scrollToFirstError();\n                        }\n                    }\n                    finally {\n                        modal.dismiss();\n                    }\n                }\n                catch (error) {\n                    dom[\"a\" /* CoreDomUtils */].showErrorModalDefault(error, 'Cannot edit entry', true);\n                }\n            });\n        }\n        /**\n         * Set group to see the database.\n         *\n         * @param groupId Group identifier to set.\n         * @return Resolved when done.\n         */\n        setGroup(groupId) {\n            this.selectedGroup = groupId;\n            this.loaded = false;\n            return this.fetchEntryData();\n        }\n        /**\n         * Displays Edit Search Fields.\n         *\n         * @return Generated HTML.\n         */\n        displayEditFields() {\n            var _a;\n            this.jsData = {\n                fields: this.fields,\n                contents: utils[\"a\" /* CoreUtils */].clone((_a = this.entry) === null || _a === void 0 ? void 0 : _a.contents) || {},\n                form: this.editForm,\n                database: this.database,\n                errors: this.errors,\n                onFieldInit: this.onFieldInit.bind(this),\n            };\n            let template = data_helper[\"a\" /* AddonModDataHelper */].getTemplate(this.database, services_data[\"e\" /* AddonModDataTemplateType */].ADD, this.fieldsArray);\n            // Replace the fields found on template.\n            this.fieldsArray.forEach((field) => {\n                let replace = '[[' + field.name + ']]';\n                replace = replace.replace(/[-[\\]/{}()*+?.\\\\^$|]/g, '\\\\$&');\n                let replaceRegEx = new RegExp(replace, 'gi');\n                // Replace field by a generic directive.\n                const render = '<addon-mod-data-field-plugin [class.has-errors]=\"!!errors[' + field.id + ']\" mode=\"edit\" \\\n                [field]=\"fields[' + field.id + ']\" [value]=\"contents[' + field.id + ']\" [form]=\"form\" [database]=\"database\" \\\n                [error]=\"errors[' + field.id + ']\" (onFieldInit)=\"onFieldInit($event)\"></addon-mod-data-field-plugin>';\n                template = template.replace(replaceRegEx, render);\n                // Replace the field id tag.\n                replace = '[[' + field.name + '#id]]';\n                replace = replace.replace(/[-[\\]/{}()*+?.\\\\^$|]/g, '\\\\$&');\n                replaceRegEx = new RegExp(replace, 'gi');\n                template = template.replace(replaceRegEx, 'field_' + field.id);\n            });\n            // Editing tags is not supported.\n            const replaceRegEx = new RegExp('##tags##', 'gi');\n            const message = tag[\"a\" /* CoreTag */].areTagsAvailableInSite()\n                ? '<p class=\"item-dimmed\">{{ \\'addon.mod_data.edittagsnotsupported\\' | translate }}</p>'\n                : '';\n            template = template.replace(replaceRegEx, message);\n            return template;\n        }\n        /**\n         * A certain value has been initialized.\n         *\n         * @param data Data.\n         */\n        onFieldInit(data) {\n            var _a, _b, _c, _d, _e, _f, _g;\n            if (!this.originalData[data.fieldid]) {\n                this.originalData[data.fieldid] = {\n                    id: 0,\n                    recordid: (_b = (_a = this.entry) === null || _a === void 0 ? void 0 : _a.id) !== null && _b !== void 0 ? _b : 0,\n                    fieldid: data.fieldid,\n                    content: data.content,\n                    content1: (_c = data.content1) !== null && _c !== void 0 ? _c : null,\n                    content2: (_d = data.content2) !== null && _d !== void 0 ? _d : null,\n                    content3: (_e = data.content3) !== null && _e !== void 0 ? _e : null,\n                    content4: (_f = data.content4) !== null && _f !== void 0 ? _f : null,\n                    files: (_g = data.files) !== null && _g !== void 0 ? _g : [],\n                };\n            }\n        }\n        /**\n         * Return to the entry list (previous page) discarding temp data.\n         *\n         * @return Resolved when done.\n         */\n        returnToEntryList() {\n            var _a;\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                const inputData = this.editForm.value;\n                try {\n                    const files = yield data_helper[\"a\" /* AddonModDataHelper */].getEditTmpFiles(inputData, this.fieldsArray, ((_a = this.entry) === null || _a === void 0 ? void 0 : _a.contents) || {});\n                    fileuploader[\"a\" /* CoreFileUploader */].clearTmpFiles(files);\n                }\n                finally {\n                    // Go back to entry list.\n                    this.forceLeave = true;\n                    services_navigator[\"a\" /* CoreNavigator */].back();\n                }\n            });\n        }\n        /**\n         * Scroll to first error or to the top if not found.\n         */\n        scrollToFirstError() {\n            var _a;\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                const scrolled = yield singletons_dom[\"a\" /* CoreDom */].scrollToElement(this.formElement.nativeElement, '.addon-data-error');\n                if (!scrolled) {\n                    (_a = this.content) === null || _a === void 0 ? void 0 : _a.scrollToTop();\n                }\n            });\n        }\n    }\n    AddonModDataEditPage.ɵfac = function AddonModDataEditPage_Factory(t) { return new (t || AddonModDataEditPage)(); };\n    AddonModDataEditPage.ɵcmp = core[\"sc\" /* ɵɵdefineComponent */]({ type: AddonModDataEditPage, selectors: [[\"page-addon-mod-data-edit\"]], viewQuery: function AddonModDataEditPage_Query(rf, ctx) {\n            if (rf & 1) {\n                core[\"ud\" /* ɵɵviewQuery */](ionic_angular[\"v\" /* IonContent */], true);\n                core[\"ud\" /* ɵɵviewQuery */](_c0, true);\n            }\n            if (rf & 2) {\n                var _t;\n                core[\"dd\" /* ɵɵqueryRefresh */](_t = core[\"Nc\" /* ɵɵloadQuery */]()) && (ctx.content = _t.first);\n                core[\"dd\" /* ɵɵqueryRefresh */](_t = core[\"Nc\" /* ɵɵloadQuery */]()) && (ctx.formElement = _t.first);\n            }\n        }, decls: 14, vars: 11, consts: [[\"slot\", \"start\"], [3, \"text\"], [\"contextLevel\", \"module\", 3, \"text\", \"contextInstanceId\", \"courseId\"], [\"slot\", \"end\"], [\"fill\", \"clear\", 3, \"click\", 4, \"ngIf\"], [3, \"hideUntil\"], [3, \"groupInfo\", \"selected\", \"selectedChange\"], [3, \"class\", 4, \"ngIf\"], [\"fill\", \"clear\", 3, \"click\"], [3, \"css\", \"prefix\"], [3, \"formGroup\", \"ngSubmit\"], [\"editFormEl\", \"\"], [3, \"text\", \"jsData\", \"extraImports\"]], template: function AddonModDataEditPage_Template(rf, ctx) {\n            if (rf & 1) {\n                core[\"Ec\" /* ɵɵelementStart */](0, \"ion-header\");\n                core[\"Ec\" /* ɵɵelementStart */](1, \"ion-toolbar\");\n                core[\"Ec\" /* ɵɵelementStart */](2, \"ion-buttons\", 0);\n                core[\"zc\" /* ɵɵelement */](3, \"ion-back-button\", 1);\n                core[\"Pc\" /* ɵɵpipe */](4, \"translate\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](5, \"ion-title\");\n                core[\"Ec\" /* ɵɵelementStart */](6, \"h1\");\n                core[\"zc\" /* ɵɵelement */](7, \"core-format-text\", 2);\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](8, \"ion-buttons\", 3);\n                core[\"nd\" /* ɵɵtemplate */](9, AddonModDataEditPage_ion_button_9_Template, 3, 3, \"ion-button\", 4);\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](10, \"ion-content\");\n                core[\"Ec\" /* ɵɵelementStart */](11, \"core-loading\", 5);\n                core[\"Ec\" /* ɵɵelementStart */](12, \"core-group-selector\", 6);\n                core[\"Mc\" /* ɵɵlistener */](\"selectedChange\", function AddonModDataEditPage_Template_core_group_selector_selectedChange_12_listener($event) { return ctx.selectedGroup = $event; })(\"selectedChange\", function AddonModDataEditPage_Template_core_group_selector_selectedChange_12_listener() { return ctx.setGroup(ctx.selectedGroup); });\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"nd\" /* ɵɵtemplate */](13, AddonModDataEditPage_div_13_Template, 5, 9, \"div\", 7);\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n            }\n            if (rf & 2) {\n                core[\"lc\" /* ɵɵadvance */](3);\n                core[\"Vc\" /* ɵɵproperty */](\"text\", core[\"Qc\" /* ɵɵpipeBind1 */](4, 9, \"core.back\"));\n                core[\"lc\" /* ɵɵadvance */](4);\n                core[\"Vc\" /* ɵɵproperty */](\"text\", ctx.title)(\"contextInstanceId\", ctx.moduleId)(\"courseId\", ctx.courseId);\n                core[\"lc\" /* ɵɵadvance */](2);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx.entry);\n                core[\"lc\" /* ɵɵadvance */](2);\n                core[\"Vc\" /* ɵɵproperty */](\"hideUntil\", ctx.loaded);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"groupInfo\", ctx.groupInfo)(\"selected\", ctx.selectedGroup);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx.database);\n            }\n        }, directives: [ionic_angular[\"C\" /* IonHeader */], ionic_angular[\"Ab\" /* IonToolbar */], ionic_angular[\"m\" /* IonButtons */], ionic_angular[\"h\" /* IonBackButton */], ionic_angular[\"i\" /* IonBackButtonDelegate */], ionic_angular[\"yb\" /* IonTitle */], format_text[\"a\" /* CoreFormatTextDirective */], common[\"t\" /* NgIf */], content[\"a\" /* CoreContentDirective */], ionic_angular[\"v\" /* IonContent */], loading[\"a\" /* CoreLoadingComponent */], group_selector[\"a\" /* CoreGroupSelectorComponent */], update_non_reactive_attributes[\"a\" /* CoreUpdateNonReactiveAttributesDirective */], ionic_angular[\"l\" /* IonButton */], style[\"a\" /* CoreStyleComponent */], fesm2015_forms[\"H\" /* ɵangular_packages_forms_forms_y */], fesm2015_forms[\"s\" /* NgControlStatusGroup */], fesm2015_forms[\"k\" /* FormGroupDirective */], compile_html[\"a\" /* CoreCompileHtmlComponent */]], pipes: [ngx_translate_core[\"d\" /* TranslatePipe */]], styles: [\"[_nghost-%COMP%]{--border-color:var(--stroke)}.addon-data-contents[_ngcontent-%COMP%]{overflow:visible;white-space:normal;word-break:break-word;padding:16px;background-color:var(--ion-item-background);border-bottom:1px solid var(--border-color)}.addon-data-contents[_ngcontent-%COMP%]     table, .addon-data-contents[_ngcontent-%COMP%]     tbody{display:block}.addon-data-contents[_ngcontent-%COMP%]     tr{display:flex;flex-wrap:wrap;padding:0}@media (max-width:575.98px){.addon-data-contents[_ngcontent-%COMP%]     tr{flex-direction:column}}.addon-data-contents[_ngcontent-%COMP%]     td, .addon-data-contents[_ngcontent-%COMP%]     th{padding:var(--ion-grid-column-padding-xs,var(--ion-grid-column-padding,5px));margin:0;box-sizing:border-box;position:relative;flex-basis:0;flex-grow:1;width:100%;max-width:100%;min-height:auto}@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){.addon-data-contents[_ngcontent-%COMP%]     td, .addon-data-contents[_ngcontent-%COMP%]     th{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-grid-column-padding-xs,var(--ion-grid-column-padding,5px));padding-inline-start:var(--ion-grid-column-padding-xs,var(--ion-grid-column-padding,5px));-webkit-padding-end:var(--ion-grid-column-padding-xs,var(--ion-grid-column-padding,5px));padding-inline-end:var(--ion-grid-column-padding-xs,var(--ion-grid-column-padding,5px))}}@media (min-width:576px){.addon-data-contents[_ngcontent-%COMP%]     td, .addon-data-contents[_ngcontent-%COMP%]     th{padding:var(--ion-grid-column-padding-sm,var(--ion-grid-column-padding,5px))}@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){.addon-data-contents[_ngcontent-%COMP%]     td, .addon-data-contents[_ngcontent-%COMP%]     th{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-grid-column-padding-sm,var(--ion-grid-column-padding,5px));padding-inline-start:var(--ion-grid-column-padding-sm,var(--ion-grid-column-padding,5px));-webkit-padding-end:var(--ion-grid-column-padding-sm,var(--ion-grid-column-padding,5px));padding-inline-end:var(--ion-grid-column-padding-sm,var(--ion-grid-column-padding,5px))}}}@media (min-width:768px){.addon-data-contents[_ngcontent-%COMP%]     td, .addon-data-contents[_ngcontent-%COMP%]     th{padding:var(--ion-grid-column-padding-md,var(--ion-grid-column-padding,5px))}@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){.addon-data-contents[_ngcontent-%COMP%]     td, .addon-data-contents[_ngcontent-%COMP%]     th{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-grid-column-padding-md,var(--ion-grid-column-padding,5px));padding-inline-start:var(--ion-grid-column-padding-md,var(--ion-grid-column-padding,5px));-webkit-padding-end:var(--ion-grid-column-padding-md,var(--ion-grid-column-padding,5px));padding-inline-end:var(--ion-grid-column-padding-md,var(--ion-grid-column-padding,5px))}}}@media (min-width:992px){.addon-data-contents[_ngcontent-%COMP%]     td, .addon-data-contents[_ngcontent-%COMP%]     th{padding:var(--ion-grid-column-padding-lg,var(--ion-grid-column-padding,5px))}@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){.addon-data-contents[_ngcontent-%COMP%]     td, .addon-data-contents[_ngcontent-%COMP%]     th{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-grid-column-padding-lg,var(--ion-grid-column-padding,5px));padding-inline-start:var(--ion-grid-column-padding-lg,var(--ion-grid-column-padding,5px));-webkit-padding-end:var(--ion-grid-column-padding-lg,var(--ion-grid-column-padding,5px));padding-inline-end:var(--ion-grid-column-padding-lg,var(--ion-grid-column-padding,5px))}}}@media (min-width:1200px){.addon-data-contents[_ngcontent-%COMP%]     td, .addon-data-contents[_ngcontent-%COMP%]     th{padding:var(--ion-grid-column-padding-xl,var(--ion-grid-column-padding,5px))}@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){.addon-data-contents[_ngcontent-%COMP%]     td, .addon-data-contents[_ngcontent-%COMP%]     th{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-grid-column-padding-xl,var(--ion-grid-column-padding,5px));padding-inline-start:var(--ion-grid-column-padding-xl,var(--ion-grid-column-padding,5px));-webkit-padding-end:var(--ion-grid-column-padding-xl,var(--ion-grid-column-padding,5px));padding-inline-end:var(--ion-grid-column-padding-xl,var(--ion-grid-column-padding,5px))}}}.addon-data-contents[_ngcontent-%COMP%]     address, .addon-data-contents[_ngcontent-%COMP%]     article, .addon-data-contents[_ngcontent-%COMP%]     aside, .addon-data-contents[_ngcontent-%COMP%]     blockquote, .addon-data-contents[_ngcontent-%COMP%]     canvas, .addon-data-contents[_ngcontent-%COMP%]     dd, .addon-data-contents[_ngcontent-%COMP%]     div, .addon-data-contents[_ngcontent-%COMP%]     dl, .addon-data-contents[_ngcontent-%COMP%]     dt, .addon-data-contents[_ngcontent-%COMP%]     fieldset, .addon-data-contents[_ngcontent-%COMP%]     figcaption, .addon-data-contents[_ngcontent-%COMP%]     figure, .addon-data-contents[_ngcontent-%COMP%]     footer, .addon-data-contents[_ngcontent-%COMP%]     form, .addon-data-contents[_ngcontent-%COMP%]     h1, .addon-data-contents[_ngcontent-%COMP%]     h2, .addon-data-contents[_ngcontent-%COMP%]     h3, .addon-data-contents[_ngcontent-%COMP%]     h4, .addon-data-contents[_ngcontent-%COMP%]     h5, .addon-data-contents[_ngcontent-%COMP%]     h6, .addon-data-contents[_ngcontent-%COMP%]     header, .addon-data-contents[_ngcontent-%COMP%]     li, .addon-data-contents[_ngcontent-%COMP%]     main, .addon-data-contents[_ngcontent-%COMP%]     nav, .addon-data-contents[_ngcontent-%COMP%]     noscript, .addon-data-contents[_ngcontent-%COMP%]     ol, .addon-data-contents[_ngcontent-%COMP%]     p, .addon-data-contents[_ngcontent-%COMP%]     pre, .addon-data-contents[_ngcontent-%COMP%]     section, .addon-data-contents[_ngcontent-%COMP%]     table, .addon-data-contents[_ngcontent-%COMP%]     tfoot, .addon-data-contents[_ngcontent-%COMP%]     ul, .addon-data-contents[_ngcontent-%COMP%]     video{width:auto!important;height:auto!important;min-width:auto!important;min-height:auto!important;max-height:none!important}.addon-data-contents[_ngcontent-%COMP%]     hr{border-top:1px solid var(--stroke)}\", \"[_nghost-%COMP%]{--input-border-color:var(--stroke);--input-border-width:1px;--select-border-width:0px}[_nghost-%COMP%]     table{width:100%}[_nghost-%COMP%]     td{vertical-align:top}[_nghost-%COMP%]     .addon-data-latlong{display:flex}[_nghost-%COMP%]   .addon-data-advanced-search[_ngcontent-%COMP%]{padding:16px;width:100%}[_nghost-%COMP%]   .addon-data-contents[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .addon-data-advanced-search[_ngcontent-%COMP%]{background-color:var(--ion-item-background)}[_nghost-%COMP%]   .addon-data-contents[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]     ion-input, [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .addon-data-advanced-search[_ngcontent-%COMP%]     ion-input{border-bottom:var(--input-border-width) solid var(--input-border-color)}[_nghost-%COMP%]   .addon-data-contents[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]     ion-input.has-focus, [_nghost-%COMP%]   .addon-data-contents[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]     ion-input.has-focus.ion-valid, [_nghost-%COMP%]   .addon-data-contents[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]     ion-input.ion-touched.ion-invalid, [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .addon-data-advanced-search[_ngcontent-%COMP%]     ion-input.has-focus, [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .addon-data-advanced-search[_ngcontent-%COMP%]     ion-input.has-focus.ion-valid, [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .addon-data-advanced-search[_ngcontent-%COMP%]     ion-input.ion-touched.ion-invalid{--input-border-width:2px}[_nghost-%COMP%]   .addon-data-contents[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]     ion-input.has-focus, [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .addon-data-advanced-search[_ngcontent-%COMP%]     ion-input.has-focus{--input-border-color:var(--primary)}[_nghost-%COMP%]   .addon-data-contents[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]     ion-input.has-focus.ion-valid, [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .addon-data-advanced-search[_ngcontent-%COMP%]     ion-input.has-focus.ion-valid{--input-border-color:var(--success)}[_nghost-%COMP%]   .addon-data-contents[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]     ion-input.ion-touched.ion-invalid, [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .addon-data-advanced-search[_ngcontent-%COMP%]     ion-input.ion-touched.ion-invalid{--input-border-color:var(--danger)}[_nghost-%COMP%]   .addon-data-contents[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]     core-rich-text-editor, [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .addon-data-advanced-search[_ngcontent-%COMP%]     core-rich-text-editor{border-bottom:var(--select-border-width) solid var(--input-border-color)}[_nghost-%COMP%]   .addon-data-contents[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]     core-rich-text-editor.ion-touched.ng-invalid, [_nghost-%COMP%]   .addon-data-contents[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]     core-rich-text-editor.ion-touched.ng-valid, [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .addon-data-advanced-search[_ngcontent-%COMP%]     core-rich-text-editor.ion-touched.ng-invalid, [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .addon-data-advanced-search[_ngcontent-%COMP%]     core-rich-text-editor.ion-touched.ng-valid{--select-border-width:2px}[_nghost-%COMP%]   .addon-data-contents[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]     core-rich-text-editor.ion-touched.ng-valid, [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .addon-data-advanced-search[_ngcontent-%COMP%]     core-rich-text-editor.ion-touched.ng-valid{--input-border-color:var(--success)}[_nghost-%COMP%]   .addon-data-contents[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]     core-rich-text-editor.ion-touched.ng-invalid, [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .addon-data-advanced-search[_ngcontent-%COMP%]     core-rich-text-editor.ion-touched.ng-invalid{--input-border-color:var(--danger)}[_nghost-%COMP%]   .addon-data-contents[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]     ion-select, [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .addon-data-advanced-search[_ngcontent-%COMP%]     ion-select{border-bottom:var(--select-border-width) solid var(--input-border-color)}[_nghost-%COMP%]   .addon-data-contents[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]     ion-select.ion-touched.ion-invalid, [_nghost-%COMP%]   .addon-data-contents[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]     ion-select.ion-touched.ion-valid, [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .addon-data-advanced-search[_ngcontent-%COMP%]     ion-select.ion-touched.ion-invalid, [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .addon-data-advanced-search[_ngcontent-%COMP%]     ion-select.ion-touched.ion-valid{--select-border-width:2px}[_nghost-%COMP%]   .addon-data-contents[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]     ion-select.ion-touched.ion-valid, [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .addon-data-advanced-search[_ngcontent-%COMP%]     ion-select.ion-touched.ion-valid{--input-border-color:var(--success)}[_nghost-%COMP%]   .addon-data-contents[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]     ion-select.ion-touched.ion-invalid, [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .addon-data-advanced-search[_ngcontent-%COMP%]     ion-select.ion-touched.ion-invalid{--input-border-color:var(--danger)}[_nghost-%COMP%]   .addon-data-contents[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]     .has-errors ion-input.ion-invalid, [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .addon-data-advanced-search[_ngcontent-%COMP%]     .has-errors ion-input.ion-invalid{--input-border-width:2px;--input-border-color:var(--danger)}[_nghost-%COMP%]   .addon-data-contents[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]     .has-errors core-rich-text-editor.ng-invalid, [_nghost-%COMP%]   .addon-data-contents[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]     .has-errors ion-select.ion-invalid, [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .addon-data-advanced-search[_ngcontent-%COMP%]     .has-errors core-rich-text-editor.ng-invalid, [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .addon-data-advanced-search[_ngcontent-%COMP%]     .has-errors ion-select.ion-invalid{--select-border-width:2px;--input-border-color:var(--danger)}[_nghost-%COMP%]   .addon-data-contents[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]     .core-mark-required, [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .addon-data-advanced-search[_ngcontent-%COMP%]     .core-mark-required{float:right}[dir=rtl][_nghost-%COMP%]   .addon-data-contents[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]     .core-mark-required, [dir=rtl]   [_nghost-%COMP%]   .addon-data-contents[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]     .core-mark-required, [dir=rtl][_nghost-%COMP%]   form[_ngcontent-%COMP%]   .addon-data-advanced-search[_ngcontent-%COMP%]     .core-mark-required, [dir=rtl]   [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .addon-data-advanced-search[_ngcontent-%COMP%]     .core-mark-required{float:left}[_nghost-%COMP%]   .addon-data-contents[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]     .core-mark-required+ion-input, [_nghost-%COMP%]   .addon-data-contents[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]     .core-mark-required+ion-select, [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .addon-data-advanced-search[_ngcontent-%COMP%]     .core-mark-required+ion-input, [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .addon-data-advanced-search[_ngcontent-%COMP%]     .core-mark-required+ion-select{padding-right:20px}@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){[_nghost-%COMP%]   .addon-data-contents[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]     .core-mark-required+ion-input, [_nghost-%COMP%]   .addon-data-contents[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]     .core-mark-required+ion-select, [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .addon-data-advanced-search[_ngcontent-%COMP%]     .core-mark-required+ion-input, [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .addon-data-advanced-search[_ngcontent-%COMP%]     .core-mark-required+ion-select{padding-right:unset;-webkit-padding-end:20px;padding-inline-end:20px}}\"] });\n    return AddonModDataEditPage;\n})();\n\n// EXTERNAL MODULE: ./src/core/features/comments/components/comments/comments.ts\nvar comments = __webpack_require__(\"1Rj0\");\n\n// EXTERNAL MODULE: ./src/core/features/comments/services/comments.ts\nvar services_comments = __webpack_require__(\"5pQw\");\n\n// EXTERNAL MODULE: ./src/core/features/course/services/course.ts\nvar course = __webpack_require__(\"ULAo\");\n\n// EXTERNAL MODULE: ./src/addons/mod/data/services/data-sync.ts\nvar data_sync = __webpack_require__(\"vwQL\");\n\n// EXTERNAL MODULE: ./src/core/directives/fa-icon.ts\nvar fa_icon = __webpack_require__(\"3CSS\");\n\n// EXTERNAL MODULE: ./src/core/features/rating/components/rate/rate.ts\nvar rate = __webpack_require__(\"fY5/\");\n\n// EXTERNAL MODULE: ./src/core/features/rating/components/aggregate/aggregate.ts\nvar aggregate = __webpack_require__(\"OoUD\");\n\n// EXTERNAL MODULE: ./src/core/directives/collapsible-footer.ts\nvar collapsible_footer = __webpack_require__(\"3jOR\");\n\n// CONCATENATED MODULE: ./src/addons/mod/data/pages/entry/entry.ts\n\n// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst entry_c0 = function (a0) { return { $a: a0 }; };\nfunction AddonModDataEntryPage_ion_card_13_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-card\", 14);\n        core[\"Ec\" /* ɵɵelementStart */](1, \"ion-item\");\n        core[\"zc\" /* ɵɵelement */](2, \"ion-icon\", 15);\n        core[\"Ec\" /* ɵɵelementStart */](3, \"ion-label\");\n        core[\"pd\" /* ɵɵtext */](4);\n        core[\"Pc\" /* ɵɵpipe */](5, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r0 = core[\"Oc\" /* ɵɵnextContext */]();\n        core[\"lc\" /* ɵɵadvance */](4);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Rc\" /* ɵɵpipeBind2 */](5, 1, \"core.hasdatatosync\", core[\"ad\" /* ɵɵpureFunction1 */](4, entry_c0, ctx_r0.moduleName)));\n    }\n}\nfunction AddonModDataEntryPage_div_15_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r7 = core[\"Fc\" /* ɵɵgetCurrentView */]();\n        core[\"Ec\" /* ɵɵelementStart */](0, \"div\");\n        core[\"zc\" /* ɵɵelement */](1, \"core-style\", 16);\n        core[\"Ec\" /* ɵɵelementStart */](2, \"core-compile-html\", 17);\n        core[\"Mc\" /* ɵɵlistener */](\"compiling\", function AddonModDataEntryPage_div_15_Template_core_compile_html_compiling_2_listener($event) { core[\"fd\" /* ɵɵrestoreView */](_r7); const ctx_r6 = core[\"Oc\" /* ɵɵnextContext */](); return ctx_r6.setRenderingEntry($event); });\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r1 = core[\"Oc\" /* ɵɵnextContext */]();\n        core[\"oc\" /* ɵɵclassMapInterpolate1 */](\"addon-data-contents addon-data-entry addon-data-entries-\", ctx_r1.database.id, \"\");\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Xc\" /* ɵɵpropertyInterpolate1 */](\"prefix\", \".addon-data-entries-\", ctx_r1.database.id, \"\");\n        core[\"Vc\" /* ɵɵproperty */](\"css\", ctx_r1.database.csstemplate);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"text\", ctx_r1.entryHtml)(\"jsData\", ctx_r1.jsData)(\"extraImports\", ctx_r1.extraImports);\n    }\n}\nfunction AddonModDataEntryPage_core_rating_rate_16_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r9 = core[\"Fc\" /* ɵɵgetCurrentView */]();\n        core[\"Ec\" /* ɵɵelementStart */](0, \"core-rating-rate\", 18);\n        core[\"Mc\" /* ɵɵlistener */](\"onLoading\", function AddonModDataEntryPage_core_rating_rate_16_Template_core_rating_rate_onLoading_0_listener($event) { core[\"fd\" /* ɵɵrestoreView */](_r9); const ctx_r8 = core[\"Oc\" /* ɵɵnextContext */](); return ctx_r8.setLoadingRating($event); })(\"onUpdate\", function AddonModDataEntryPage_core_rating_rate_16_Template_core_rating_rate_onUpdate_0_listener() { core[\"fd\" /* ɵɵrestoreView */](_r9); const ctx_r10 = core[\"Oc\" /* ɵɵnextContext */](); return ctx_r10.ratingUpdated(); });\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r2 = core[\"Oc\" /* ɵɵnextContext */]();\n        core[\"Vc\" /* ɵɵproperty */](\"ratingInfo\", ctx_r2.ratingInfo)(\"instanceId\", ctx_r2.database.coursemodule)(\"itemId\", ctx_r2.entry.id)(\"itemSetId\", 0)(\"courseId\", ctx_r2.courseId)(\"aggregateMethod\", ctx_r2.database.assessed)(\"scaleId\", ctx_r2.database.scale)(\"userId\", ctx_r2.entry.userid);\n    }\n}\nfunction AddonModDataEntryPage_core_rating_aggregate_17_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"zc\" /* ɵɵelement */](0, \"core-rating-aggregate\", 19);\n    }\n    if (rf & 2) {\n        const ctx_r3 = core[\"Oc\" /* ɵɵnextContext */]();\n        core[\"Vc\" /* ɵɵproperty */](\"ratingInfo\", ctx_r3.ratingInfo)(\"instanceId\", ctx_r3.database.coursemodule)(\"itemId\", ctx_r3.entry.id)(\"courseId\", ctx_r3.courseId)(\"aggregateMethod\", ctx_r3.database.assessed)(\"scaleId\", ctx_r3.database.scale);\n    }\n}\nfunction AddonModDataEntryPage_core_comments_18_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r12 = core[\"Fc\" /* ɵɵgetCurrentView */]();\n        core[\"Ec\" /* ɵɵelementStart */](0, \"core-comments\", 20);\n        core[\"Mc\" /* ɵɵlistener */](\"onLoading\", function AddonModDataEntryPage_core_comments_18_Template_core_comments_onLoading_0_listener($event) { core[\"fd\" /* ɵɵrestoreView */](_r12); const ctx_r11 = core[\"Oc\" /* ɵɵnextContext */](); return ctx_r11.setLoadingComments($event); });\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r4 = core[\"Oc\" /* ɵɵnextContext */]();\n        core[\"Vc\" /* ɵɵproperty */](\"instanceId\", ctx_r4.database.coursemodule)(\"itemId\", ctx_r4.entry.id)(\"courseId\", ctx_r4.courseId)(\"showItem\", true);\n    }\n}\nfunction AddonModDataEntryPage_div_19_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r14 = core[\"Fc\" /* ɵɵgetCurrentView */]();\n        core[\"Ec\" /* ɵɵelementStart */](0, \"div\", 21);\n        core[\"Ec\" /* ɵɵelementStart */](1, \"ion-row\", 22);\n        core[\"Ec\" /* ɵɵelementStart */](2, \"ion-col\", 23);\n        core[\"Ec\" /* ɵɵelementStart */](3, \"ion-button\", 24);\n        core[\"Mc\" /* ɵɵlistener */](\"click\", function AddonModDataEntryPage_div_19_Template_ion_button_click_3_listener() { core[\"fd\" /* ɵɵrestoreView */](_r14); const ctx_r13 = core[\"Oc\" /* ɵɵnextContext */](); return ctx_r13.gotoEntry(ctx_r13.offset - 1); });\n        core[\"Pc\" /* ɵɵpipe */](4, \"translate\");\n        core[\"zc\" /* ɵɵelement */](5, \"ion-icon\", 25);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"zc\" /* ɵɵelement */](6, \"ion-col\", 26);\n        core[\"Ec\" /* ɵɵelementStart */](7, \"ion-col\", 27);\n        core[\"Ec\" /* ɵɵelementStart */](8, \"ion-button\", 24);\n        core[\"Mc\" /* ɵɵlistener */](\"click\", function AddonModDataEntryPage_div_19_Template_ion_button_click_8_listener() { core[\"fd\" /* ɵɵrestoreView */](_r14); const ctx_r15 = core[\"Oc\" /* ɵɵnextContext */](); return ctx_r15.gotoEntry(ctx_r15.offset + 1); });\n        core[\"Pc\" /* ɵɵpipe */](9, \"translate\");\n        core[\"zc\" /* ɵɵelement */](10, \"ion-icon\", 28);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r5 = core[\"Oc\" /* ɵɵnextContext */]();\n        core[\"lc\" /* ɵɵadvance */](3);\n        core[\"Vc\" /* ɵɵproperty */](\"disabled\", !ctx_r5.hasPrevious);\n        core[\"mc\" /* ɵɵattribute */](\"aria-label\", core[\"Qc\" /* ɵɵpipeBind1 */](4, 4, \"core.previous\"));\n        core[\"lc\" /* ɵɵadvance */](5);\n        core[\"Vc\" /* ɵɵproperty */](\"disabled\", !ctx_r5.hasNext);\n        core[\"mc\" /* ɵɵattribute */](\"aria-label\", core[\"Qc\" /* ɵɵpipeBind1 */](9, 6, \"core.next\"));\n    }\n}\n/**\n * Page that displays the view entry page.\n */\nlet entry_AddonModDataEntryPage = /*@__PURE__*/ (() => {\n    class AddonModDataEntryPage {\n        constructor(cdr) {\n            this.cdr = cdr;\n            this.fields = {};\n            this.fieldsArray = [];\n            this.logAfterFetch = true;\n            this.moduleId = 0;\n            this.title = '';\n            this.moduleName = 'data';\n            this.component = services_data[\"c\" /* AddonModDataProvider */].COMPONENT;\n            this.entryLoaded = false;\n            this.renderingEntry = false;\n            this.loadingComments = false;\n            this.loadingRating = false;\n            this.selectedGroup = 0;\n            this.hasPrevious = false;\n            this.hasNext = false;\n            this.showComments = false;\n            this.entryHtml = '';\n            this.extraImports = [components_compile_module[\"a\" /* AddonModDataComponentsCompileModule */]];\n            this.isPullingToRefresh = false; // Whether the last fetching of data was started by a pull-to-refresh action\n            this.commentsEnabled = false;\n            this.moduleName = course[\"a\" /* CoreCourse */].translateModuleName('data');\n            this.siteId = sites[\"b\" /* CoreSites */].getCurrentSiteId();\n            // Refresh data if this discussion is synchronized automatically.\n            this.syncObserver = events[\"b\" /* CoreEvents */].on(data_sync[\"b\" /* AddonModDataSyncProvider */].AUTO_SYNCED, (data) => {\n                var _a;\n                if (data.entryId === undefined) {\n                    return;\n                }\n                if ((data.entryId == this.entryId || data.offlineEntryId == this.entryId) && ((_a = this.database) === null || _a === void 0 ? void 0 : _a.id) == data.dataId) {\n                    if (data.deleted) {\n                        // If deleted, go back.\n                        services_navigator[\"a\" /* CoreNavigator */].back();\n                    }\n                    else {\n                        this.entryId = data.entryId;\n                        this.entryLoaded = false;\n                        this.fetchEntryData(true);\n                    }\n                }\n            }, this.siteId);\n            // Refresh entry on change.\n            this.entryChangedObserver = events[\"b\" /* CoreEvents */].on(services_data[\"c\" /* AddonModDataProvider */].ENTRY_CHANGED, (data) => {\n                var _a;\n                if (data.entryId == this.entryId && ((_a = this.database) === null || _a === void 0 ? void 0 : _a.id) == data.dataId) {\n                    if (data.deleted) {\n                        // If deleted, go back.\n                        services_navigator[\"a\" /* CoreNavigator */].back();\n                    }\n                    else {\n                        this.entryLoaded = false;\n                        this.fetchEntryData(true);\n                    }\n                }\n            }, this.siteId);\n        }\n        /**\n         * @inheritdoc\n         */\n        ngOnInit() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                try {\n                    this.moduleId = services_navigator[\"a\" /* CoreNavigator */].getRequiredRouteNumberParam('cmId');\n                    this.courseId = services_navigator[\"a\" /* CoreNavigator */].getRequiredRouteNumberParam('courseId');\n                    this.entryId = services_navigator[\"a\" /* CoreNavigator */].getRouteNumberParam('entryId') || undefined;\n                    this.title = services_navigator[\"a\" /* CoreNavigator */].getRouteParam('title') || '';\n                    this.selectedGroup = services_navigator[\"a\" /* CoreNavigator */].getRouteNumberParam('group') || 0;\n                    this.offset = services_navigator[\"a\" /* CoreNavigator */].getRouteNumberParam('offset');\n                }\n                catch (error) {\n                    dom[\"a\" /* CoreDomUtils */].showErrorModal(error);\n                    services_navigator[\"a\" /* CoreNavigator */].back();\n                    return;\n                }\n                this.commentsEnabled = !services_comments[\"a\" /* CoreComments */].areCommentsDisabledInSite();\n                yield this.fetchEntryData();\n            });\n        }\n        /**\n         * Fetch the entry data.\n         *\n         * @param refresh Whether to refresh the current data or not.\n         * @param isPtr Whether is a pull to refresh action.\n         * @return Resolved when done.\n         */\n        fetchEntryData(refresh = false, isPtr = false) {\n            var _a;\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                this.isPullingToRefresh = isPtr;\n                try {\n                    this.database = yield services_data[\"a\" /* AddonModData */].getDatabase(this.courseId, this.moduleId);\n                    this.title = this.database.name || this.title;\n                    this.fieldsArray = yield services_data[\"a\" /* AddonModData */].getFields(this.database.id, { cmId: this.moduleId });\n                    this.fields = utils[\"a\" /* CoreUtils */].arrayToObject(this.fieldsArray, 'id');\n                    yield this.setEntryFromOffset();\n                    this.access = yield services_data[\"a\" /* AddonModData */].getDatabaseAccessInformation(this.database.id, { cmId: this.moduleId });\n                    this.groupInfo = yield groups[\"a\" /* CoreGroups */].getActivityGroupInfo(this.database.coursemodule);\n                    if (this.groupInfo.visibleGroups && this.groupInfo.groups.length) {\n                        // There is a bug in Moodle with All participants and visible groups (MOBILE-3597). Remove it.\n                        this.groupInfo.groups = this.groupInfo.groups.filter(group => group.id !== 0);\n                        this.groupInfo.defaultGroupId = this.groupInfo.groups[0].id;\n                    }\n                    this.selectedGroup = groups[\"a\" /* CoreGroups */].validateGroupId(this.selectedGroup, this.groupInfo);\n                    const actions = data_helper[\"a\" /* AddonModDataHelper */].getActions(this.database, this.access, this.entry);\n                    const template = data_helper[\"a\" /* AddonModDataHelper */].getTemplate(this.database, services_data[\"e\" /* AddonModDataTemplateType */].SINGLE, this.fieldsArray);\n                    this.entryHtml = data_helper[\"a\" /* AddonModDataHelper */].displayShowFields(template, this.fieldsArray, this.entry, this.offset, services_data[\"d\" /* AddonModDataTemplateMode */].SHOW, actions);\n                    this.showComments = actions.comments;\n                    const entries = {};\n                    entries[this.entryId] = this.entry;\n                    // Pass the input data to the component.\n                    this.jsData = {\n                        fields: this.fields,\n                        entries: entries,\n                        database: this.database,\n                        title: this.title,\n                        group: this.selectedGroup,\n                    };\n                    if (this.logAfterFetch) {\n                        this.logAfterFetch = false;\n                        yield utils[\"a\" /* CoreUtils */].ignoreErrors(services_data[\"a\" /* AddonModData */].logView(this.database.id, this.database.name));\n                        // Store module viewed because this page also updates recent accessed items block.\n                        course[\"a\" /* CoreCourse */].storeModuleViewed(this.courseId, this.moduleId);\n                    }\n                }\n                catch (error) {\n                    if (!refresh) {\n                        // Some call failed, retry without using cache since it might be a new activity.\n                        return this.refreshAllData(isPtr);\n                    }\n                    dom[\"a\" /* CoreDomUtils */].showErrorModalDefault(error, 'core.course.errorgetmodule', true);\n                }\n                finally {\n                    (_a = this.content) === null || _a === void 0 ? void 0 : _a.scrollToTop();\n                    this.entryLoaded = true;\n                }\n            });\n        }\n        /**\n         * Go to selected entry without changing state.\n         *\n         * @param offset Entry offset.\n         * @return Resolved when done.\n         */\n        gotoEntry(offset) {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                this.offset = offset;\n                this.entryId = undefined;\n                this.entry = undefined;\n                this.entryLoaded = false;\n                this.logAfterFetch = true;\n                yield this.fetchEntryData();\n            });\n        }\n        /**\n         * Refresh all the data.\n         *\n         * @param isPtr Whether is a pull to refresh action.\n         * @return Promise resolved when done.\n         */\n        refreshAllData(isPtr) {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                const promises = [];\n                promises.push(services_data[\"a\" /* AddonModData */].invalidateDatabaseData(this.courseId));\n                if (this.database) {\n                    promises.push(services_data[\"a\" /* AddonModData */].invalidateEntryData(this.database.id, this.entryId));\n                    promises.push(groups[\"a\" /* CoreGroups */].invalidateActivityGroupInfo(this.database.coursemodule));\n                    promises.push(services_data[\"a\" /* AddonModData */].invalidateEntriesData(this.database.id));\n                    promises.push(services_data[\"a\" /* AddonModData */].invalidateFieldsData(this.database.id));\n                    if (this.database.comments && this.entry && this.entry.id > 0 && this.commentsEnabled && this.comments) {\n                        // Refresh comments. Don't add it to promises because we don't want the comments fetch to block the entry fetch.\n                        this.comments.doRefresh().catch(() => {\n                            // Ignore errors.\n                        });\n                    }\n                }\n                yield Promise.all(promises).finally(() => this.fetchEntryData(true, isPtr));\n            });\n        }\n        /**\n         * Refresh the data.\n         *\n         * @param refresher Refresher.\n         * @return Promise resolved when done.\n         */\n        refreshDatabase(refresher) {\n            if (!this.entryLoaded) {\n                return;\n            }\n            this.refreshAllData(true).finally(() => {\n                refresher === null || refresher === void 0 ? void 0 : refresher.complete();\n            });\n        }\n        /**\n         * Set group to see the database.\n         *\n         * @param groupId Group identifier to set.\n         * @return Resolved when done.\n         */\n        setGroup(groupId) {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                this.selectedGroup = groupId;\n                this.offset = undefined;\n                this.entry = undefined;\n                this.entryId = undefined;\n                this.entryLoaded = false;\n                this.logAfterFetch = true;\n                yield this.fetchEntryData();\n            });\n        }\n        /**\n         * Convenience function to fetch the entry and set next/previous entries.\n         *\n         * @return Resolved when done.\n         */\n        setEntryFromOffset() {\n            var _a, _b, _c;\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                if (this.offset === undefined && this.entryId !== undefined) {\n                    // Entry id passed as navigation parameter instead of the offset.\n                    // We don't display next/previous buttons in this case.\n                    this.hasNext = false;\n                    this.hasPrevious = false;\n                    const entry = yield data_helper[\"a\" /* AddonModDataHelper */].fetchEntry(this.database, this.fieldsArray, this.entryId);\n                    this.entry = entry.entry;\n                    this.ratingInfo = entry.ratinginfo;\n                    return;\n                }\n                const perPage = services_data[\"c\" /* AddonModDataProvider */].PER_PAGE;\n                const page = this.offset !== undefined && this.offset >= 0\n                    ? Math.floor(this.offset / perPage)\n                    : 0;\n                const entries = yield data_helper[\"a\" /* AddonModDataHelper */].fetchEntries(this.database, this.fieldsArray, {\n                    groupId: this.selectedGroup,\n                    sort: 0,\n                    order: 'DESC',\n                    page,\n                    perPage,\n                });\n                const pageEntries = (entries.offlineEntries || []).concat(entries.entries);\n                // Index of the entry when concatenating offline and online page entries.\n                let pageIndex = 0;\n                if (this.offset === undefined) {\n                    // No offset passed, display the first entry.\n                    pageIndex = 0;\n                }\n                else if (this.offset > 0) {\n                    // Online entry.\n                    pageIndex = this.offset % perPage + (((_a = entries.offlineEntries) === null || _a === void 0 ? void 0 : _a.length) || 0);\n                }\n                else {\n                    // Offline entry.\n                    pageIndex = this.offset + (((_b = entries.offlineEntries) === null || _b === void 0 ? void 0 : _b.length) || 0);\n                }\n                this.entry = pageEntries[pageIndex];\n                this.entryId = this.entry.id;\n                this.hasPrevious = page > 0 || pageIndex > 0;\n                if (pageIndex + 1 < pageEntries.length) {\n                    // Not the last entry on the page;\n                    this.hasNext = true;\n                }\n                else if (pageEntries.length < perPage) {\n                    // Last entry of the last page.\n                    this.hasNext = false;\n                }\n                else {\n                    // Last entry of the page, check if there are more pages.\n                    const entries = yield services_data[\"a\" /* AddonModData */].getEntries(this.database.id, {\n                        groupId: this.selectedGroup,\n                        page: page + 1,\n                        perPage: perPage,\n                    });\n                    this.hasNext = ((_c = entries === null || entries === void 0 ? void 0 : entries.entries) === null || _c === void 0 ? void 0 : _c.length) > 0;\n                }\n                if (this.entryId > 0) {\n                    // Online entry, we need to fetch the the rating info.\n                    const entry = yield services_data[\"a\" /* AddonModData */].getEntry(this.database.id, this.entryId, { cmId: this.moduleId });\n                    this.ratingInfo = entry.ratinginfo;\n                }\n            });\n        }\n        /**\n         * Function called when entry is being rendered.\n         */\n        setRenderingEntry(rendering) {\n            this.renderingEntry = rendering;\n            this.cdr.detectChanges();\n        }\n        /**\n         * Function called when comments component is loading data.\n         */\n        setLoadingComments(loading) {\n            this.loadingComments = loading;\n            this.cdr.detectChanges();\n        }\n        /**\n         * Function called when rate component is loading data.\n         */\n        setLoadingRating(loading) {\n            this.loadingRating = loading;\n            this.cdr.detectChanges();\n        }\n        /**\n         * Function called when rating is updated online.\n         */\n        ratingUpdated() {\n            services_data[\"a\" /* AddonModData */].invalidateEntryData(this.database.id, this.entryId);\n        }\n        /**\n         * Component being destroyed.\n         */\n        ngOnDestroy() {\n            var _a, _b;\n            (_a = this.syncObserver) === null || _a === void 0 ? void 0 : _a.off();\n            (_b = this.entryChangedObserver) === null || _b === void 0 ? void 0 : _b.off();\n        }\n    }\n    AddonModDataEntryPage.ɵfac = function AddonModDataEntryPage_Factory(t) { return new (t || AddonModDataEntryPage)(core[\"yc\" /* ɵɵdirectiveInject */](core[\"j\" /* ChangeDetectorRef */])); };\n    AddonModDataEntryPage.ɵcmp = core[\"sc\" /* ɵɵdefineComponent */]({ type: AddonModDataEntryPage, selectors: [[\"page-addon-mod-data-entry\"]], viewQuery: function AddonModDataEntryPage_Query(rf, ctx) {\n            if (rf & 1) {\n                core[\"ud\" /* ɵɵviewQuery */](ionic_angular[\"v\" /* IonContent */], true);\n                core[\"ud\" /* ɵɵviewQuery */](comments[\"a\" /* CoreCommentsCommentsComponent */], true);\n            }\n            if (rf & 2) {\n                var _t;\n                core[\"dd\" /* ɵɵqueryRefresh */](_t = core[\"Nc\" /* ɵɵloadQuery */]()) && (ctx.content = _t.first);\n                core[\"dd\" /* ɵɵqueryRefresh */](_t = core[\"Nc\" /* ɵɵloadQuery */]()) && (ctx.comments = _t.first);\n            }\n        }, decls: 20, vars: 19, consts: [[\"slot\", \"start\"], [3, \"text\"], [\"contextLevel\", \"module\", 3, \"text\", \"contextInstanceId\", \"courseId\"], [1, \"limited-width\"], [\"slot\", \"fixed\", 3, \"disabled\", \"ionRefresh\"], [3, \"pullingText\"], [3, \"hideUntil\"], [\"class\", \"core-warning-card\", 4, \"ngIf\"], [3, \"groupInfo\", \"selected\", \"selectedChange\"], [3, \"class\", 4, \"ngIf\"], [\"contextLevel\", \"module\", 3, \"ratingInfo\", \"instanceId\", \"itemId\", \"itemSetId\", \"courseId\", \"aggregateMethod\", \"scaleId\", \"userId\", \"onLoading\", \"onUpdate\", 4, \"ngIf\"], [\"contextLevel\", \"module\", 3, \"ratingInfo\", \"instanceId\", \"itemId\", \"courseId\", \"aggregateMethod\", \"scaleId\", 4, \"ngIf\"], [\"contextLevel\", \"module\", \"component\", \"mod_data\", \"area\", \"database_entry\", 3, \"instanceId\", \"itemId\", \"courseId\", \"showItem\", \"onLoading\", 4, \"ngIf\"], [\"collapsible-footer\", \"\", \"slot\", \"fixed\", \"appearOnBottom\", \"\", 4, \"ngIf\"], [1, \"core-warning-card\"], [\"name\", \"fas-exclamation-triangle\", \"slot\", \"start\", \"aria-hidden\", \"true\"], [3, \"css\", \"prefix\"], [3, \"text\", \"jsData\", \"extraImports\", \"compiling\"], [\"contextLevel\", \"module\", 3, \"ratingInfo\", \"instanceId\", \"itemId\", \"itemSetId\", \"courseId\", \"aggregateMethod\", \"scaleId\", \"userId\", \"onLoading\", \"onUpdate\"], [\"contextLevel\", \"module\", 3, \"ratingInfo\", \"instanceId\", \"itemId\", \"courseId\", \"aggregateMethod\", \"scaleId\"], [\"contextLevel\", \"module\", \"component\", \"mod_data\", \"area\", \"database_entry\", 3, \"instanceId\", \"itemId\", \"courseId\", \"showItem\", \"onLoading\"], [\"collapsible-footer\", \"\", \"slot\", \"fixed\", \"appearOnBottom\", \"\"], [1, \"ion-justify-content-between\", \"ion-align-items-center\", \"ion-no-padding\", \"ion-wrap\"], [\"size\", \"auto\", 1, \"ion-text-start\", \"ion-no-padding\", \"core-navigation-arrow\"], [\"fill\", \"clear\", 3, \"disabled\", \"click\"], [\"name\", \"fas-chevron-left\", \"slot\", \"icon-only\", \"aria-hidden\", \"true\"], [1, \"ion-text-center\"], [\"size\", \"auto\", 1, \"ion-text-end\", \"ion-no-padding\", \"core-navigation-arrow\"], [\"name\", \"fas-chevron-right\", \"slot\", \"icon-only\", \"aria-hidden\", \"true\"]], template: function AddonModDataEntryPage_Template(rf, ctx) {\n            if (rf & 1) {\n                core[\"Ec\" /* ɵɵelementStart */](0, \"ion-header\");\n                core[\"Ec\" /* ɵɵelementStart */](1, \"ion-toolbar\");\n                core[\"Ec\" /* ɵɵelementStart */](2, \"ion-buttons\", 0);\n                core[\"zc\" /* ɵɵelement */](3, \"ion-back-button\", 1);\n                core[\"Pc\" /* ɵɵpipe */](4, \"translate\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](5, \"ion-title\");\n                core[\"Ec\" /* ɵɵelementStart */](6, \"h1\");\n                core[\"zc\" /* ɵɵelement */](7, \"core-format-text\", 2);\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](8, \"ion-content\", 3);\n                core[\"Ec\" /* ɵɵelementStart */](9, \"ion-refresher\", 4);\n                core[\"Mc\" /* ɵɵlistener */](\"ionRefresh\", function AddonModDataEntryPage_Template_ion_refresher_ionRefresh_9_listener($event) { return ctx.refreshDatabase($event.target); });\n                core[\"zc\" /* ɵɵelement */](10, \"ion-refresher-content\", 5);\n                core[\"Pc\" /* ɵɵpipe */](11, \"translate\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](12, \"core-loading\", 6);\n                core[\"nd\" /* ɵɵtemplate */](13, AddonModDataEntryPage_ion_card_13_Template, 6, 6, \"ion-card\", 7);\n                core[\"Ec\" /* ɵɵelementStart */](14, \"core-group-selector\", 8);\n                core[\"Mc\" /* ɵɵlistener */](\"selectedChange\", function AddonModDataEntryPage_Template_core_group_selector_selectedChange_14_listener($event) { return ctx.selectedGroup = $event; })(\"selectedChange\", function AddonModDataEntryPage_Template_core_group_selector_selectedChange_14_listener() { return ctx.setGroup(ctx.selectedGroup); });\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"nd\" /* ɵɵtemplate */](15, AddonModDataEntryPage_div_15_Template, 3, 8, \"div\", 9);\n                core[\"nd\" /* ɵɵtemplate */](16, AddonModDataEntryPage_core_rating_rate_16_Template, 1, 8, \"core-rating-rate\", 10);\n                core[\"nd\" /* ɵɵtemplate */](17, AddonModDataEntryPage_core_rating_aggregate_17_Template, 1, 6, \"core-rating-aggregate\", 11);\n                core[\"nd\" /* ɵɵtemplate */](18, AddonModDataEntryPage_core_comments_18_Template, 1, 4, \"core-comments\", 12);\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"nd\" /* ɵɵtemplate */](19, AddonModDataEntryPage_div_19_Template, 11, 8, \"div\", 13);\n                core[\"Dc\" /* ɵɵelementEnd */]();\n            }\n            if (rf & 2) {\n                core[\"lc\" /* ɵɵadvance */](3);\n                core[\"Vc\" /* ɵɵproperty */](\"text\", core[\"Qc\" /* ɵɵpipeBind1 */](4, 15, \"core.back\"));\n                core[\"lc\" /* ɵɵadvance */](4);\n                core[\"Vc\" /* ɵɵproperty */](\"text\", ctx.title)(\"contextInstanceId\", ctx.moduleId)(\"courseId\", ctx.courseId);\n                core[\"lc\" /* ɵɵadvance */](2);\n                core[\"Vc\" /* ɵɵproperty */](\"disabled\", !ctx.entryLoaded || !(ctx.isPullingToRefresh || !ctx.renderingEntry && !ctx.loadingRating && !ctx.loadingComments));\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Wc\" /* ɵɵpropertyInterpolate */](\"pullingText\", core[\"Qc\" /* ɵɵpipeBind1 */](11, 17, \"core.pulltorefresh\"));\n                core[\"lc\" /* ɵɵadvance */](2);\n                core[\"Vc\" /* ɵɵproperty */](\"hideUntil\", ctx.entryLoaded && (ctx.isPullingToRefresh || !ctx.renderingEntry && !ctx.loadingRating && !ctx.loadingComments));\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx.entry && ctx.entry.hasOffline);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"groupInfo\", ctx.groupInfo)(\"selected\", ctx.selectedGroup);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx.database && ctx.entry);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx.database && ctx.entry && ctx.ratingInfo && (!ctx.database.approval || ctx.entry.approved));\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx.database && ctx.entry && ctx.ratingInfo);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx.database && ctx.database.comments && ctx.entry && ctx.entry.id > 0 && ctx.commentsEnabled);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx.entryLoaded && ctx.hasPrevious || ctx.hasNext);\n            }\n        }, directives: [ionic_angular[\"C\" /* IonHeader */], ionic_angular[\"Ab\" /* IonToolbar */], ionic_angular[\"m\" /* IonButtons */], ionic_angular[\"h\" /* IonBackButton */], ionic_angular[\"i\" /* IonBackButtonDelegate */], ionic_angular[\"yb\" /* IonTitle */], format_text[\"a\" /* CoreFormatTextDirective */], content[\"a\" /* CoreContentDirective */], ionic_angular[\"v\" /* IonContent */], ionic_angular[\"bb\" /* IonRefresher */], ionic_angular[\"cb\" /* IonRefresherContent */], loading[\"a\" /* CoreLoadingComponent */], common[\"t\" /* NgIf */], group_selector[\"a\" /* CoreGroupSelectorComponent */], ionic_angular[\"n\" /* IonCard */], ionic_angular[\"I\" /* IonItem */], ionic_angular[\"D\" /* IonIcon */], fa_icon[\"a\" /* CoreFaIconDirective */], ionic_angular[\"O\" /* IonLabel */], style[\"a\" /* CoreStyleComponent */], compile_html[\"a\" /* CoreCompileHtmlComponent */], rate[\"a\" /* CoreRatingRateComponent */], aggregate[\"a\" /* CoreRatingAggregateComponent */], comments[\"a\" /* CoreCommentsCommentsComponent */], collapsible_footer[\"a\" /* CoreCollapsibleFooterDirective */], ionic_angular[\"hb\" /* IonRow */], ionic_angular[\"u\" /* IonCol */], update_non_reactive_attributes[\"a\" /* CoreUpdateNonReactiveAttributesDirective */], ionic_angular[\"l\" /* IonButton */]], pipes: [ngx_translate_core[\"d\" /* TranslatePipe */]], styles: [\"[_nghost-%COMP%]{--border-color:var(--stroke)}.addon-data-contents[_ngcontent-%COMP%]{overflow:visible;white-space:normal;word-break:break-word;padding:16px;background-color:var(--ion-item-background);border-bottom:1px solid var(--border-color)}.addon-data-contents[_ngcontent-%COMP%]     table, .addon-data-contents[_ngcontent-%COMP%]     tbody{display:block}.addon-data-contents[_ngcontent-%COMP%]     tr{display:flex;flex-wrap:wrap;padding:0}@media (max-width:575.98px){.addon-data-contents[_ngcontent-%COMP%]     tr{flex-direction:column}}.addon-data-contents[_ngcontent-%COMP%]     td, .addon-data-contents[_ngcontent-%COMP%]     th{padding:var(--ion-grid-column-padding-xs,var(--ion-grid-column-padding,5px));margin:0;box-sizing:border-box;position:relative;flex-basis:0;flex-grow:1;width:100%;max-width:100%;min-height:auto}@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){.addon-data-contents[_ngcontent-%COMP%]     td, .addon-data-contents[_ngcontent-%COMP%]     th{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-grid-column-padding-xs,var(--ion-grid-column-padding,5px));padding-inline-start:var(--ion-grid-column-padding-xs,var(--ion-grid-column-padding,5px));-webkit-padding-end:var(--ion-grid-column-padding-xs,var(--ion-grid-column-padding,5px));padding-inline-end:var(--ion-grid-column-padding-xs,var(--ion-grid-column-padding,5px))}}@media (min-width:576px){.addon-data-contents[_ngcontent-%COMP%]     td, .addon-data-contents[_ngcontent-%COMP%]     th{padding:var(--ion-grid-column-padding-sm,var(--ion-grid-column-padding,5px))}@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){.addon-data-contents[_ngcontent-%COMP%]     td, .addon-data-contents[_ngcontent-%COMP%]     th{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-grid-column-padding-sm,var(--ion-grid-column-padding,5px));padding-inline-start:var(--ion-grid-column-padding-sm,var(--ion-grid-column-padding,5px));-webkit-padding-end:var(--ion-grid-column-padding-sm,var(--ion-grid-column-padding,5px));padding-inline-end:var(--ion-grid-column-padding-sm,var(--ion-grid-column-padding,5px))}}}@media (min-width:768px){.addon-data-contents[_ngcontent-%COMP%]     td, .addon-data-contents[_ngcontent-%COMP%]     th{padding:var(--ion-grid-column-padding-md,var(--ion-grid-column-padding,5px))}@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){.addon-data-contents[_ngcontent-%COMP%]     td, .addon-data-contents[_ngcontent-%COMP%]     th{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-grid-column-padding-md,var(--ion-grid-column-padding,5px));padding-inline-start:var(--ion-grid-column-padding-md,var(--ion-grid-column-padding,5px));-webkit-padding-end:var(--ion-grid-column-padding-md,var(--ion-grid-column-padding,5px));padding-inline-end:var(--ion-grid-column-padding-md,var(--ion-grid-column-padding,5px))}}}@media (min-width:992px){.addon-data-contents[_ngcontent-%COMP%]     td, .addon-data-contents[_ngcontent-%COMP%]     th{padding:var(--ion-grid-column-padding-lg,var(--ion-grid-column-padding,5px))}@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){.addon-data-contents[_ngcontent-%COMP%]     td, .addon-data-contents[_ngcontent-%COMP%]     th{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-grid-column-padding-lg,var(--ion-grid-column-padding,5px));padding-inline-start:var(--ion-grid-column-padding-lg,var(--ion-grid-column-padding,5px));-webkit-padding-end:var(--ion-grid-column-padding-lg,var(--ion-grid-column-padding,5px));padding-inline-end:var(--ion-grid-column-padding-lg,var(--ion-grid-column-padding,5px))}}}@media (min-width:1200px){.addon-data-contents[_ngcontent-%COMP%]     td, .addon-data-contents[_ngcontent-%COMP%]     th{padding:var(--ion-grid-column-padding-xl,var(--ion-grid-column-padding,5px))}@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){.addon-data-contents[_ngcontent-%COMP%]     td, .addon-data-contents[_ngcontent-%COMP%]     th{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-grid-column-padding-xl,var(--ion-grid-column-padding,5px));padding-inline-start:var(--ion-grid-column-padding-xl,var(--ion-grid-column-padding,5px));-webkit-padding-end:var(--ion-grid-column-padding-xl,var(--ion-grid-column-padding,5px));padding-inline-end:var(--ion-grid-column-padding-xl,var(--ion-grid-column-padding,5px))}}}.addon-data-contents[_ngcontent-%COMP%]     address, .addon-data-contents[_ngcontent-%COMP%]     article, .addon-data-contents[_ngcontent-%COMP%]     aside, .addon-data-contents[_ngcontent-%COMP%]     blockquote, .addon-data-contents[_ngcontent-%COMP%]     canvas, .addon-data-contents[_ngcontent-%COMP%]     dd, .addon-data-contents[_ngcontent-%COMP%]     div, .addon-data-contents[_ngcontent-%COMP%]     dl, .addon-data-contents[_ngcontent-%COMP%]     dt, .addon-data-contents[_ngcontent-%COMP%]     fieldset, .addon-data-contents[_ngcontent-%COMP%]     figcaption, .addon-data-contents[_ngcontent-%COMP%]     figure, .addon-data-contents[_ngcontent-%COMP%]     footer, .addon-data-contents[_ngcontent-%COMP%]     form, .addon-data-contents[_ngcontent-%COMP%]     h1, .addon-data-contents[_ngcontent-%COMP%]     h2, .addon-data-contents[_ngcontent-%COMP%]     h3, .addon-data-contents[_ngcontent-%COMP%]     h4, .addon-data-contents[_ngcontent-%COMP%]     h5, .addon-data-contents[_ngcontent-%COMP%]     h6, .addon-data-contents[_ngcontent-%COMP%]     header, .addon-data-contents[_ngcontent-%COMP%]     li, .addon-data-contents[_ngcontent-%COMP%]     main, .addon-data-contents[_ngcontent-%COMP%]     nav, .addon-data-contents[_ngcontent-%COMP%]     noscript, .addon-data-contents[_ngcontent-%COMP%]     ol, .addon-data-contents[_ngcontent-%COMP%]     p, .addon-data-contents[_ngcontent-%COMP%]     pre, .addon-data-contents[_ngcontent-%COMP%]     section, .addon-data-contents[_ngcontent-%COMP%]     table, .addon-data-contents[_ngcontent-%COMP%]     tfoot, .addon-data-contents[_ngcontent-%COMP%]     ul, .addon-data-contents[_ngcontent-%COMP%]     video{width:auto!important;height:auto!important;min-width:auto!important;min-height:auto!important;max-height:none!important}.addon-data-contents[_ngcontent-%COMP%]     hr{border-top:1px solid var(--stroke)}\"] });\n    return AddonModDataEntryPage;\n})();\n\n// EXTERNAL MODULE: ./src/core/features/course/classes/main-activity-page.ts\nvar main_activity_page = __webpack_require__(\"ghUQ\");\n\n// EXTERNAL MODULE: ./src/addons/mod/data/components/index/index.ts\nvar index = __webpack_require__(\"DHaU\");\n\n// EXTERNAL MODULE: ./src/core/directives/collapsible-header.ts\nvar collapsible_header = __webpack_require__(\"4JiN\");\n\n// CONCATENATED MODULE: ./src/addons/mod/data/pages/index/index.ts\n// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n\n\n\n\n\n\n\n/**\n * Page that displays a data.\n */\nlet index_AddonModDataIndexPage = /*@__PURE__*/ (() => {\n    class AddonModDataIndexPage extends main_activity_page[\"a\" /* CoreCourseModuleMainActivityPage */] {\n        constructor() {\n            super(...arguments);\n            this.group = 0;\n        }\n        /**\n         * Component being initialized.\n         */\n        ngOnInit() {\n            super.ngOnInit();\n            this.group = services_navigator[\"a\" /* CoreNavigator */].getRouteNumberParam('group') || 0;\n        }\n    }\n    AddonModDataIndexPage.ɵfac = function AddonModDataIndexPage_Factory(t) { return ɵAddonModDataIndexPage_BaseFactory(t || AddonModDataIndexPage); };\n    AddonModDataIndexPage.ɵcmp = core[\"sc\" /* ɵɵdefineComponent */]({ type: AddonModDataIndexPage, selectors: [[\"page-addon-mod-data-index\"]], viewQuery: function AddonModDataIndexPage_Query(rf, ctx) {\n            if (rf & 1) {\n                core[\"ud\" /* ɵɵviewQuery */](index[\"a\" /* AddonModDataIndexComponent */], true);\n            }\n            if (rf & 2) {\n                var _t;\n                core[\"dd\" /* ɵɵqueryRefresh */](_t = core[\"Nc\" /* ɵɵloadQuery */]()) && (ctx.activityComponent = _t.first);\n            }\n        }, features: [core[\"ic\" /* ɵɵInheritDefinitionFeature */]], decls: 14, vars: 13, consts: [[\"collapsible\", \"\"], [\"slot\", \"start\"], [3, \"text\"], [\"contextLevel\", \"module\", 3, \"text\", \"contextInstanceId\", \"courseId\"], [\"slot\", \"end\"], [1, \"limited-width\"], [\"slot\", \"fixed\", 3, \"disabled\", \"ionRefresh\"], [3, \"pullingText\"], [3, \"module\", \"courseId\", \"group\", \"dataRetrieved\"]], template: function AddonModDataIndexPage_Template(rf, ctx) {\n            if (rf & 1) {\n                core[\"Ec\" /* ɵɵelementStart */](0, \"ion-header\", 0);\n                core[\"Ec\" /* ɵɵelementStart */](1, \"ion-toolbar\");\n                core[\"Ec\" /* ɵɵelementStart */](2, \"ion-buttons\", 1);\n                core[\"zc\" /* ɵɵelement */](3, \"ion-back-button\", 2);\n                core[\"Pc\" /* ɵɵpipe */](4, \"translate\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](5, \"ion-title\");\n                core[\"Ec\" /* ɵɵelementStart */](6, \"h1\");\n                core[\"zc\" /* ɵɵelement */](7, \"core-format-text\", 3);\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"zc\" /* ɵɵelement */](8, \"ion-buttons\", 4);\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](9, \"ion-content\", 5);\n                core[\"Ec\" /* ɵɵelementStart */](10, \"ion-refresher\", 6);\n                core[\"Mc\" /* ɵɵlistener */](\"ionRefresh\", function AddonModDataIndexPage_Template_ion_refresher_ionRefresh_10_listener($event) { return ctx.activityComponent == null ? null : ctx.activityComponent.doRefresh($event.target); });\n                core[\"zc\" /* ɵɵelement */](11, \"ion-refresher-content\", 7);\n                core[\"Pc\" /* ɵɵpipe */](12, \"translate\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](13, \"addon-mod-data-index\", 8);\n                core[\"Mc\" /* ɵɵlistener */](\"dataRetrieved\", function AddonModDataIndexPage_Template_addon_mod_data_index_dataRetrieved_13_listener($event) { return ctx.updateData($event); });\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n            }\n            if (rf & 2) {\n                core[\"lc\" /* ɵɵadvance */](3);\n                core[\"Vc\" /* ɵɵproperty */](\"text\", core[\"Qc\" /* ɵɵpipeBind1 */](4, 9, \"core.back\"));\n                core[\"lc\" /* ɵɵadvance */](4);\n                core[\"Vc\" /* ɵɵproperty */](\"text\", ctx.title)(\"contextInstanceId\", ctx.module.id)(\"courseId\", ctx.courseId);\n                core[\"lc\" /* ɵɵadvance */](3);\n                core[\"Vc\" /* ɵɵproperty */](\"disabled\", ctx.activityComponent == null ? null : ctx.activityComponent.showLoading);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Wc\" /* ɵɵpropertyInterpolate */](\"pullingText\", core[\"Qc\" /* ɵɵpipeBind1 */](12, 11, \"core.pulltorefresh\"));\n                core[\"lc\" /* ɵɵadvance */](2);\n                core[\"Vc\" /* ɵɵproperty */](\"module\", ctx.module)(\"courseId\", ctx.courseId)(\"group\", ctx.group);\n            }\n        }, directives: [ionic_angular[\"C\" /* IonHeader */], collapsible_header[\"b\" /* CoreCollapsibleHeaderDirective */], ionic_angular[\"Ab\" /* IonToolbar */], ionic_angular[\"m\" /* IonButtons */], ionic_angular[\"h\" /* IonBackButton */], ionic_angular[\"i\" /* IonBackButtonDelegate */], ionic_angular[\"yb\" /* IonTitle */], format_text[\"a\" /* CoreFormatTextDirective */], content[\"a\" /* CoreContentDirective */], ionic_angular[\"v\" /* IonContent */], ionic_angular[\"bb\" /* IonRefresher */], ionic_angular[\"cb\" /* IonRefresherContent */], index[\"a\" /* AddonModDataIndexComponent */]], pipes: [ngx_translate_core[\"d\" /* TranslatePipe */]], encapsulation: 2 });\n    return AddonModDataIndexPage;\n})();\nconst ɵAddonModDataIndexPage_BaseFactory = /*@__PURE__*/ core[\"Gc\" /* ɵɵgetInheritedFactory */](index_AddonModDataIndexPage);\n\n// CONCATENATED MODULE: ./src/addons/mod/data/data-lazy.module.ts\n// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst routes = [\n    {\n        path: ':courseId/:cmId',\n        component: index_AddonModDataIndexPage,\n    },\n    {\n        path: ':courseId/:cmId/edit',\n        component: edit_AddonModDataEditPage,\n        canDeactivate: [can_leave[\"a\" /* CanLeaveGuard */]],\n    },\n    {\n        path: ':courseId/:cmId/edit/:entryId',\n        component: edit_AddonModDataEditPage,\n        canDeactivate: [can_leave[\"a\" /* CanLeaveGuard */]],\n    },\n    {\n        path: ':courseId/:cmId/:entryId',\n        component: entry_AddonModDataEntryPage,\n    },\n];\nlet data_lazy_module_AddonModDataLazyModule = /*@__PURE__*/ (() => {\n    class AddonModDataLazyModule {\n    }\n    AddonModDataLazyModule.ɵmod = core[\"wc\" /* ɵɵdefineNgModule */]({ type: AddonModDataLazyModule });\n    AddonModDataLazyModule.ɵinj = core[\"vc\" /* ɵɵdefineInjector */]({ factory: function AddonModDataLazyModule_Factory(t) { return new (t || AddonModDataLazyModule)(); }, imports: [[\n                router[\"m\" /* RouterModule */].forChild(routes),\n                shared_module[\"a\" /* CoreSharedModule */],\n                data_components_components_module[\"a\" /* AddonModDataComponentsModule */],\n                components_compile_module[\"a\" /* AddonModDataComponentsCompileModule */],\n                components_module[\"a\" /* CoreCommentsComponentsModule */],\n                components_components_module[\"a\" /* CoreRatingComponentsModule */],\n                compile_html_module[\"a\" /* CoreCompileHtmlComponentModule */],\n            ]] });\n    return AddonModDataLazyModule;\n})();\n(function () {\n    (typeof ngJitMode === \"undefined\" || ngJitMode) && core[\"kd\" /* ɵɵsetNgModuleScope */](data_lazy_module_AddonModDataLazyModule, { declarations: [index_AddonModDataIndexPage,\n            entry_AddonModDataEntryPage,\n            edit_AddonModDataEditPage], imports: [router[\"m\" /* RouterModule */], shared_module[\"a\" /* CoreSharedModule */],\n            data_components_components_module[\"a\" /* AddonModDataComponentsModule */],\n            components_compile_module[\"a\" /* AddonModDataComponentsCompileModule */],\n            components_module[\"a\" /* CoreCommentsComponentsModule */],\n            components_components_module[\"a\" /* CoreRatingComponentsModule */],\n            compile_html_module[\"a\" /* CoreCompileHtmlComponentModule */]] });\n})();\n\n\n/***/ })\n\n}]);","inputSourceMap":null}