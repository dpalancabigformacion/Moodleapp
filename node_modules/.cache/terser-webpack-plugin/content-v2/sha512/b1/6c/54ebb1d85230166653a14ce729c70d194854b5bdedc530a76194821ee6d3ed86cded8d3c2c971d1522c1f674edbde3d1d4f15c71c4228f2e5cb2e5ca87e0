{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[119],{OQUD:function(n,t,e){\"use strict\";e.r(t),e.d(t,\"CoreSettingsSynchronizationPageModule\",(function(){return L}));var i=e(\"tyNb\"),o=e(\"L3Fv\"),c=e(\"mrSG\"),a=e(\"BaYo\"),r=e(\"fjkH\"),s=e(\"9+EE\"),_=e(\"3LXp\"),l=e(\"BBqZ\"),g=e(\"1gmh\"),d=e(\"j3ag\"),S=e(\"mv9v\"),u=e(\"GGba\"),m=e(\"pHTc\"),h=e(\"fXoL\"),p=e(\"TEn/\"),f=e(\"ACV2\"),y=e(\"ACYt\"),C=e(\"3CSS\"),P=e(\"nt/U\"),z=e(\"PgjG\"),O=e(\"3Pt+\"),b=e(\"ofXK\"),T=e(\"hMzs\"),D=e(\"iSJP\"),E=e(\"NcPy\"),v=e(\"3zv0\"),I=e(\"sYmb\");function CoreSettingsSynchronizationPage_ion_card_28_ng_container_4_Template(n,t){1&n&&(h.Cc(0),h.pd(1),h.Pc(2,\"translate\"),h.Bc()),2&n&&(h.lc(1),h.rd(\" \",h.Qc(2,1,\"core.settings.connectwifitosync\"),\"\"))}function CoreSettingsSynchronizationPage_ion_card_28_ng_container_5_Template(n,t){1&n&&(h.Cc(0),h.pd(1),h.Pc(2,\"translate\"),h.Bc()),2&n&&(h.lc(1),h.qd(h.Qc(2,1,\"core.settings.connecttosync\")))}function CoreSettingsSynchronizationPage_ion_card_28_Template(n,t){if(1&n&&(h.Ec(0,\"ion-card\",14),h.Ec(1,\"ion-item\",8),h.zc(2,\"ion-icon\",15),h.Ec(3,\"ion-label\"),h.nd(4,CoreSettingsSynchronizationPage_ion_card_28_ng_container_4_Template,3,3,\"ng-container\",12),h.nd(5,CoreSettingsSynchronizationPage_ion_card_28_ng_container_5_Template,3,3,\"ng-container\",12),h.Dc(),h.Dc(),h.Dc()),2&n){const n=h.Oc();h.lc(4),h.Vc(\"ngIf\",n.isOnline&&n.dataSaver&&n.limitedConnection),h.lc(1),h.Vc(\"ngIf\",!n.isOnline)}}function CoreSettingsSynchronizationPage_ng_container_29_ion_card_6_ng_container_9_Template(n,t){1&n&&h.Ac(0)}function CoreSettingsSynchronizationPage_ng_container_29_ion_card_6_ion_item_10_ng_container_1_Template(n,t){1&n&&h.Ac(0)}const _c0=function(n){return{site:n}};function CoreSettingsSynchronizationPage_ng_container_29_ion_card_6_ion_item_10_Template(n,t){if(1&n&&(h.Ec(0,\"ion-item\"),h.nd(1,CoreSettingsSynchronizationPage_ng_container_29_ion_card_6_ion_item_10_ng_container_1_Template,1,0,\"ng-container\",21),h.Dc()),2&n){const n=t.$implicit;h.Oc(3);const e=h.ed(31);h.lc(1),h.Vc(\"ngTemplateOutlet\",e)(\"ngTemplateOutletContext\",h.ad(2,_c0,n))}}function CoreSettingsSynchronizationPage_ng_container_29_ion_card_6_Template(n,t){if(1&n&&(h.Ec(0,\"ion-card\"),h.Ec(1,\"ion-item-divider\",17),h.Ec(2,\"ion-label\"),h.Ec(3,\"p\",9),h.zc(4,\"core-format-text\",18),h.Dc(),h.Ec(5,\"p\"),h.Ec(6,\"a\",19),h.pd(7),h.Dc(),h.Dc(),h.Dc(),h.Dc(),h.Ec(8,\"ion-item\",20),h.nd(9,CoreSettingsSynchronizationPage_ng_container_29_ion_card_6_ng_container_9_Template,1,0,\"ng-container\",21),h.Dc(),h.nd(10,CoreSettingsSynchronizationPage_ng_container_29_ion_card_6_ion_item_10_Template,2,4,\"ion-item\",16),h.Dc()),2&n){const n=h.Oc(2),t=h.ed(31);h.lc(4),h.Vc(\"text\",n.accountsList.currentSite.siteName)(\"siteId\",n.accountsList.currentSite.id),h.lc(2),h.Vc(\"href\",n.accountsList.currentSite.siteUrl,h.id),h.lc(1),h.qd(n.accountsList.currentSite.siteUrlWithoutProtocol),h.lc(2),h.Vc(\"ngTemplateOutlet\",t)(\"ngTemplateOutletContext\",h.ad(7,_c0,n.accountsList.currentSite)),h.lc(1),h.Vc(\"ngForOf\",n.accountsList.sameSite)}}function CoreSettingsSynchronizationPage_ng_container_29_ion_card_7_ion_item_divider_1_Template(n,t){if(1&n&&(h.Ec(0,\"ion-item-divider\",17),h.Ec(1,\"ion-label\"),h.Ec(2,\"p\",9),h.zc(3,\"core-format-text\",18),h.Dc(),h.Ec(4,\"p\"),h.Ec(5,\"a\",23),h.pd(6),h.Dc(),h.Dc(),h.Dc(),h.Dc()),2&n){const n=h.Oc().$implicit;h.lc(3),h.Vc(\"text\",n[0].siteName)(\"siteId\",n[0].id),h.lc(2),h.Vc(\"href\",n[0].siteUrl,h.id),h.lc(1),h.qd(n[0].siteUrlWithoutProtocol)}}function CoreSettingsSynchronizationPage_ng_container_29_ion_card_7_ion_item_2_ng_container_1_Template(n,t){1&n&&h.Ac(0)}function CoreSettingsSynchronizationPage_ng_container_29_ion_card_7_ion_item_2_Template(n,t){if(1&n&&(h.Ec(0,\"ion-item\"),h.nd(1,CoreSettingsSynchronizationPage_ng_container_29_ion_card_7_ion_item_2_ng_container_1_Template,1,0,\"ng-container\",21),h.Dc()),2&n){const n=t.$implicit;h.Oc(3);const e=h.ed(31);h.lc(1),h.Vc(\"ngTemplateOutlet\",e)(\"ngTemplateOutletContext\",h.ad(2,_c0,n))}}function CoreSettingsSynchronizationPage_ng_container_29_ion_card_7_Template(n,t){if(1&n&&(h.Ec(0,\"ion-card\"),h.nd(1,CoreSettingsSynchronizationPage_ng_container_29_ion_card_7_ion_item_divider_1_Template,7,4,\"ion-item-divider\",22),h.nd(2,CoreSettingsSynchronizationPage_ng_container_29_ion_card_7_ion_item_2_Template,2,4,\"ion-item\",16),h.Dc()),2&n){const n=t.$implicit;h.lc(1),h.Vc(\"ngIf\",n[0]),h.lc(1),h.Vc(\"ngForOf\",n)}}function CoreSettingsSynchronizationPage_ng_container_29_Template(n,t){if(1&n&&(h.Cc(0),h.Ec(1,\"ion-item-divider\"),h.Ec(2,\"ion-label\"),h.Ec(3,\"h2\"),h.pd(4),h.Pc(5,\"translate\"),h.Dc(),h.Dc(),h.Dc(),h.nd(6,CoreSettingsSynchronizationPage_ng_container_29_ion_card_6_Template,11,9,\"ion-card\",12),h.nd(7,CoreSettingsSynchronizationPage_ng_container_29_ion_card_7_Template,3,2,\"ion-card\",16),h.Bc()),2&n){const n=h.Oc();h.lc(4),h.qd(h.Qc(5,3,\"core.accounts\")),h.lc(2),h.Vc(\"ngIf\",n.accountsList.currentSite),h.lc(1),h.Vc(\"ngForOf\",n.accountsList.otherSites)}}function CoreSettingsSynchronizationPage_ng_template_30_p_6_Template(n,t){1&n&&(h.Ec(0,\"p\",28),h.pd(1),h.Pc(2,\"translate\"),h.Dc()),2&n&&(h.lc(1),h.qd(h.Qc(2,1,\"core.settings.logintosync\")))}function CoreSettingsSynchronizationPage_ng_template_30_core_button_with_spinner_7_Template(n,t){if(1&n){const n=h.Fc();h.Ec(0,\"core-button-with-spinner\",29),h.Ec(1,\"ion-button\",30),h.Mc(\"click\",(function CoreSettingsSynchronizationPage_ng_template_30_core_button_with_spinner_7_Template_ion_button_click_1_listener(){h.fd(n);const t=h.Oc().site;return h.Oc().synchronize(t.id)})),h.Pc(2,\"translate\"),h.zc(3,\"ion-icon\",31),h.Dc(),h.Dc()}if(2&n){const n=h.Oc().site,t=h.Oc();h.Vc(\"loading\",t.isSynchronizing(n.id)),h.lc(1),h.mc(\"aria-label\",h.Qc(2,2,\"core.settings.synchronizenow\"))}}function CoreSettingsSynchronizationPage_ng_template_30_ion_button_8_Template(n,t){if(1&n){const n=h.Fc();h.Ec(0,\"ion-button\",32),h.Mc(\"click\",(function CoreSettingsSynchronizationPage_ng_template_30_ion_button_8_Template_ion_button_click_0_listener(){h.fd(n);const t=h.Oc().site;return h.Oc().login(t.id)})),h.Pc(1,\"translate\"),h.zc(2,\"ion-icon\",33),h.Dc()}2&n&&h.mc(\"aria-label\",h.Qc(1,1,\"core.login.login\"))}const _c1=function(n){return{$a:n}};function CoreSettingsSynchronizationPage_ng_template_30_Template(n,t){if(1&n&&(h.Ec(0,\"ion-avatar\",0),h.zc(1,\"img\",24),h.Pc(2,\"translate\"),h.Dc(),h.Ec(3,\"ion-label\"),h.Ec(4,\"p\",9),h.pd(5),h.Dc(),h.nd(6,CoreSettingsSynchronizationPage_ng_template_30_p_6_Template,3,3,\"p\",25),h.Dc(),h.nd(7,CoreSettingsSynchronizationPage_ng_template_30_core_button_with_spinner_7_Template,4,4,\"core-button-with-spinner\",26),h.nd(8,CoreSettingsSynchronizationPage_ng_template_30_ion_button_8_Template,3,3,\"ion-button\",27)),2&n){const n=t.site;h.lc(1),h.Wc(\"alt\",h.Rc(2,7,\"core.pictureof\",h.ad(10,_c1,n.fullName))),h.Vc(\"src\",n.avatar,h.id)(\"siteId\",n.id),h.lc(4),h.qd(n.fullName),h.lc(1),h.Vc(\"ngIf\",n.loggedOut),h.lc(1),h.Vc(\"ngIf\",!n.loggedOut),h.lc(1),h.Vc(\"ngIf\",n.loggedOut)}}let w=(()=>{class CoreSettingsSynchronizationPage{constructor(){this.accountsList={sameSite:[],otherSites:[],count:0},this.sitesLoaded=!1,this.dataSaver=!1,this.limitedConnection=!1,this.isOnline=!0,this.isDestroyed=!1,this.sitesObserver=r.b.on(r.b.SITE_UPDATED,(n=>Object(c.a)(this,void 0,void 0,(function*(){var t;const e=n.siteId;let i=e===(null===(t=this.accountsList.currentSite)||void 0===t?void 0:t.id)?this.accountsList.currentSite:void 0;if(i||(i=this.accountsList.sameSite.find((n=>n.id===e))),i||this.accountsList.otherSites.some((n=>(i=n.find((n=>n.id===e)),i))),!i)return;const o=yield s.b.getSite(e),c=o.getInfo();i.siteName=o.getSiteName(),c&&(i.siteUrl=c.siteurl,i.fullName=c.fullname)})))),this.isOnline=u.a.isOnline(),this.limitedConnection=this.isOnline&&u.a.isNetworkAccessLimited(),this.networkObserver=u.a.onChange().subscribe((()=>{d.A.run((()=>{this.isOnline=u.a.isOnline(),this.limitedConnection=this.isOnline&&u.a.isNetworkAccessLimited()}))}))}ngOnInit(){return Object(c.a)(this,void 0,void 0,(function*(){const n=s.b.getCurrentSiteId();try{this.accountsList=yield S.a.getAccountsList(n)}catch(n){}this.sitesLoaded=!0,this.dataSaver=yield l.a.get(a.a.SETTINGS_SYNC_ONLY_ON_WIFI,!0)}))}syncOnlyOnWifiChanged(){l.a.set(a.a.SETTINGS_SYNC_ONLY_ON_WIFI,this.dataSaver?1:0)}synchronize(n){return Object(c.a)(this,void 0,void 0,(function*(){try{yield g.a.synchronizeSite(!1,n)}catch(n){if(this.isDestroyed)return;_.a.showErrorModalDefault(n,\"core.settings.sitesyncfailed\",!0)}}))}login(n){return Object(c.a)(this,void 0,void 0,(function*(){yield m.a.navigateToSiteHome({preferCurrentTab:!1,siteId:n})}))}isSynchronizing(n){return!!g.a.getSiteSyncPromise(n)}showInfo(){_.a.showAlert(d.J.instant(\"core.help\"),d.J.instant(\"core.settings.synchronizenowhelp\"))}ngOnDestroy(){this.isDestroyed=!0,this.sitesObserver.off(),this.networkObserver.unsubscribe()}}return CoreSettingsSynchronizationPage.ɵfac=function CoreSettingsSynchronizationPage_Factory(n){return new(n||CoreSettingsSynchronizationPage)},CoreSettingsSynchronizationPage.ɵcmp=h.sc({type:CoreSettingsSynchronizationPage,selectors:[[\"page-core-app-settings-synchronization\"]],decls:32,vars:19,consts:[[\"slot\",\"start\"],[3,\"text\"],[\"slot\",\"end\"],[3,\"click\"],[\"name\",\"fas-info-circle\",\"slot\",\"icon-only\",\"aria-hidden\",\"true\"],[1,\"limited-width\"],[3,\"hideUntil\"],[1,\"core-sitelist\",\"limited-width\"],[1,\"ion-text-wrap\"],[1,\"item-heading\"],[\"slot\",\"end\",3,\"ngModel\",\"ngModelChange\"],[\"class\",\"core-warning-card\",4,\"ngIf\"],[4,\"ngIf\"],[\"siteSync\",\"\"],[1,\"core-warning-card\"],[\"name\",\"fas-exclamation-triangle\",\"slot\",\"start\",\"aria-hidden\",\"true\"],[4,\"ngFor\",\"ngForOf\"],[\"sticky\",\"true\",1,\"core-sitelist-sitename\"],[\"clean\",\"true\",3,\"text\",\"siteId\"],[\"core-link\",\"\",\"autoLogin\",\"yes\",3,\"href\"],[1,\"item-current\"],[4,\"ngTemplateOutlet\",\"ngTemplateOutletContext\"],[\"sticky\",\"true\",\"class\",\"core-sitelist-sitename\",4,\"ngIf\"],[\"core-link\",\"\",\"autoLogin\",\"no\",3,\"href\"],[\"core-external-content\",\"\",\"onError\",\"this.src='assets/img/user-avatar.png'\",3,\"src\",\"siteId\",\"alt\"],[\"class\",\"text-danger\",4,\"ngIf\"],[\"slot\",\"end\",3,\"loading\",4,\"ngIf\"],[\"fill\",\"clear\",\"slot\",\"end\",3,\"click\",4,\"ngIf\"],[1,\"text-danger\"],[\"slot\",\"end\",3,\"loading\"],[\"fill\",\"clear\",3,\"click\"],[\"name\",\"fas-sync-alt\",\"slot\",\"icon-only\",\"aria-hidden\",\"true\"],[\"fill\",\"clear\",\"slot\",\"end\",3,\"click\"],[\"name\",\"fas-sign-in-alt\",\"slot\",\"icon-only\",\"aria-hidden\",\"true\"]],template:function CoreSettingsSynchronizationPage_Template(n,t){1&n&&(h.Ec(0,\"ion-header\"),h.Ec(1,\"ion-toolbar\"),h.Ec(2,\"ion-buttons\",0),h.zc(3,\"ion-back-button\",1),h.Pc(4,\"translate\"),h.Dc(),h.Ec(5,\"ion-title\"),h.Ec(6,\"h1\"),h.pd(7),h.Pc(8,\"translate\"),h.Dc(),h.Dc(),h.Ec(9,\"ion-buttons\",2),h.Ec(10,\"core-navbar-buttons\"),h.Ec(11,\"ion-button\",3),h.Mc(\"click\",(function CoreSettingsSynchronizationPage_Template_ion_button_click_11_listener(){return t.showInfo()})),h.Pc(12,\"translate\"),h.zc(13,\"ion-icon\",4),h.Dc(),h.Dc(),h.Dc(),h.Dc(),h.Dc(),h.Ec(14,\"ion-content\",5),h.Ec(15,\"core-loading\",6),h.Ec(16,\"ion-list\",7),h.Ec(17,\"ion-item-divider\"),h.Ec(18,\"ion-label\"),h.Ec(19,\"h2\"),h.pd(20),h.Pc(21,\"translate\"),h.Dc(),h.Dc(),h.Dc(),h.Ec(22,\"ion-item\",8),h.Ec(23,\"ion-label\"),h.Ec(24,\"p\",9),h.pd(25),h.Pc(26,\"translate\"),h.Dc(),h.Dc(),h.Ec(27,\"ion-toggle\",10),h.Mc(\"ngModelChange\",(function CoreSettingsSynchronizationPage_Template_ion_toggle_ngModelChange_27_listener(n){return t.dataSaver=n}))(\"ngModelChange\",(function CoreSettingsSynchronizationPage_Template_ion_toggle_ngModelChange_27_listener(){return t.syncOnlyOnWifiChanged()})),h.Dc(),h.Dc(),h.nd(28,CoreSettingsSynchronizationPage_ion_card_28_Template,6,2,\"ion-card\",11),h.nd(29,CoreSettingsSynchronizationPage_ng_container_29_Template,8,5,\"ng-container\",12),h.Dc(),h.Dc(),h.Dc(),h.nd(30,CoreSettingsSynchronizationPage_ng_template_30_Template,9,12,\"ng-template\",null,13,h.od)),2&n&&(h.lc(3),h.Vc(\"text\",h.Qc(4,9,\"core.back\")),h.lc(4),h.qd(h.Qc(8,11,\"core.settings.synchronization\")),h.lc(4),h.mc(\"aria-label\",h.Qc(12,13,\"core.info\")),h.lc(4),h.Vc(\"hideUntil\",t.sitesLoaded),h.lc(5),h.qd(h.Qc(21,15,\"core.settings.syncsettings\")),h.lc(5),h.rd(\" \",h.Qc(26,17,\"core.settings.syncdatasaver\"),\" \"),h.lc(2),h.Vc(\"ngModel\",t.dataSaver),h.lc(1),h.Vc(\"ngIf\",!t.isOnline||t.dataSaver&&t.limitedConnection),h.lc(1),h.Vc(\"ngIf\",t.isOnline&&(!t.dataSaver||!t.limitedConnection)))},directives:[p.C,p.Ab,p.m,p.h,p.i,p.yb,f.a,y.a,p.l,p.D,C.a,P.a,p.v,z.a,p.P,p.J,p.O,p.I,p.zb,p.d,O.r,O.u,b.t,p.n,b.s,T.a,D.a,b.A,p.g,E.a,v.a],pipes:[I.d],styles:[\"ion-list.core-sitelist[_ngcontent-%COMP%]   .core-sitelist-sitename[_ngcontent-%COMP%]{border-bottom:1px solid var(--stroke)}ion-list.core-sitelist[_ngcontent-%COMP%]   .core-sitelist-sitename[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin-top:8px;margin-bottom:8px}\"]}),CoreSettingsSynchronizationPage})();const M=[{path:\"\",component:w}];let L=(()=>{class CoreSettingsSynchronizationPageModule{}return CoreSettingsSynchronizationPageModule.ɵmod=h.wc({type:CoreSettingsSynchronizationPageModule}),CoreSettingsSynchronizationPageModule.ɵinj=h.vc({factory:function CoreSettingsSynchronizationPageModule_Factory(n){return new(n||CoreSettingsSynchronizationPageModule)},imports:[[i.m.forChild(M),o.a],i.m]}),CoreSettingsSynchronizationPageModule})();void((\"undefined\"==typeof ngJitMode||ngJitMode)&&h.kd(L,{declarations:[w],imports:[i.m,o.a],exports:[i.m]}))}}]);","name":"119.cdc56944e733c3fc495e.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[119],{\n\n/***/ \"OQUD\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"CoreSettingsSynchronizationPageModule\", function() { return /* binding */ synchronization_module_CoreSettingsSynchronizationPageModule; });\n\n// EXTERNAL MODULE: ./node_modules/@angular/router/__ivy_ngcc__/fesm2015/router.js + 10 modules\nvar router = __webpack_require__(\"tyNb\");\n\n// EXTERNAL MODULE: ./src/core/shared.module.ts + 3 modules\nvar shared_module = __webpack_require__(\"L3Fv\");\n\n// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.js\nvar tslib_es6 = __webpack_require__(\"mrSG\");\n\n// EXTERNAL MODULE: ./src/core/constants.ts\nvar constants = __webpack_require__(\"BaYo\");\n\n// EXTERNAL MODULE: ./src/core/singletons/events.ts\nvar events = __webpack_require__(\"fjkH\");\n\n// EXTERNAL MODULE: ./src/core/services/sites.ts\nvar sites = __webpack_require__(\"9+EE\");\n\n// EXTERNAL MODULE: ./src/core/services/utils/dom.ts + 2 modules\nvar dom = __webpack_require__(\"3LXp\");\n\n// EXTERNAL MODULE: ./src/core/services/config.ts + 1 modules\nvar config = __webpack_require__(\"BBqZ\");\n\n// EXTERNAL MODULE: ./src/core/features/settings/services/settings-helper.ts\nvar settings_helper = __webpack_require__(\"1gmh\");\n\n// EXTERNAL MODULE: ./src/core/singletons/index.ts\nvar singletons = __webpack_require__(\"j3ag\");\n\n// EXTERNAL MODULE: ./src/core/features/login/services/login-helper.ts\nvar login_helper = __webpack_require__(\"mv9v\");\n\n// EXTERNAL MODULE: ./src/core/services/network.ts + 2 modules\nvar network = __webpack_require__(\"GGba\");\n\n// EXTERNAL MODULE: ./src/core/services/navigator.ts\nvar services_navigator = __webpack_require__(\"pHTc\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js\nvar core = __webpack_require__(\"fXoL\");\n\n// EXTERNAL MODULE: ./node_modules/@ionic/angular/__ivy_ngcc__/fesm2015/ionic-angular.js + 5 modules\nvar ionic_angular = __webpack_require__(\"TEn/\");\n\n// EXTERNAL MODULE: ./src/core/components/navbar-buttons/navbar-buttons.ts\nvar navbar_buttons = __webpack_require__(\"ACV2\");\n\n// EXTERNAL MODULE: ./src/core/directives/update-non-reactive-attributes.ts\nvar update_non_reactive_attributes = __webpack_require__(\"ACYt\");\n\n// EXTERNAL MODULE: ./src/core/directives/fa-icon.ts\nvar fa_icon = __webpack_require__(\"3CSS\");\n\n// EXTERNAL MODULE: ./src/core/directives/content.ts\nvar content = __webpack_require__(\"nt/U\");\n\n// EXTERNAL MODULE: ./src/core/components/loading/loading.ts\nvar loading = __webpack_require__(\"PgjG\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/forms/__ivy_ngcc__/fesm2015/forms.js\nvar fesm2015_forms = __webpack_require__(\"3Pt+\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/common/__ivy_ngcc__/fesm2015/common.js\nvar common = __webpack_require__(\"ofXK\");\n\n// EXTERNAL MODULE: ./src/core/directives/format-text.ts\nvar format_text = __webpack_require__(\"hMzs\");\n\n// EXTERNAL MODULE: ./src/core/directives/link.ts\nvar directives_link = __webpack_require__(\"iSJP\");\n\n// EXTERNAL MODULE: ./src/core/directives/external-content.ts\nvar external_content = __webpack_require__(\"NcPy\");\n\n// EXTERNAL MODULE: ./src/core/components/button-with-spinner/button-with-spinner.ts\nvar button_with_spinner = __webpack_require__(\"3zv0\");\n\n// EXTERNAL MODULE: ./node_modules/@ngx-translate/core/__ivy_ngcc__/fesm2015/ngx-translate-core.js + 8 modules\nvar ngx_translate_core = __webpack_require__(\"sYmb\");\n\n// CONCATENATED MODULE: ./src/core/features/settings/pages/synchronization/synchronization.ts\n\n// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction CoreSettingsSynchronizationPage_ion_card_28_ng_container_4_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Cc\" /* ɵɵelementContainerStart */](0);\n        core[\"pd\" /* ɵɵtext */](1);\n        core[\"Pc\" /* ɵɵpipe */](2, \"translate\");\n        core[\"Bc\" /* ɵɵelementContainerEnd */]();\n    }\n    if (rf & 2) {\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"rd\" /* ɵɵtextInterpolate1 */](\" \", core[\"Qc\" /* ɵɵpipeBind1 */](2, 1, \"core.settings.connectwifitosync\"), \"\");\n    }\n}\nfunction CoreSettingsSynchronizationPage_ion_card_28_ng_container_5_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Cc\" /* ɵɵelementContainerStart */](0);\n        core[\"pd\" /* ɵɵtext */](1);\n        core[\"Pc\" /* ɵɵpipe */](2, \"translate\");\n        core[\"Bc\" /* ɵɵelementContainerEnd */]();\n    }\n    if (rf & 2) {\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](2, 1, \"core.settings.connecttosync\"));\n    }\n}\nfunction CoreSettingsSynchronizationPage_ion_card_28_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-card\", 14);\n        core[\"Ec\" /* ɵɵelementStart */](1, \"ion-item\", 8);\n        core[\"zc\" /* ɵɵelement */](2, \"ion-icon\", 15);\n        core[\"Ec\" /* ɵɵelementStart */](3, \"ion-label\");\n        core[\"nd\" /* ɵɵtemplate */](4, CoreSettingsSynchronizationPage_ion_card_28_ng_container_4_Template, 3, 3, \"ng-container\", 12);\n        core[\"nd\" /* ɵɵtemplate */](5, CoreSettingsSynchronizationPage_ion_card_28_ng_container_5_Template, 3, 3, \"ng-container\", 12);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r0 = core[\"Oc\" /* ɵɵnextContext */]();\n        core[\"lc\" /* ɵɵadvance */](4);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx_r0.isOnline && ctx_r0.dataSaver && ctx_r0.limitedConnection);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", !ctx_r0.isOnline);\n    }\n}\nfunction CoreSettingsSynchronizationPage_ng_container_29_ion_card_6_ng_container_9_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ac\" /* ɵɵelementContainer */](0);\n    }\n}\nfunction CoreSettingsSynchronizationPage_ng_container_29_ion_card_6_ion_item_10_ng_container_1_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ac\" /* ɵɵelementContainer */](0);\n    }\n}\nconst _c0 = function (a0) { return { site: a0 }; };\nfunction CoreSettingsSynchronizationPage_ng_container_29_ion_card_6_ion_item_10_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-item\");\n        core[\"nd\" /* ɵɵtemplate */](1, CoreSettingsSynchronizationPage_ng_container_29_ion_card_6_ion_item_10_ng_container_1_Template, 1, 0, \"ng-container\", 21);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const site_r10 = ctx.$implicit;\n        core[\"Oc\" /* ɵɵnextContext */](3);\n        const _r2 = core[\"ed\" /* ɵɵreference */](31);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngTemplateOutlet\", _r2)(\"ngTemplateOutletContext\", core[\"ad\" /* ɵɵpureFunction1 */](2, _c0, site_r10));\n    }\n}\nfunction CoreSettingsSynchronizationPage_ng_container_29_ion_card_6_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-card\");\n        core[\"Ec\" /* ɵɵelementStart */](1, \"ion-item-divider\", 17);\n        core[\"Ec\" /* ɵɵelementStart */](2, \"ion-label\");\n        core[\"Ec\" /* ɵɵelementStart */](3, \"p\", 9);\n        core[\"zc\" /* ɵɵelement */](4, \"core-format-text\", 18);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Ec\" /* ɵɵelementStart */](5, \"p\");\n        core[\"Ec\" /* ɵɵelementStart */](6, \"a\", 19);\n        core[\"pd\" /* ɵɵtext */](7);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Ec\" /* ɵɵelementStart */](8, \"ion-item\", 20);\n        core[\"nd\" /* ɵɵtemplate */](9, CoreSettingsSynchronizationPage_ng_container_29_ion_card_6_ng_container_9_Template, 1, 0, \"ng-container\", 21);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"nd\" /* ɵɵtemplate */](10, CoreSettingsSynchronizationPage_ng_container_29_ion_card_6_ion_item_10_Template, 2, 4, \"ion-item\", 16);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r6 = core[\"Oc\" /* ɵɵnextContext */](2);\n        const _r2 = core[\"ed\" /* ɵɵreference */](31);\n        core[\"lc\" /* ɵɵadvance */](4);\n        core[\"Vc\" /* ɵɵproperty */](\"text\", ctx_r6.accountsList.currentSite.siteName)(\"siteId\", ctx_r6.accountsList.currentSite.id);\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"href\", ctx_r6.accountsList.currentSite.siteUrl, core[\"id\" /* ɵɵsanitizeUrl */]);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"qd\" /* ɵɵtextInterpolate */](ctx_r6.accountsList.currentSite.siteUrlWithoutProtocol);\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"ngTemplateOutlet\", _r2)(\"ngTemplateOutletContext\", core[\"ad\" /* ɵɵpureFunction1 */](7, _c0, ctx_r6.accountsList.currentSite));\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngForOf\", ctx_r6.accountsList.sameSite);\n    }\n}\nfunction CoreSettingsSynchronizationPage_ng_container_29_ion_card_7_ion_item_divider_1_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-item-divider\", 17);\n        core[\"Ec\" /* ɵɵelementStart */](1, \"ion-label\");\n        core[\"Ec\" /* ɵɵelementStart */](2, \"p\", 9);\n        core[\"zc\" /* ɵɵelement */](3, \"core-format-text\", 18);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Ec\" /* ɵɵelementStart */](4, \"p\");\n        core[\"Ec\" /* ɵɵelementStart */](5, \"a\", 23);\n        core[\"pd\" /* ɵɵtext */](6);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const sites_r12 = core[\"Oc\" /* ɵɵnextContext */]().$implicit;\n        core[\"lc\" /* ɵɵadvance */](3);\n        core[\"Vc\" /* ɵɵproperty */](\"text\", sites_r12[0].siteName)(\"siteId\", sites_r12[0].id);\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"href\", sites_r12[0].siteUrl, core[\"id\" /* ɵɵsanitizeUrl */]);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"qd\" /* ɵɵtextInterpolate */](sites_r12[0].siteUrlWithoutProtocol);\n    }\n}\nfunction CoreSettingsSynchronizationPage_ng_container_29_ion_card_7_ion_item_2_ng_container_1_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ac\" /* ɵɵelementContainer */](0);\n    }\n}\nfunction CoreSettingsSynchronizationPage_ng_container_29_ion_card_7_ion_item_2_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-item\");\n        core[\"nd\" /* ɵɵtemplate */](1, CoreSettingsSynchronizationPage_ng_container_29_ion_card_7_ion_item_2_ng_container_1_Template, 1, 0, \"ng-container\", 21);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const site_r16 = ctx.$implicit;\n        core[\"Oc\" /* ɵɵnextContext */](3);\n        const _r2 = core[\"ed\" /* ɵɵreference */](31);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngTemplateOutlet\", _r2)(\"ngTemplateOutletContext\", core[\"ad\" /* ɵɵpureFunction1 */](2, _c0, site_r16));\n    }\n}\nfunction CoreSettingsSynchronizationPage_ng_container_29_ion_card_7_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-card\");\n        core[\"nd\" /* ɵɵtemplate */](1, CoreSettingsSynchronizationPage_ng_container_29_ion_card_7_ion_item_divider_1_Template, 7, 4, \"ion-item-divider\", 22);\n        core[\"nd\" /* ɵɵtemplate */](2, CoreSettingsSynchronizationPage_ng_container_29_ion_card_7_ion_item_2_Template, 2, 4, \"ion-item\", 16);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const sites_r12 = ctx.$implicit;\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", sites_r12[0]);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngForOf\", sites_r12);\n    }\n}\nfunction CoreSettingsSynchronizationPage_ng_container_29_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Cc\" /* ɵɵelementContainerStart */](0);\n        core[\"Ec\" /* ɵɵelementStart */](1, \"ion-item-divider\");\n        core[\"Ec\" /* ɵɵelementStart */](2, \"ion-label\");\n        core[\"Ec\" /* ɵɵelementStart */](3, \"h2\");\n        core[\"pd\" /* ɵɵtext */](4);\n        core[\"Pc\" /* ɵɵpipe */](5, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"nd\" /* ɵɵtemplate */](6, CoreSettingsSynchronizationPage_ng_container_29_ion_card_6_Template, 11, 9, \"ion-card\", 12);\n        core[\"nd\" /* ɵɵtemplate */](7, CoreSettingsSynchronizationPage_ng_container_29_ion_card_7_Template, 3, 2, \"ion-card\", 16);\n        core[\"Bc\" /* ɵɵelementContainerEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r1 = core[\"Oc\" /* ɵɵnextContext */]();\n        core[\"lc\" /* ɵɵadvance */](4);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](5, 3, \"core.accounts\"));\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx_r1.accountsList.currentSite);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngForOf\", ctx_r1.accountsList.otherSites);\n    }\n}\nfunction CoreSettingsSynchronizationPage_ng_template_30_p_6_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"p\", 28);\n        core[\"pd\" /* ɵɵtext */](1);\n        core[\"Pc\" /* ɵɵpipe */](2, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](2, 1, \"core.settings.logintosync\"));\n    }\n}\nfunction CoreSettingsSynchronizationPage_ng_template_30_core_button_with_spinner_7_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r24 = core[\"Fc\" /* ɵɵgetCurrentView */]();\n        core[\"Ec\" /* ɵɵelementStart */](0, \"core-button-with-spinner\", 29);\n        core[\"Ec\" /* ɵɵelementStart */](1, \"ion-button\", 30);\n        core[\"Mc\" /* ɵɵlistener */](\"click\", function CoreSettingsSynchronizationPage_ng_template_30_core_button_with_spinner_7_Template_ion_button_click_1_listener() { core[\"fd\" /* ɵɵrestoreView */](_r24); const site_r18 = core[\"Oc\" /* ɵɵnextContext */]().site; const ctx_r22 = core[\"Oc\" /* ɵɵnextContext */](); return ctx_r22.synchronize(site_r18.id); });\n        core[\"Pc\" /* ɵɵpipe */](2, \"translate\");\n        core[\"zc\" /* ɵɵelement */](3, \"ion-icon\", 31);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const site_r18 = core[\"Oc\" /* ɵɵnextContext */]().site;\n        const ctx_r20 = core[\"Oc\" /* ɵɵnextContext */]();\n        core[\"Vc\" /* ɵɵproperty */](\"loading\", ctx_r20.isSynchronizing(site_r18.id));\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"mc\" /* ɵɵattribute */](\"aria-label\", core[\"Qc\" /* ɵɵpipeBind1 */](2, 2, \"core.settings.synchronizenow\"));\n    }\n}\nfunction CoreSettingsSynchronizationPage_ng_template_30_ion_button_8_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r28 = core[\"Fc\" /* ɵɵgetCurrentView */]();\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-button\", 32);\n        core[\"Mc\" /* ɵɵlistener */](\"click\", function CoreSettingsSynchronizationPage_ng_template_30_ion_button_8_Template_ion_button_click_0_listener() { core[\"fd\" /* ɵɵrestoreView */](_r28); const site_r18 = core[\"Oc\" /* ɵɵnextContext */]().site; const ctx_r26 = core[\"Oc\" /* ɵɵnextContext */](); return ctx_r26.login(site_r18.id); });\n        core[\"Pc\" /* ɵɵpipe */](1, \"translate\");\n        core[\"zc\" /* ɵɵelement */](2, \"ion-icon\", 33);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        core[\"mc\" /* ɵɵattribute */](\"aria-label\", core[\"Qc\" /* ɵɵpipeBind1 */](1, 1, \"core.login.login\"));\n    }\n}\nconst _c1 = function (a0) { return { $a: a0 }; };\nfunction CoreSettingsSynchronizationPage_ng_template_30_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-avatar\", 0);\n        core[\"zc\" /* ɵɵelement */](1, \"img\", 24);\n        core[\"Pc\" /* ɵɵpipe */](2, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Ec\" /* ɵɵelementStart */](3, \"ion-label\");\n        core[\"Ec\" /* ɵɵelementStart */](4, \"p\", 9);\n        core[\"pd\" /* ɵɵtext */](5);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"nd\" /* ɵɵtemplate */](6, CoreSettingsSynchronizationPage_ng_template_30_p_6_Template, 3, 3, \"p\", 25);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"nd\" /* ɵɵtemplate */](7, CoreSettingsSynchronizationPage_ng_template_30_core_button_with_spinner_7_Template, 4, 4, \"core-button-with-spinner\", 26);\n        core[\"nd\" /* ɵɵtemplate */](8, CoreSettingsSynchronizationPage_ng_template_30_ion_button_8_Template, 3, 3, \"ion-button\", 27);\n    }\n    if (rf & 2) {\n        const site_r18 = ctx.site;\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Wc\" /* ɵɵpropertyInterpolate */](\"alt\", core[\"Rc\" /* ɵɵpipeBind2 */](2, 7, \"core.pictureof\", core[\"ad\" /* ɵɵpureFunction1 */](10, _c1, site_r18.fullName)));\n        core[\"Vc\" /* ɵɵproperty */](\"src\", site_r18.avatar, core[\"id\" /* ɵɵsanitizeUrl */])(\"siteId\", site_r18.id);\n        core[\"lc\" /* ɵɵadvance */](4);\n        core[\"qd\" /* ɵɵtextInterpolate */](site_r18.fullName);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", site_r18.loggedOut);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", !site_r18.loggedOut);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", site_r18.loggedOut);\n    }\n}\n/**\n * Page that displays the synchronization settings.\n */\nlet synchronization_CoreSettingsSynchronizationPage = /*@__PURE__*/ (() => {\n    class CoreSettingsSynchronizationPage {\n        constructor() {\n            this.accountsList = {\n                sameSite: [],\n                otherSites: [],\n                count: 0,\n            };\n            this.sitesLoaded = false;\n            this.dataSaver = false;\n            this.limitedConnection = false;\n            this.isOnline = true;\n            this.isDestroyed = false;\n            this.sitesObserver = events[\"b\" /* CoreEvents */].on(events[\"b\" /* CoreEvents */].SITE_UPDATED, (data) => Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                var _a;\n                const siteId = data.siteId;\n                let siteEntry = siteId === ((_a = this.accountsList.currentSite) === null || _a === void 0 ? void 0 : _a.id)\n                    ? this.accountsList.currentSite\n                    : undefined;\n                if (!siteEntry) {\n                    siteEntry = this.accountsList.sameSite.find((siteEntry) => siteEntry.id === siteId);\n                }\n                if (!siteEntry) {\n                    this.accountsList.otherSites.some((sites) => {\n                        siteEntry = sites.find((siteEntry) => siteEntry.id === siteId);\n                        return siteEntry;\n                    });\n                }\n                if (!siteEntry) {\n                    return;\n                }\n                const site = yield sites[\"b\" /* CoreSites */].getSite(siteId);\n                const siteInfo = site.getInfo();\n                siteEntry.siteName = site.getSiteName();\n                if (siteInfo) {\n                    siteEntry.siteUrl = siteInfo.siteurl;\n                    siteEntry.fullName = siteInfo.fullname;\n                }\n            }));\n            this.isOnline = network[\"a\" /* CoreNetwork */].isOnline();\n            this.limitedConnection = this.isOnline && network[\"a\" /* CoreNetwork */].isNetworkAccessLimited();\n            this.networkObserver = network[\"a\" /* CoreNetwork */].onChange().subscribe(() => {\n                // Execute the callback in the Angular zone, so change detection doesn't stop working.\n                singletons[\"A\" /* NgZone */].run(() => {\n                    this.isOnline = network[\"a\" /* CoreNetwork */].isOnline();\n                    this.limitedConnection = this.isOnline && network[\"a\" /* CoreNetwork */].isNetworkAccessLimited();\n                });\n            });\n        }\n        /**\n         * @inheritdoc\n         */\n        ngOnInit() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                const currentSiteId = sites[\"b\" /* CoreSites */].getCurrentSiteId();\n                try {\n                    this.accountsList = yield login_helper[\"a\" /* CoreLoginHelper */].getAccountsList(currentSiteId);\n                }\n                catch (_a) {\n                    // Ignore errors.\n                }\n                this.sitesLoaded = true;\n                this.dataSaver = yield config[\"a\" /* CoreConfig */].get(constants[\"a\" /* CoreConstants */].SETTINGS_SYNC_ONLY_ON_WIFI, true);\n            });\n        }\n        /**\n         * Called when sync only on wifi setting is enabled or disabled.\n         */\n        syncOnlyOnWifiChanged() {\n            config[\"a\" /* CoreConfig */].set(constants[\"a\" /* CoreConstants */].SETTINGS_SYNC_ONLY_ON_WIFI, this.dataSaver ? 1 : 0);\n        }\n        /**\n         * Synchronizes a site.\n         *\n         * @param siteId Site ID.\n         */\n        synchronize(siteId) {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                // Using syncOnlyOnWifi false to force manual sync.\n                try {\n                    yield settings_helper[\"a\" /* CoreSettingsHelper */].synchronizeSite(false, siteId);\n                }\n                catch (error) {\n                    if (this.isDestroyed) {\n                        return;\n                    }\n                    dom[\"a\" /* CoreDomUtils */].showErrorModalDefault(error, 'core.settings.sitesyncfailed', true);\n                }\n            });\n        }\n        /**\n         * Changes site.\n         *\n         * @param siteId Site ID.\n         */\n        login(siteId) {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                // This navigation will logout and navigate to the site home.\n                yield services_navigator[\"a\" /* CoreNavigator */].navigateToSiteHome({ preferCurrentTab: false, siteId });\n            });\n        }\n        /**\n         * Returns true if site is beeing synchronized.\n         *\n         * @param siteId Site ID.\n         * @return True if site is beeing synchronized, false otherwise.\n         */\n        isSynchronizing(siteId) {\n            return !!settings_helper[\"a\" /* CoreSettingsHelper */].getSiteSyncPromise(siteId);\n        }\n        /**\n         * Show information about sync actions.\n         */\n        showInfo() {\n            dom[\"a\" /* CoreDomUtils */].showAlert(singletons[\"J\" /* Translate */].instant('core.help'), singletons[\"J\" /* Translate */].instant('core.settings.synchronizenowhelp'));\n        }\n        /**\n         * @inheritdoc\n         */\n        ngOnDestroy() {\n            this.isDestroyed = true;\n            this.sitesObserver.off();\n            this.networkObserver.unsubscribe();\n        }\n    }\n    CoreSettingsSynchronizationPage.ɵfac = function CoreSettingsSynchronizationPage_Factory(t) { return new (t || CoreSettingsSynchronizationPage)(); };\n    CoreSettingsSynchronizationPage.ɵcmp = core[\"sc\" /* ɵɵdefineComponent */]({ type: CoreSettingsSynchronizationPage, selectors: [[\"page-core-app-settings-synchronization\"]], decls: 32, vars: 19, consts: [[\"slot\", \"start\"], [3, \"text\"], [\"slot\", \"end\"], [3, \"click\"], [\"name\", \"fas-info-circle\", \"slot\", \"icon-only\", \"aria-hidden\", \"true\"], [1, \"limited-width\"], [3, \"hideUntil\"], [1, \"core-sitelist\", \"limited-width\"], [1, \"ion-text-wrap\"], [1, \"item-heading\"], [\"slot\", \"end\", 3, \"ngModel\", \"ngModelChange\"], [\"class\", \"core-warning-card\", 4, \"ngIf\"], [4, \"ngIf\"], [\"siteSync\", \"\"], [1, \"core-warning-card\"], [\"name\", \"fas-exclamation-triangle\", \"slot\", \"start\", \"aria-hidden\", \"true\"], [4, \"ngFor\", \"ngForOf\"], [\"sticky\", \"true\", 1, \"core-sitelist-sitename\"], [\"clean\", \"true\", 3, \"text\", \"siteId\"], [\"core-link\", \"\", \"autoLogin\", \"yes\", 3, \"href\"], [1, \"item-current\"], [4, \"ngTemplateOutlet\", \"ngTemplateOutletContext\"], [\"sticky\", \"true\", \"class\", \"core-sitelist-sitename\", 4, \"ngIf\"], [\"core-link\", \"\", \"autoLogin\", \"no\", 3, \"href\"], [\"core-external-content\", \"\", \"onError\", \"this.src='assets/img/user-avatar.png'\", 3, \"src\", \"siteId\", \"alt\"], [\"class\", \"text-danger\", 4, \"ngIf\"], [\"slot\", \"end\", 3, \"loading\", 4, \"ngIf\"], [\"fill\", \"clear\", \"slot\", \"end\", 3, \"click\", 4, \"ngIf\"], [1, \"text-danger\"], [\"slot\", \"end\", 3, \"loading\"], [\"fill\", \"clear\", 3, \"click\"], [\"name\", \"fas-sync-alt\", \"slot\", \"icon-only\", \"aria-hidden\", \"true\"], [\"fill\", \"clear\", \"slot\", \"end\", 3, \"click\"], [\"name\", \"fas-sign-in-alt\", \"slot\", \"icon-only\", \"aria-hidden\", \"true\"]], template: function CoreSettingsSynchronizationPage_Template(rf, ctx) {\n            if (rf & 1) {\n                core[\"Ec\" /* ɵɵelementStart */](0, \"ion-header\");\n                core[\"Ec\" /* ɵɵelementStart */](1, \"ion-toolbar\");\n                core[\"Ec\" /* ɵɵelementStart */](2, \"ion-buttons\", 0);\n                core[\"zc\" /* ɵɵelement */](3, \"ion-back-button\", 1);\n                core[\"Pc\" /* ɵɵpipe */](4, \"translate\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](5, \"ion-title\");\n                core[\"Ec\" /* ɵɵelementStart */](6, \"h1\");\n                core[\"pd\" /* ɵɵtext */](7);\n                core[\"Pc\" /* ɵɵpipe */](8, \"translate\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](9, \"ion-buttons\", 2);\n                core[\"Ec\" /* ɵɵelementStart */](10, \"core-navbar-buttons\");\n                core[\"Ec\" /* ɵɵelementStart */](11, \"ion-button\", 3);\n                core[\"Mc\" /* ɵɵlistener */](\"click\", function CoreSettingsSynchronizationPage_Template_ion_button_click_11_listener() { return ctx.showInfo(); });\n                core[\"Pc\" /* ɵɵpipe */](12, \"translate\");\n                core[\"zc\" /* ɵɵelement */](13, \"ion-icon\", 4);\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](14, \"ion-content\", 5);\n                core[\"Ec\" /* ɵɵelementStart */](15, \"core-loading\", 6);\n                core[\"Ec\" /* ɵɵelementStart */](16, \"ion-list\", 7);\n                core[\"Ec\" /* ɵɵelementStart */](17, \"ion-item-divider\");\n                core[\"Ec\" /* ɵɵelementStart */](18, \"ion-label\");\n                core[\"Ec\" /* ɵɵelementStart */](19, \"h2\");\n                core[\"pd\" /* ɵɵtext */](20);\n                core[\"Pc\" /* ɵɵpipe */](21, \"translate\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](22, \"ion-item\", 8);\n                core[\"Ec\" /* ɵɵelementStart */](23, \"ion-label\");\n                core[\"Ec\" /* ɵɵelementStart */](24, \"p\", 9);\n                core[\"pd\" /* ɵɵtext */](25);\n                core[\"Pc\" /* ɵɵpipe */](26, \"translate\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](27, \"ion-toggle\", 10);\n                core[\"Mc\" /* ɵɵlistener */](\"ngModelChange\", function CoreSettingsSynchronizationPage_Template_ion_toggle_ngModelChange_27_listener($event) { return ctx.dataSaver = $event; })(\"ngModelChange\", function CoreSettingsSynchronizationPage_Template_ion_toggle_ngModelChange_27_listener() { return ctx.syncOnlyOnWifiChanged(); });\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"nd\" /* ɵɵtemplate */](28, CoreSettingsSynchronizationPage_ion_card_28_Template, 6, 2, \"ion-card\", 11);\n                core[\"nd\" /* ɵɵtemplate */](29, CoreSettingsSynchronizationPage_ng_container_29_Template, 8, 5, \"ng-container\", 12);\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"nd\" /* ɵɵtemplate */](30, CoreSettingsSynchronizationPage_ng_template_30_Template, 9, 12, \"ng-template\", null, 13, core[\"od\" /* ɵɵtemplateRefExtractor */]);\n            }\n            if (rf & 2) {\n                core[\"lc\" /* ɵɵadvance */](3);\n                core[\"Vc\" /* ɵɵproperty */](\"text\", core[\"Qc\" /* ɵɵpipeBind1 */](4, 9, \"core.back\"));\n                core[\"lc\" /* ɵɵadvance */](4);\n                core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](8, 11, \"core.settings.synchronization\"));\n                core[\"lc\" /* ɵɵadvance */](4);\n                core[\"mc\" /* ɵɵattribute */](\"aria-label\", core[\"Qc\" /* ɵɵpipeBind1 */](12, 13, \"core.info\"));\n                core[\"lc\" /* ɵɵadvance */](4);\n                core[\"Vc\" /* ɵɵproperty */](\"hideUntil\", ctx.sitesLoaded);\n                core[\"lc\" /* ɵɵadvance */](5);\n                core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](21, 15, \"core.settings.syncsettings\"));\n                core[\"lc\" /* ɵɵadvance */](5);\n                core[\"rd\" /* ɵɵtextInterpolate1 */](\" \", core[\"Qc\" /* ɵɵpipeBind1 */](26, 17, \"core.settings.syncdatasaver\"), \" \");\n                core[\"lc\" /* ɵɵadvance */](2);\n                core[\"Vc\" /* ɵɵproperty */](\"ngModel\", ctx.dataSaver);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", !ctx.isOnline || ctx.dataSaver && ctx.limitedConnection);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx.isOnline && (!ctx.dataSaver || !ctx.limitedConnection));\n            }\n        }, directives: [ionic_angular[\"C\" /* IonHeader */], ionic_angular[\"Ab\" /* IonToolbar */], ionic_angular[\"m\" /* IonButtons */], ionic_angular[\"h\" /* IonBackButton */], ionic_angular[\"i\" /* IonBackButtonDelegate */], ionic_angular[\"yb\" /* IonTitle */], navbar_buttons[\"a\" /* CoreNavBarButtonsComponent */], update_non_reactive_attributes[\"a\" /* CoreUpdateNonReactiveAttributesDirective */], ionic_angular[\"l\" /* IonButton */], ionic_angular[\"D\" /* IonIcon */], fa_icon[\"a\" /* CoreFaIconDirective */], content[\"a\" /* CoreContentDirective */], ionic_angular[\"v\" /* IonContent */], loading[\"a\" /* CoreLoadingComponent */], ionic_angular[\"P\" /* IonList */], ionic_angular[\"J\" /* IonItemDivider */], ionic_angular[\"O\" /* IonLabel */], ionic_angular[\"I\" /* IonItem */], ionic_angular[\"zb\" /* IonToggle */], ionic_angular[\"d\" /* BooleanValueAccessor */], fesm2015_forms[\"r\" /* NgControlStatus */], fesm2015_forms[\"u\" /* NgModel */], common[\"t\" /* NgIf */], ionic_angular[\"n\" /* IonCard */], common[\"s\" /* NgForOf */], format_text[\"a\" /* CoreFormatTextDirective */], directives_link[\"a\" /* CoreLinkDirective */], common[\"A\" /* NgTemplateOutlet */], ionic_angular[\"g\" /* IonAvatar */], external_content[\"a\" /* CoreExternalContentDirective */], button_with_spinner[\"a\" /* CoreButtonWithSpinnerComponent */]], pipes: [ngx_translate_core[\"d\" /* TranslatePipe */]], styles: [\"ion-list.core-sitelist[_ngcontent-%COMP%]   .core-sitelist-sitename[_ngcontent-%COMP%]{border-bottom:1px solid var(--stroke)}ion-list.core-sitelist[_ngcontent-%COMP%]   .core-sitelist-sitename[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin-top:8px;margin-bottom:8px}\"] });\n    return CoreSettingsSynchronizationPage;\n})();\n\n// CONCATENATED MODULE: ./src/core/features/settings/pages/synchronization/synchronization.module.ts\n// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n\n\nconst routes = [\n    {\n        path: '',\n        component: synchronization_CoreSettingsSynchronizationPage,\n    },\n];\nlet synchronization_module_CoreSettingsSynchronizationPageModule = /*@__PURE__*/ (() => {\n    class CoreSettingsSynchronizationPageModule {\n    }\n    CoreSettingsSynchronizationPageModule.ɵmod = core[\"wc\" /* ɵɵdefineNgModule */]({ type: CoreSettingsSynchronizationPageModule });\n    CoreSettingsSynchronizationPageModule.ɵinj = core[\"vc\" /* ɵɵdefineInjector */]({ factory: function CoreSettingsSynchronizationPageModule_Factory(t) { return new (t || CoreSettingsSynchronizationPageModule)(); }, imports: [[\n                router[\"m\" /* RouterModule */].forChild(routes),\n                shared_module[\"a\" /* CoreSharedModule */],\n            ], router[\"m\" /* RouterModule */]] });\n    return CoreSettingsSynchronizationPageModule;\n})();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && core[\"kd\" /* ɵɵsetNgModuleScope */](synchronization_module_CoreSettingsSynchronizationPageModule, { declarations: [synchronization_CoreSettingsSynchronizationPage], imports: [router[\"m\" /* RouterModule */], shared_module[\"a\" /* CoreSharedModule */]], exports: [router[\"m\" /* RouterModule */]] }); })();\n\n\n/***/ })\n\n}]);","inputSourceMap":null}