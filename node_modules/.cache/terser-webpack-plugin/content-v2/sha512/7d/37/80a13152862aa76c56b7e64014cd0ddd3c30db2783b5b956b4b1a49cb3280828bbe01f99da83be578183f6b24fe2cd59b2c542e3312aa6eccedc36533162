{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{LXV0:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"AddonModFeedbackAttemptPageModule\",(function(){return w}));var o=n(\"L3Fv\"),c=n(\"tyNb\"),i=n(\"mrSG\"),a=n(\"baaQ\"),d=n(\"eoiU\"),r=n(\"pHTc\"),_=n(\"3LXp\"),s=n(\"vuGA\"),m=n(\"jVvP\"),l=n(\"MNPK\"),p=n(\"96hm\"),u=n(\"fXoL\"),g=n(\"TEn/\"),f=n(\"ofXK\"),A=n(\"nt/U\"),b=n(\"OZH1\"),h=n(\"PgjG\"),I=n(\"nu3w\"),k=n(\"FeAf\"),P=n(\"nEkO\"),M=n(\"FasJ\"),F=n(\"hMzs\"),v=n(\"sYmb\"),y=n(\"uYHD\");function AddonModFeedbackAttemptPage_h1_6_Template(e,t){if(1&e&&(u.Ec(0,\"h1\"),u.pd(1),u.Dc()),2&e){const e=u.Oc();u.lc(1),u.qd(e.attempt.fullname)}}function AddonModFeedbackAttemptPage_h1_7_Template(e,t){1&e&&(u.Ec(0,\"h1\"),u.pd(1),u.Pc(2,\"translate\"),u.Dc()),2&e&&(u.lc(1),u.qd(u.Qc(2,1,\"addon.mod_feedback.anonymous_user\")))}function AddonModFeedbackAttemptPage_ion_list_10_ion_item_1_p_6_Template(e,t){if(1&e&&(u.Ec(0,\"p\"),u.pd(1),u.Pc(2,\"coreFormatDate\"),u.Dc()),2&e){const e=u.Oc(3);u.lc(1),u.qd(u.Qc(2,1,1e3*e.attempt.timemodified))}}function AddonModFeedbackAttemptPage_ion_list_10_ion_item_1_Template(e,t){if(1&e&&(u.Ec(0,\"ion-item\",9),u.Pc(1,\"translate\"),u.zc(2,\"core-user-avatar\",10),u.Ec(3,\"ion-label\"),u.Ec(4,\"h2\"),u.pd(5),u.Dc(),u.nd(6,AddonModFeedbackAttemptPage_ion_list_10_ion_item_1_p_6_Template,3,3,\"p\",2),u.Dc(),u.Dc()),2&e){const e=u.Oc(2);u.Vc(\"userId\",e.attempt.userid)(\"courseId\",e.attempt.courseid),u.mc(\"aria-label\",u.Qc(1,7,\"core.user.viewprofile\")),u.lc(2),u.Vc(\"user\",e.attempt)(\"linkProfile\",!1),u.lc(3),u.qd(e.attempt.fullname),u.lc(1),u.Vc(\"ngIf\",e.attempt.timemodified)}}function AddonModFeedbackAttemptPage_ion_list_10_ion_item_2_Template(e,t){if(1&e&&(u.Ec(0,\"ion-item\",11),u.zc(1,\"core-user-avatar\",12),u.Ec(2,\"ion-label\"),u.Ec(3,\"h2\"),u.pd(4),u.Pc(5,\"translate\"),u.Dc(),u.Ec(6,\"p\"),u.pd(7),u.Pc(8,\"translate\"),u.Dc(),u.Dc(),u.Dc()),2&e){const e=u.Oc(2);u.lc(1),u.Vc(\"linkProfile\",!1),u.lc(3),u.qd(u.Qc(5,4,\"addon.mod_feedback.anonymous_user\")),u.lc(3),u.sd(\"\",u.Qc(8,6,\"addon.mod_feedback.response_nr\"),\": \",e.anonAttempt.number,\"\")}}function AddonModFeedbackAttemptPage_ion_list_10_ng_container_3_ng_container_1_core_spacer_1_Template(e,t){1&e&&u.zc(0,\"core-spacer\")}function AddonModFeedbackAttemptPage_ion_list_10_ng_container_3_ng_container_1_ion_item_2_h2_2_span_1_Template(e,t){if(1&e&&(u.Ec(0,\"span\"),u.pd(1),u.Dc()),2&e){const e=u.Oc(3).$implicit;u.lc(1),u.rd(\"\",e.itemnumber,\". \")}}function AddonModFeedbackAttemptPage_ion_list_10_ng_container_3_ng_container_1_ion_item_2_h2_2_Template(e,t){if(1&e&&(u.Ec(0,\"h2\",17),u.nd(1,AddonModFeedbackAttemptPage_ion_list_10_ng_container_3_ng_container_1_ion_item_2_h2_2_span_1_Template,2,1,\"span\",2),u.zc(2,\"core-format-text\",18),u.Dc()),2&e){const e=u.Oc(2).$implicit,t=u.Oc(3);u.Vc(\"core-mark-required\",e.required),u.lc(1),u.Vc(\"ngIf\",t.feedback.autonumbering&&e.itemnumber),u.lc(1),u.Vc(\"component\",t.component)(\"componentId\",t.cmId)(\"text\",e.name)(\"contextInstanceId\",t.cmId)(\"courseId\",t.courseId)}}function AddonModFeedbackAttemptPage_ion_list_10_ng_container_3_ng_container_1_ion_item_2_p_3_Template(e,t){if(1&e&&(u.Ec(0,\"p\"),u.zc(1,\"core-format-text\",18),u.Dc()),2&e){const e=u.Oc(2).$implicit,t=u.Oc(3);u.lc(1),u.Vc(\"component\",t.component)(\"componentId\",t.cmId)(\"text\",e.submittedValue)(\"contextInstanceId\",t.cmId)(\"courseId\",t.courseId)}}function AddonModFeedbackAttemptPage_ion_list_10_ng_container_3_ng_container_1_ion_item_2_Template(e,t){if(1&e&&(u.Ec(0,\"ion-item\",15),u.Ec(1,\"ion-label\"),u.nd(2,AddonModFeedbackAttemptPage_ion_list_10_ng_container_3_ng_container_1_ion_item_2_h2_2_Template,3,7,\"h2\",16),u.nd(3,AddonModFeedbackAttemptPage_ion_list_10_ng_container_3_ng_container_1_ion_item_2_p_3_Template,2,5,\"p\",2),u.Dc(),u.Dc()),2&e){const e=u.Oc().$implicit;u.Vc(\"color\",e.dependitem>0?\"light\":\"\"),u.lc(2),u.Vc(\"ngIf\",e.name),u.lc(1),u.Vc(\"ngIf\",e.submittedValue)}}function AddonModFeedbackAttemptPage_ion_list_10_ng_container_3_ng_container_1_Template(e,t){if(1&e&&(u.Cc(0),u.nd(1,AddonModFeedbackAttemptPage_ion_list_10_ng_container_3_ng_container_1_core_spacer_1_Template,1,0,\"core-spacer\",2),u.nd(2,AddonModFeedbackAttemptPage_ion_list_10_ng_container_3_ng_container_1_ion_item_2_Template,4,3,\"ion-item\",14),u.Bc()),2&e){const e=t.$implicit;u.lc(1),u.Vc(\"ngIf\",\"pagebreak\"==e.typ),u.lc(1),u.Vc(\"ngIf\",\"pagebreak\"!=e.typ)}}function AddonModFeedbackAttemptPage_ion_list_10_ng_container_3_Template(e,t){if(1&e&&(u.Cc(0),u.nd(1,AddonModFeedbackAttemptPage_ion_list_10_ng_container_3_ng_container_1_Template,3,2,\"ng-container\",13),u.Bc()),2&e){const e=u.Oc(2);u.lc(1),u.Vc(\"ngForOf\",e.items)}}function AddonModFeedbackAttemptPage_ion_list_10_Template(e,t){if(1&e&&(u.Ec(0,\"ion-list\",6),u.nd(1,AddonModFeedbackAttemptPage_ion_list_10_ion_item_1_Template,7,9,\"ion-item\",7),u.nd(2,AddonModFeedbackAttemptPage_ion_list_10_ion_item_2_Template,9,8,\"ion-item\",8),u.nd(3,AddonModFeedbackAttemptPage_ion_list_10_ng_container_3_Template,2,1,\"ng-container\",2),u.Dc()),2&e){const e=u.Oc();u.lc(1),u.Vc(\"ngIf\",e.attempt),u.lc(1),u.Vc(\"ngIf\",e.anonAttempt),u.lc(1),u.Vc(\"ngIf\",e.items&&e.items.length)}}let T=(()=>{class AddonModFeedbackAttemptPage{constructor(){this.items=[],this.component=l.b.COMPONENT,this.loaded=!1,this.cmId=r.a.getRequiredRouteNumberParam(\"cmId\"),this.courseId=r.a.getRequiredRouteNumberParam(\"courseId\"),this.attemptId=r.a.getRequiredRouteNumberParam(\"attemptId\");const e=a.a.getOrCreateSource(m.a,[this.courseId,this.cmId]);this.attempts=new attempt_AddonModFeedbackAttemptsSwipeManager(e)}ngOnInit(){return Object(i.a)(this,void 0,void 0,(function*(){try{yield this.attempts.start()}catch(e){return _.a.showErrorModal(e),r.a.back(),void 0}this.fetchData()}))}ngOnDestroy(){this.attempts.destroy()}fetchData(){return Object(i.a)(this,void 0,void 0,(function*(){try{this.feedback=yield l.a.getFeedback(this.courseId,this.cmId);const e=yield l.a.getAttempt(this.feedback.id,this.attemptId,{cmId:this.cmId});this.isAnonAttempt(e)?(this.anonAttempt=e,delete this.attempt):(this.attempt=e,delete this.anonAttempt);const t=yield l.a.getItems(this.feedback.id,{cmId:this.cmId});this.items=t.items.map((t=>{const n=p.a.getItemForm(t,!0);if(!n)return;const o=n;if(\"label\"==t.typ)o.submittedValue=s.a.replacePluginfileUrls(t.presentation,t.itemfiles);else for(const n in e.responses)if(e.responses[n].id==t.id){o.submittedValue=e.responses[n].printval;break}return o})).filter((e=>e))}catch(e){_.a.showErrorModalDefault(e,\"core.course.errorgetmodule\",!0),r.a.back()}finally{this.loaded=!0}}))}isAnonAttempt(e){return!(\"fullname\"in e)}}return AddonModFeedbackAttemptPage.ɵfac=function AddonModFeedbackAttemptPage_Factory(e){return new(e||AddonModFeedbackAttemptPage)},AddonModFeedbackAttemptPage.ɵcmp=u.sc({type:AddonModFeedbackAttemptPage,selectors:[[\"page-addon-mod-feedback-attempt\"]],decls:11,vars:8,consts:[[\"slot\",\"start\"],[3,\"text\"],[4,\"ngIf\"],[3,\"core-swipe-navigation\"],[3,\"hideUntil\"],[\"class\",\"ion-no-margin\",4,\"ngIf\"],[1,\"ion-no-margin\"],[\"class\",\"ion-text-wrap\",\"core-user-link\",\"\",3,\"userId\",\"courseId\",4,\"ngIf\"],[\"class\",\"ion-text-wrap\",4,\"ngIf\"],[\"core-user-link\",\"\",1,\"ion-text-wrap\",3,\"userId\",\"courseId\"],[\"slot\",\"start\",3,\"user\",\"linkProfile\"],[1,\"ion-text-wrap\"],[\"slot\",\"start\",3,\"linkProfile\"],[4,\"ngFor\",\"ngForOf\"],[\"class\",\"ion-text-wrap\",3,\"color\",4,\"ngIf\"],[1,\"ion-text-wrap\",3,\"color\"],[3,\"core-mark-required\",4,\"ngIf\"],[3,\"core-mark-required\"],[\"contextLevel\",\"module\",3,\"component\",\"componentId\",\"text\",\"contextInstanceId\",\"courseId\"]],template:function AddonModFeedbackAttemptPage_Template(e,t){1&e&&(u.Ec(0,\"ion-header\"),u.Ec(1,\"ion-toolbar\"),u.Ec(2,\"ion-buttons\",0),u.zc(3,\"ion-back-button\",1),u.Pc(4,\"translate\"),u.Dc(),u.Ec(5,\"ion-title\"),u.nd(6,AddonModFeedbackAttemptPage_h1_6_Template,2,1,\"h1\",2),u.nd(7,AddonModFeedbackAttemptPage_h1_7_Template,3,3,\"h1\",2),u.Dc(),u.Dc(),u.Dc(),u.Ec(8,\"ion-content\",3),u.Ec(9,\"core-loading\",4),u.nd(10,AddonModFeedbackAttemptPage_ion_list_10_Template,4,3,\"ion-list\",5),u.Dc(),u.Dc()),2&e&&(u.lc(3),u.Vc(\"text\",u.Qc(4,6,\"core.back\")),u.lc(3),u.Vc(\"ngIf\",t.attempt),u.lc(1),u.Vc(\"ngIf\",t.anonAttempt),u.lc(1),u.Vc(\"core-swipe-navigation\",t.attempts),u.lc(1),u.Vc(\"hideUntil\",t.loaded),u.lc(1),u.Vc(\"ngIf\",t.attempt||t.anonAttempt))},directives:[g.C,g.Ab,g.m,g.h,g.i,g.yb,f.t,A.a,g.v,b.a,h.a,g.P,g.I,I.a,k.a,g.O,f.s,P.a,M.a,F.a],pipes:[v.d,y.a],encapsulation:2}),AddonModFeedbackAttemptPage})();class attempt_AddonModFeedbackAttemptsSwipeManager extends d.a{getSelectedItemPathFromRoute(e){return e.params.attemptId}}const O=[{path:\"\",component:T}];let w=(()=>{class AddonModFeedbackAttemptPageModule{}return AddonModFeedbackAttemptPageModule.ɵmod=u.wc({type:AddonModFeedbackAttemptPageModule}),AddonModFeedbackAttemptPageModule.ɵinj=u.vc({factory:function AddonModFeedbackAttemptPageModule_Factory(e){return new(e||AddonModFeedbackAttemptPageModule)},imports:[[c.m.forChild(O),o.a],c.m]}),AddonModFeedbackAttemptPageModule})();void((\"undefined\"==typeof ngJitMode||ngJitMode)&&u.kd(w,{declarations:[T],imports:[c.m,o.a],exports:[c.m]}))},eoiU:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return CoreSwipeNavigationItemsManager}));var o=n(\"mrSG\"),c=n(\"pHTc\"),i=n(\"CtbY\");class CoreSwipeNavigationItemsManager extends i.a{start(){return Object(o.a)(this,void 0,void 0,(function*(){this.updateSelectedItem()}))}navigateToNextItem(){return Object(o.a)(this,void 0,void 0,(function*(){yield this.navigateToItemBy(1,\"forward\")}))}navigateToPreviousItem(){return Object(o.a)(this,void 0,void 0,(function*(){yield this.navigateToItemBy(-1,\"back\")}))}hasNextItem(){return Object(o.a)(this,void 0,void 0,(function*(){return!!(yield this.getItemBy(1))}))}hasPreviousItem(){return Object(o.a)(this,void 0,void 0,(function*(){return!!(yield this.getItemBy(-1))}))}getCurrentPageRoute(){return c.a.getCurrentRoute()}getSelectedItemPathFromRoute(e){const t=[];for(;e&&(t.push(...e.url),e.firstChild);)e=e.firstChild;return t.map((e=>e.path)).join(\"/\").replace(/\\/+/,\"/\").trim()||null}navigateToItemBy(e,t){return Object(o.a)(this,void 0,void 0,(function*(){const n=yield this.getItemBy(e);n&&(yield this.navigateToItem(n,{animationDirection:t,replace:!0}))}))}getItemBy(e){var t;return Object(o.a)(this,void 0,void 0,(function*(){const n=this.getSource().getItems(),o=null!==(t=this.selectedItem&&(null==n?void 0:n.indexOf(this.selectedItem)))&&void 0!==t?t:-1;if(-1===o||null===n)return null;const c=e>0?1:-1;let i=o,a=0;for(;a!==e&&(i+=c,!(i<0||i>=n.length));)this.skipItemInSwipe(n[i])||(a+=c);return a===e?n[i]:this.getSource().isCompleted()?null:(yield this.getSource().load(),this.getItemBy(e))}))}skipItemInSwipe(e){return!1}}}}]);","name":"13.b61ece2416012b6c2597.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[13],{\n\n/***/ \"LXV0\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"AddonModFeedbackAttemptPageModule\", function() { return /* binding */ attempt_module_AddonModFeedbackAttemptPageModule; });\n\n// EXTERNAL MODULE: ./src/core/shared.module.ts + 3 modules\nvar shared_module = __webpack_require__(\"L3Fv\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/router/__ivy_ngcc__/fesm2015/router.js + 10 modules\nvar router = __webpack_require__(\"tyNb\");\n\n// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.js\nvar tslib_es6 = __webpack_require__(\"mrSG\");\n\n// EXTERNAL MODULE: ./src/core/classes/items-management/routed-items-manager-sources-tracker.ts\nvar routed_items_manager_sources_tracker = __webpack_require__(\"baaQ\");\n\n// EXTERNAL MODULE: ./src/core/classes/items-management/swipe-navigation-items-manager.ts\nvar swipe_navigation_items_manager = __webpack_require__(\"eoiU\");\n\n// EXTERNAL MODULE: ./src/core/services/navigator.ts\nvar services_navigator = __webpack_require__(\"pHTc\");\n\n// EXTERNAL MODULE: ./src/core/services/utils/dom.ts + 2 modules\nvar dom = __webpack_require__(\"3LXp\");\n\n// EXTERNAL MODULE: ./src/core/services/utils/text.ts + 1 modules\nvar utils_text = __webpack_require__(\"vuGA\");\n\n// EXTERNAL MODULE: ./src/addons/mod/feedback/classes/feedback-attempts-source.ts\nvar feedback_attempts_source = __webpack_require__(\"jVvP\");\n\n// EXTERNAL MODULE: ./src/addons/mod/feedback/services/feedback.ts\nvar feedback = __webpack_require__(\"MNPK\");\n\n// EXTERNAL MODULE: ./src/addons/mod/feedback/services/feedback-helper.ts\nvar feedback_helper = __webpack_require__(\"96hm\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js\nvar core = __webpack_require__(\"fXoL\");\n\n// EXTERNAL MODULE: ./node_modules/@ionic/angular/__ivy_ngcc__/fesm2015/ionic-angular.js + 5 modules\nvar ionic_angular = __webpack_require__(\"TEn/\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/common/__ivy_ngcc__/fesm2015/common.js\nvar common = __webpack_require__(\"ofXK\");\n\n// EXTERNAL MODULE: ./src/core/directives/content.ts\nvar content = __webpack_require__(\"nt/U\");\n\n// EXTERNAL MODULE: ./src/core/directives/swipe-navigation.ts\nvar swipe_navigation = __webpack_require__(\"OZH1\");\n\n// EXTERNAL MODULE: ./src/core/components/loading/loading.ts\nvar loading = __webpack_require__(\"PgjG\");\n\n// EXTERNAL MODULE: ./src/core/directives/user-link.ts\nvar user_link = __webpack_require__(\"nu3w\");\n\n// EXTERNAL MODULE: ./src/core/components/user-avatar/user-avatar.ts\nvar user_avatar = __webpack_require__(\"FeAf\");\n\n// EXTERNAL MODULE: ./src/core/components/spacer/spacer.ts\nvar spacer = __webpack_require__(\"nEkO\");\n\n// EXTERNAL MODULE: ./src/core/components/mark-required/mark-required.ts\nvar mark_required = __webpack_require__(\"FasJ\");\n\n// EXTERNAL MODULE: ./src/core/directives/format-text.ts\nvar format_text = __webpack_require__(\"hMzs\");\n\n// EXTERNAL MODULE: ./node_modules/@ngx-translate/core/__ivy_ngcc__/fesm2015/ngx-translate-core.js + 8 modules\nvar ngx_translate_core = __webpack_require__(\"sYmb\");\n\n// EXTERNAL MODULE: ./src/core/pipes/format-date.ts\nvar format_date = __webpack_require__(\"uYHD\");\n\n// CONCATENATED MODULE: ./src/addons/mod/feedback/pages/attempt/attempt.ts\n\n// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction AddonModFeedbackAttemptPage_h1_6_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"h1\");\n        core[\"pd\" /* ɵɵtext */](1);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r0 = core[\"Oc\" /* ɵɵnextContext */]();\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"qd\" /* ɵɵtextInterpolate */](ctx_r0.attempt.fullname);\n    }\n}\nfunction AddonModFeedbackAttemptPage_h1_7_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"h1\");\n        core[\"pd\" /* ɵɵtext */](1);\n        core[\"Pc\" /* ɵɵpipe */](2, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](2, 1, \"addon.mod_feedback.anonymous_user\"));\n    }\n}\nfunction AddonModFeedbackAttemptPage_ion_list_10_ion_item_1_p_6_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"p\");\n        core[\"pd\" /* ɵɵtext */](1);\n        core[\"Pc\" /* ɵɵpipe */](2, \"coreFormatDate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r6 = core[\"Oc\" /* ɵɵnextContext */](3);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](2, 1, ctx_r6.attempt.timemodified * 1000));\n    }\n}\nfunction AddonModFeedbackAttemptPage_ion_list_10_ion_item_1_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-item\", 9);\n        core[\"Pc\" /* ɵɵpipe */](1, \"translate\");\n        core[\"zc\" /* ɵɵelement */](2, \"core-user-avatar\", 10);\n        core[\"Ec\" /* ɵɵelementStart */](3, \"ion-label\");\n        core[\"Ec\" /* ɵɵelementStart */](4, \"h2\");\n        core[\"pd\" /* ɵɵtext */](5);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"nd\" /* ɵɵtemplate */](6, AddonModFeedbackAttemptPage_ion_list_10_ion_item_1_p_6_Template, 3, 3, \"p\", 2);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r3 = core[\"Oc\" /* ɵɵnextContext */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"userId\", ctx_r3.attempt.userid)(\"courseId\", ctx_r3.attempt.courseid);\n        core[\"mc\" /* ɵɵattribute */](\"aria-label\", core[\"Qc\" /* ɵɵpipeBind1 */](1, 7, \"core.user.viewprofile\"));\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"user\", ctx_r3.attempt)(\"linkProfile\", false);\n        core[\"lc\" /* ɵɵadvance */](3);\n        core[\"qd\" /* ɵɵtextInterpolate */](ctx_r3.attempt.fullname);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx_r3.attempt.timemodified);\n    }\n}\nfunction AddonModFeedbackAttemptPage_ion_list_10_ion_item_2_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-item\", 11);\n        core[\"zc\" /* ɵɵelement */](1, \"core-user-avatar\", 12);\n        core[\"Ec\" /* ɵɵelementStart */](2, \"ion-label\");\n        core[\"Ec\" /* ɵɵelementStart */](3, \"h2\");\n        core[\"pd\" /* ɵɵtext */](4);\n        core[\"Pc\" /* ɵɵpipe */](5, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Ec\" /* ɵɵelementStart */](6, \"p\");\n        core[\"pd\" /* ɵɵtext */](7);\n        core[\"Pc\" /* ɵɵpipe */](8, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r4 = core[\"Oc\" /* ɵɵnextContext */](2);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"linkProfile\", false);\n        core[\"lc\" /* ɵɵadvance */](3);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](5, 4, \"addon.mod_feedback.anonymous_user\"));\n        core[\"lc\" /* ɵɵadvance */](3);\n        core[\"sd\" /* ɵɵtextInterpolate2 */](\"\", core[\"Qc\" /* ɵɵpipeBind1 */](8, 6, \"addon.mod_feedback.response_nr\"), \": \", ctx_r4.anonAttempt.number, \"\");\n    }\n}\nfunction AddonModFeedbackAttemptPage_ion_list_10_ng_container_3_ng_container_1_core_spacer_1_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"zc\" /* ɵɵelement */](0, \"core-spacer\");\n    }\n}\nfunction AddonModFeedbackAttemptPage_ion_list_10_ng_container_3_ng_container_1_ion_item_2_h2_2_span_1_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"span\");\n        core[\"pd\" /* ɵɵtext */](1);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const item_r8 = core[\"Oc\" /* ɵɵnextContext */](3).$implicit;\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"rd\" /* ɵɵtextInterpolate1 */](\"\", item_r8.itemnumber, \". \");\n    }\n}\nfunction AddonModFeedbackAttemptPage_ion_list_10_ng_container_3_ng_container_1_ion_item_2_h2_2_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"h2\", 17);\n        core[\"nd\" /* ɵɵtemplate */](1, AddonModFeedbackAttemptPage_ion_list_10_ng_container_3_ng_container_1_ion_item_2_h2_2_span_1_Template, 2, 1, \"span\", 2);\n        core[\"zc\" /* ɵɵelement */](2, \"core-format-text\", 18);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const item_r8 = core[\"Oc\" /* ɵɵnextContext */](2).$implicit;\n        const ctx_r11 = core[\"Oc\" /* ɵɵnextContext */](3);\n        core[\"Vc\" /* ɵɵproperty */](\"core-mark-required\", item_r8.required);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx_r11.feedback.autonumbering && item_r8.itemnumber);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"component\", ctx_r11.component)(\"componentId\", ctx_r11.cmId)(\"text\", item_r8.name)(\"contextInstanceId\", ctx_r11.cmId)(\"courseId\", ctx_r11.courseId);\n    }\n}\nfunction AddonModFeedbackAttemptPage_ion_list_10_ng_container_3_ng_container_1_ion_item_2_p_3_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"p\");\n        core[\"zc\" /* ɵɵelement */](1, \"core-format-text\", 18);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const item_r8 = core[\"Oc\" /* ɵɵnextContext */](2).$implicit;\n        const ctx_r12 = core[\"Oc\" /* ɵɵnextContext */](3);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"component\", ctx_r12.component)(\"componentId\", ctx_r12.cmId)(\"text\", item_r8.submittedValue)(\"contextInstanceId\", ctx_r12.cmId)(\"courseId\", ctx_r12.courseId);\n    }\n}\nfunction AddonModFeedbackAttemptPage_ion_list_10_ng_container_3_ng_container_1_ion_item_2_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-item\", 15);\n        core[\"Ec\" /* ɵɵelementStart */](1, \"ion-label\");\n        core[\"nd\" /* ɵɵtemplate */](2, AddonModFeedbackAttemptPage_ion_list_10_ng_container_3_ng_container_1_ion_item_2_h2_2_Template, 3, 7, \"h2\", 16);\n        core[\"nd\" /* ɵɵtemplate */](3, AddonModFeedbackAttemptPage_ion_list_10_ng_container_3_ng_container_1_ion_item_2_p_3_Template, 2, 5, \"p\", 2);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const item_r8 = core[\"Oc\" /* ɵɵnextContext */]().$implicit;\n        core[\"Vc\" /* ɵɵproperty */](\"color\", item_r8.dependitem > 0 ? \"light\" : \"\");\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", item_r8.name);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", item_r8.submittedValue);\n    }\n}\nfunction AddonModFeedbackAttemptPage_ion_list_10_ng_container_3_ng_container_1_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Cc\" /* ɵɵelementContainerStart */](0);\n        core[\"nd\" /* ɵɵtemplate */](1, AddonModFeedbackAttemptPage_ion_list_10_ng_container_3_ng_container_1_core_spacer_1_Template, 1, 0, \"core-spacer\", 2);\n        core[\"nd\" /* ɵɵtemplate */](2, AddonModFeedbackAttemptPage_ion_list_10_ng_container_3_ng_container_1_ion_item_2_Template, 4, 3, \"ion-item\", 14);\n        core[\"Bc\" /* ɵɵelementContainerEnd */]();\n    }\n    if (rf & 2) {\n        const item_r8 = ctx.$implicit;\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", item_r8.typ == \"pagebreak\");\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", item_r8.typ != \"pagebreak\");\n    }\n}\nfunction AddonModFeedbackAttemptPage_ion_list_10_ng_container_3_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Cc\" /* ɵɵelementContainerStart */](0);\n        core[\"nd\" /* ɵɵtemplate */](1, AddonModFeedbackAttemptPage_ion_list_10_ng_container_3_ng_container_1_Template, 3, 2, \"ng-container\", 13);\n        core[\"Bc\" /* ɵɵelementContainerEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r5 = core[\"Oc\" /* ɵɵnextContext */](2);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngForOf\", ctx_r5.items);\n    }\n}\nfunction AddonModFeedbackAttemptPage_ion_list_10_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-list\", 6);\n        core[\"nd\" /* ɵɵtemplate */](1, AddonModFeedbackAttemptPage_ion_list_10_ion_item_1_Template, 7, 9, \"ion-item\", 7);\n        core[\"nd\" /* ɵɵtemplate */](2, AddonModFeedbackAttemptPage_ion_list_10_ion_item_2_Template, 9, 8, \"ion-item\", 8);\n        core[\"nd\" /* ɵɵtemplate */](3, AddonModFeedbackAttemptPage_ion_list_10_ng_container_3_Template, 2, 1, \"ng-container\", 2);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r2 = core[\"Oc\" /* ɵɵnextContext */]();\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx_r2.attempt);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx_r2.anonAttempt);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx_r2.items && ctx_r2.items.length);\n    }\n}\n/**\n * Page that displays a feedback attempt review.\n */\nlet attempt_AddonModFeedbackAttemptPage = /*@__PURE__*/ (() => {\n    class AddonModFeedbackAttemptPage {\n        constructor() {\n            this.items = [];\n            this.component = feedback[\"b\" /* AddonModFeedbackProvider */].COMPONENT;\n            this.loaded = false;\n            this.cmId = services_navigator[\"a\" /* CoreNavigator */].getRequiredRouteNumberParam('cmId');\n            this.courseId = services_navigator[\"a\" /* CoreNavigator */].getRequiredRouteNumberParam('courseId');\n            this.attemptId = services_navigator[\"a\" /* CoreNavigator */].getRequiredRouteNumberParam('attemptId');\n            const source = routed_items_manager_sources_tracker[\"a\" /* CoreRoutedItemsManagerSourcesTracker */].getOrCreateSource(feedback_attempts_source[\"a\" /* AddonModFeedbackAttemptsSource */], [this.courseId, this.cmId]);\n            this.attempts = new attempt_AddonModFeedbackAttemptsSwipeManager(source);\n        }\n        /**\n         * @inheritdoc\n         */\n        ngOnInit() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                try {\n                    yield this.attempts.start();\n                }\n                catch (error) {\n                    dom[\"a\" /* CoreDomUtils */].showErrorModal(error);\n                    services_navigator[\"a\" /* CoreNavigator */].back();\n                    return;\n                }\n                this.fetchData();\n            });\n        }\n        /**\n         * @inheritdoc\n         */\n        ngOnDestroy() {\n            this.attempts.destroy();\n        }\n        /**\n         * Fetch all the data required for the view.\n         *\n         * @return Promise resolved when done.\n         */\n        fetchData() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                try {\n                    this.feedback = yield feedback[\"a\" /* AddonModFeedback */].getFeedback(this.courseId, this.cmId);\n                    const attempt = yield feedback[\"a\" /* AddonModFeedback */].getAttempt(this.feedback.id, this.attemptId, { cmId: this.cmId });\n                    if (this.isAnonAttempt(attempt)) {\n                        this.anonAttempt = attempt;\n                        delete this.attempt;\n                    }\n                    else {\n                        this.attempt = attempt;\n                        delete this.anonAttempt;\n                    }\n                    const items = yield feedback[\"a\" /* AddonModFeedback */].getItems(this.feedback.id, { cmId: this.cmId });\n                    // Add responses and format items.\n                    this.items = items.items.map((item) => {\n                        const formItem = feedback_helper[\"a\" /* AddonModFeedbackHelper */].getItemForm(item, true);\n                        if (!formItem) {\n                            return;\n                        }\n                        const attemptItem = formItem;\n                        if (item.typ == 'label') {\n                            attemptItem.submittedValue = utils_text[\"a\" /* CoreTextUtils */].replacePluginfileUrls(item.presentation, item.itemfiles);\n                        }\n                        else {\n                            for (const x in attempt.responses) {\n                                if (attempt.responses[x].id == item.id) {\n                                    attemptItem.submittedValue = attempt.responses[x].printval;\n                                    break;\n                                }\n                            }\n                        }\n                        return attemptItem;\n                    }).filter((itemData) => itemData); // Filter items with errors.\n                }\n                catch (message) {\n                    // Some call failed on fetch, go back.\n                    dom[\"a\" /* CoreDomUtils */].showErrorModalDefault(message, 'core.course.errorgetmodule', true);\n                    services_navigator[\"a\" /* CoreNavigator */].back();\n                }\n                finally {\n                    this.loaded = true;\n                }\n            });\n        }\n        /**\n         * Check if an attempt is anonymous or not.\n         *\n         * @param attempt Attempt to check.\n         */\n        isAnonAttempt(attempt) {\n            return !('fullname' in attempt);\n        }\n    }\n    AddonModFeedbackAttemptPage.ɵfac = function AddonModFeedbackAttemptPage_Factory(t) { return new (t || AddonModFeedbackAttemptPage)(); };\n    AddonModFeedbackAttemptPage.ɵcmp = core[\"sc\" /* ɵɵdefineComponent */]({ type: AddonModFeedbackAttemptPage, selectors: [[\"page-addon-mod-feedback-attempt\"]], decls: 11, vars: 8, consts: [[\"slot\", \"start\"], [3, \"text\"], [4, \"ngIf\"], [3, \"core-swipe-navigation\"], [3, \"hideUntil\"], [\"class\", \"ion-no-margin\", 4, \"ngIf\"], [1, \"ion-no-margin\"], [\"class\", \"ion-text-wrap\", \"core-user-link\", \"\", 3, \"userId\", \"courseId\", 4, \"ngIf\"], [\"class\", \"ion-text-wrap\", 4, \"ngIf\"], [\"core-user-link\", \"\", 1, \"ion-text-wrap\", 3, \"userId\", \"courseId\"], [\"slot\", \"start\", 3, \"user\", \"linkProfile\"], [1, \"ion-text-wrap\"], [\"slot\", \"start\", 3, \"linkProfile\"], [4, \"ngFor\", \"ngForOf\"], [\"class\", \"ion-text-wrap\", 3, \"color\", 4, \"ngIf\"], [1, \"ion-text-wrap\", 3, \"color\"], [3, \"core-mark-required\", 4, \"ngIf\"], [3, \"core-mark-required\"], [\"contextLevel\", \"module\", 3, \"component\", \"componentId\", \"text\", \"contextInstanceId\", \"courseId\"]], template: function AddonModFeedbackAttemptPage_Template(rf, ctx) {\n            if (rf & 1) {\n                core[\"Ec\" /* ɵɵelementStart */](0, \"ion-header\");\n                core[\"Ec\" /* ɵɵelementStart */](1, \"ion-toolbar\");\n                core[\"Ec\" /* ɵɵelementStart */](2, \"ion-buttons\", 0);\n                core[\"zc\" /* ɵɵelement */](3, \"ion-back-button\", 1);\n                core[\"Pc\" /* ɵɵpipe */](4, \"translate\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](5, \"ion-title\");\n                core[\"nd\" /* ɵɵtemplate */](6, AddonModFeedbackAttemptPage_h1_6_Template, 2, 1, \"h1\", 2);\n                core[\"nd\" /* ɵɵtemplate */](7, AddonModFeedbackAttemptPage_h1_7_Template, 3, 3, \"h1\", 2);\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](8, \"ion-content\", 3);\n                core[\"Ec\" /* ɵɵelementStart */](9, \"core-loading\", 4);\n                core[\"nd\" /* ɵɵtemplate */](10, AddonModFeedbackAttemptPage_ion_list_10_Template, 4, 3, \"ion-list\", 5);\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n            }\n            if (rf & 2) {\n                core[\"lc\" /* ɵɵadvance */](3);\n                core[\"Vc\" /* ɵɵproperty */](\"text\", core[\"Qc\" /* ɵɵpipeBind1 */](4, 6, \"core.back\"));\n                core[\"lc\" /* ɵɵadvance */](3);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx.attempt);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx.anonAttempt);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"core-swipe-navigation\", ctx.attempts);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"hideUntil\", ctx.loaded);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx.attempt || ctx.anonAttempt);\n            }\n        }, directives: [ionic_angular[\"C\" /* IonHeader */], ionic_angular[\"Ab\" /* IonToolbar */], ionic_angular[\"m\" /* IonButtons */], ionic_angular[\"h\" /* IonBackButton */], ionic_angular[\"i\" /* IonBackButtonDelegate */], ionic_angular[\"yb\" /* IonTitle */], common[\"t\" /* NgIf */], content[\"a\" /* CoreContentDirective */], ionic_angular[\"v\" /* IonContent */], swipe_navigation[\"a\" /* CoreSwipeNavigationDirective */], loading[\"a\" /* CoreLoadingComponent */], ionic_angular[\"P\" /* IonList */], ionic_angular[\"I\" /* IonItem */], user_link[\"a\" /* CoreUserLinkDirective */], user_avatar[\"a\" /* CoreUserAvatarComponent */], ionic_angular[\"O\" /* IonLabel */], common[\"s\" /* NgForOf */], spacer[\"a\" /* CoreSpacerComponent */], mark_required[\"a\" /* CoreMarkRequiredComponent */], format_text[\"a\" /* CoreFormatTextDirective */]], pipes: [ngx_translate_core[\"d\" /* TranslatePipe */], format_date[\"a\" /* CoreFormatDatePipe */]], encapsulation: 2 });\n    return AddonModFeedbackAttemptPage;\n})();\n/**\n * Helper to manage swiping within a collection of discussions.\n */\nclass attempt_AddonModFeedbackAttemptsSwipeManager extends swipe_navigation_items_manager[\"a\" /* CoreSwipeNavigationItemsManager */] {\n    /**\n     * @inheritdoc\n     */\n    getSelectedItemPathFromRoute(route) {\n        return route.params.attemptId;\n    }\n}\n\n// CONCATENATED MODULE: ./src/addons/mod/feedback/pages/attempt/attempt.module.ts\n// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n\n\nconst routes = [\n    {\n        path: '',\n        component: attempt_AddonModFeedbackAttemptPage,\n    },\n];\nlet attempt_module_AddonModFeedbackAttemptPageModule = /*@__PURE__*/ (() => {\n    class AddonModFeedbackAttemptPageModule {\n    }\n    AddonModFeedbackAttemptPageModule.ɵmod = core[\"wc\" /* ɵɵdefineNgModule */]({ type: AddonModFeedbackAttemptPageModule });\n    AddonModFeedbackAttemptPageModule.ɵinj = core[\"vc\" /* ɵɵdefineInjector */]({ factory: function AddonModFeedbackAttemptPageModule_Factory(t) { return new (t || AddonModFeedbackAttemptPageModule)(); }, imports: [[\n                router[\"m\" /* RouterModule */].forChild(routes),\n                shared_module[\"a\" /* CoreSharedModule */],\n            ], router[\"m\" /* RouterModule */]] });\n    return AddonModFeedbackAttemptPageModule;\n})();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && core[\"kd\" /* ɵɵsetNgModuleScope */](attempt_module_AddonModFeedbackAttemptPageModule, { declarations: [attempt_AddonModFeedbackAttemptPage], imports: [router[\"m\" /* RouterModule */], shared_module[\"a\" /* CoreSharedModule */]], exports: [router[\"m\" /* RouterModule */]] }); })();\n\n\n/***/ }),\n\n/***/ \"eoiU\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return CoreSwipeNavigationItemsManager; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"mrSG\");\n/* harmony import */ var _services_navigator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"pHTc\");\n/* harmony import */ var _routed_items_manager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"CtbY\");\n// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n/**\n * Helper class to manage the state and routing of a swipeable page.\n */\nclass CoreSwipeNavigationItemsManager extends _routed_items_manager__WEBPACK_IMPORTED_MODULE_2__[/* CoreRoutedItemsManager */ \"a\"] {\n    /**\n     * Process page started operations.\n     */\n    start() {\n        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"a\"])(this, void 0, void 0, function* () {\n            this.updateSelectedItem();\n        });\n    }\n    /**\n     * Navigate to the next item.\n     */\n    navigateToNextItem() {\n        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"a\"])(this, void 0, void 0, function* () {\n            yield this.navigateToItemBy(1, 'forward');\n        });\n    }\n    /**\n     * Navigate to the previous item.\n     */\n    navigateToPreviousItem() {\n        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"a\"])(this, void 0, void 0, function* () {\n            yield this.navigateToItemBy(-1, 'back');\n        });\n    }\n    /**\n     * Has a next item.\n     */\n    hasNextItem() {\n        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"a\"])(this, void 0, void 0, function* () {\n            const item = yield this.getItemBy(1);\n            return !!item;\n        });\n    }\n    /**\n     * Has a previous item.\n     */\n    hasPreviousItem() {\n        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"a\"])(this, void 0, void 0, function* () {\n            const item = yield this.getItemBy(-1);\n            return !!item;\n        });\n    }\n    /**\n     * @inheritdoc\n     */\n    getCurrentPageRoute() {\n        return _services_navigator__WEBPACK_IMPORTED_MODULE_1__[/* CoreNavigator */ \"a\"].getCurrentRoute();\n    }\n    /**\n     * @inheritdoc\n     */\n    getSelectedItemPathFromRoute(route) {\n        const segments = [];\n        while (route) {\n            segments.push(...route.url);\n            if (!route.firstChild) {\n                break;\n            }\n            route = route.firstChild;\n        }\n        return segments.map(segment => segment.path).join('/').replace(/\\/+/, '/').trim() || null;\n    }\n    /**\n     * Navigate to an item by an offset.\n     *\n     * @param delta Index offset.\n     * @param animationDirection Animation direction.\n     */\n    navigateToItemBy(delta, animationDirection) {\n        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"a\"])(this, void 0, void 0, function* () {\n            const item = yield this.getItemBy(delta);\n            if (!item) {\n                return;\n            }\n            yield this.navigateToItem(item, { animationDirection, replace: true });\n        });\n    }\n    /**\n     * Get item by an offset.\n     *\n     * @param delta Index offset.\n     */\n    getItemBy(delta) {\n        var _a;\n        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"a\"])(this, void 0, void 0, function* () {\n            const items = this.getSource().getItems();\n            const selectedIndex = (_a = (this.selectedItem && (items === null || items === void 0 ? void 0 : items.indexOf(this.selectedItem)))) !== null && _a !== void 0 ? _a : -1;\n            if (selectedIndex === -1 || items === null) {\n                return null;\n            }\n            const deltaStep = delta > 0 ? 1 : -1;\n            let nextIndex = selectedIndex;\n            let deltaMoved = 0;\n            while (deltaMoved !== delta) {\n                nextIndex += deltaStep;\n                if (nextIndex < 0 || nextIndex >= items.length) {\n                    break;\n                }\n                if (this.skipItemInSwipe(items[nextIndex])) {\n                    continue;\n                }\n                deltaMoved += deltaStep;\n            }\n            if (deltaMoved === delta) {\n                return items[nextIndex];\n            }\n            if (!this.getSource().isCompleted()) {\n                yield this.getSource().load();\n                return this.getItemBy(delta);\n            }\n            return null;\n        });\n    }\n    /**\n     * Check if an item should be skipped during swipe navigation.\n     *\n     * @param item Item.\n     * @returns Whether to skip this item during swipe navigation.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    skipItemInSwipe(item) {\n        return false;\n    }\n}\n\n\n/***/ })\n\n}]);","inputSourceMap":null}