{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[99],{\"g77/\":function(e,o,s){\"use strict\";s.r(o),s.d(o,\"CoreCoursesMyCoursesPageModule\",(function(){return E}));var r=s(\"tyNb\"),t=s(\"L3Fv\"),a=s(\"5p9q\"),c=s(\"mrSG\"),n=s(\"mSZx\"),i=s(\"OYIH\"),l=s(\"YyYz\"),d=s(\"9+EE\"),u=s(\"3LXp\"),C=s(\"bFG1\"),b=s(\"fjkH\"),g=s(\"Xzvb\"),_=s(\"fXoL\"),m=s(\"TEn/\"),v=s(\"hMzs\"),h=s(\"C1x5\"),y=s(\"nt/U\"),f=s(\"PgjG\"),p=s(\"ofXK\"),k=s(\"ACYt\"),M=s(\"3CSS\"),P=s(\"aSim\"),w=s(\"r8G5\"),D=s(\"sYmb\");function CoreCoursesMyCoursesPage_div_22_ion_button_1_Template(e,o){if(1&e){const e=_.Fc();_.Ec(0,\"ion-button\",19),_.Mc(\"click\",(function CoreCoursesMyCoursesPage_div_22_ion_button_1_Template_ion_button_click_0_listener(){_.fd(e);return _.Oc(2).myOverviewBlock.prefetchCourses()})),_.Pc(1,\"translate\"),_.zc(2,\"ion-icon\",20),_.Dc()}if(2&e){const e=_.Oc(2);_.mc(\"aria-label\",_.Qc(1,2,e.myOverviewBlock.prefetchCoursesData.statusTranslatable)),_.lc(2),_.Vc(\"name\",e.myOverviewBlock.prefetchCoursesData.icon)}}function CoreCoursesMyCoursesPage_div_22_ion_badge_2_Template(e,o){if(1&e&&(_.Ec(0,\"ion-badge\",21),_.pd(1),_.Dc()),2&e){const e=_.Oc(2);_.mc(\"aria-valuemax\",e.myOverviewBlock.prefetchCoursesData.total)(\"aria-valuenow\",e.myOverviewBlock.prefetchCoursesData.count)(\"aria-valuetext\",e.myOverviewBlock.prefetchCoursesData.badgeA11yText),_.lc(1),_.rd(\" \",e.myOverviewBlock.prefetchCoursesData.badge,\" \")}}function CoreCoursesMyCoursesPage_div_22_ion_spinner_3_Template(e,o){1&e&&(_.zc(0,\"ion-spinner\"),_.Pc(1,\"translate\")),2&e&&_.mc(\"aria-label\",_.Qc(1,1,\"core.loading\"))}function CoreCoursesMyCoursesPage_div_22_Template(e,o){if(1&e&&(_.Ec(0,\"div\",15),_.nd(1,CoreCoursesMyCoursesPage_div_22_ion_button_1_Template,3,4,\"ion-button\",16),_.nd(2,CoreCoursesMyCoursesPage_div_22_ion_badge_2_Template,2,4,\"ion-badge\",17),_.nd(3,CoreCoursesMyCoursesPage_div_22_ion_spinner_3_Template,2,3,\"ion-spinner\",18),_.Dc()),2&e){const e=_.Oc();_.lc(1),_.Vc(\"ngIf\",!e.myOverviewBlock.prefetchCoursesData.loading),_.lc(1),_.Vc(\"ngIf\",e.myOverviewBlock.prefetchCoursesData.badge),_.lc(1),_.Vc(\"ngIf\",e.myOverviewBlock.prefetchCoursesData.loading)}}function CoreCoursesMyCoursesPage_core_block_24_Template(e,o){if(1&e&&_.zc(0,\"core-block\",22),2&e){const e=_.Oc();_.Vc(\"block\",e.loadedBlock)(\"instanceId\",e.userId)}}function CoreCoursesMyCoursesPage_core_block_side_blocks_button_25_Template(e,o){if(1&e&&_.zc(0,\"core-block-side-blocks-button\",23),2&e){const e=_.Oc();_.Vc(\"instanceId\",e.userId)(\"myDashboardPage\",e.myPageCourses)}}function CoreCoursesMyCoursesPage_core_empty_box_26_Template(e,o){1&e&&(_.zc(0,\"core-empty-box\",24),_.Pc(1,\"translate\")),2&e&&_.Vc(\"message\",_.Qc(1,1,\"core.course.nocontentavailable\"))}let O=(()=>{class CoreCoursesMyCoursesPage{constructor(){this.siteName=\"\",this.downloadCoursesEnabled=!1,this.loaded=!1,this.myPageCourses=i.b.MY_PAGE_COURSES,this.hasSideBlocks=!1,this.updateSiteObserver=b.b.on(b.b.SITE_UPDATED,(()=>{this.downloadCoursesEnabled=!g.a.isDownloadCoursesDisabledInSite(),this.loadSiteName()}),d.b.getCurrentSiteId()),this.userId=d.b.getCurrentSiteUserId()}ngOnInit(){this.downloadCoursesEnabled=!g.a.isDownloadCoursesDisabledInSite();(new l.a).treatLink(),this.loadSiteName(),this.loadContent()}loadContent(){var e,o;return Object(c.a)(this,void 0,void 0,(function*(){const s=yield i.a.isAvailable(),r=yield g.a.isMyCoursesDisabled();if(s&&!r)try{const s=yield i.a.getDashboardBlocks(void 0,void 0,this.myPageCourses);this.loadedBlock=s.mainBlocks.concat(s.sideBlocks).find((e=>\"myoverview\"==e.name)),this.hasSideBlocks=s.sideBlocks.length>0,yield C.a.nextTicks(2),this.myOverviewBlock=null===(o=null===(e=this.block)||void 0===e?void 0:e.dynamicComponent)||void 0===o?void 0:o.instance}catch(e){u.a.showErrorModal(e),this.loadFallbackBlock()}else s?this.loadedBlock=void 0:this.loadFallbackBlock();this.loaded=!0}))}loadSiteName(){this.siteName=d.b.getRequiredCurrentSite().getSiteName()||\"\"}loadFallbackBlock(){this.loadedBlock={name:\"myoverview\",visible:!0}}refresh(e){return Object(c.a)(this,void 0,void 0,(function*(){const o=[];o.push(i.a.invalidateDashboardBlocks(i.b.MY_PAGE_COURSES)),this.myOverviewBlock&&o.push(C.a.ignoreErrors(this.myOverviewBlock.doRefresh())),Promise.all(o).finally((()=>{this.loadContent().finally((()=>{null==e?void 0:e.complete()}))}))}))}ngOnDestroy(){var e;null===(e=this.updateSiteObserver)||void 0===e?void 0:e.off()}}return CoreCoursesMyCoursesPage.ɵfac=function CoreCoursesMyCoursesPage_Factory(e){return new(e||CoreCoursesMyCoursesPage)},CoreCoursesMyCoursesPage.ɵcmp=_.sc({type:CoreCoursesMyCoursesPage,selectors:[[\"page-core-courses-my\"]],viewQuery:function CoreCoursesMyCoursesPage_Query(e,o){var s;(1&e&&_.ud(n.a,!0),2&e)&&(_.dd(s=_.Nc())&&(o.block=s.first))},decls:27,vars:18,consts:[[\"slot\",\"start\"],[3,\"text\"],[\"contextLevel\",\"system\",1,\"core-header-sitename\",3,\"text\",\"contextInstanceId\"],[\"src\",\"assets/img/top_logo.png\",1,\"core-header-logo\",3,\"alt\"],[\"slot\",\"end\"],[\"slot\",\"fixed\",3,\"disabled\",\"ionRefresh\"],[3,\"pullingText\"],[3,\"hideUntil\"],[1,\"ion-text-wrap\",\"divider\"],[1,\"big\"],[\"slot\",\"end\",1,\"flex-row\"],[\"class\",\"core-button-spinner\",4,\"ngIf\"],[\"contextLevel\",\"user\",3,\"block\",\"instanceId\",4,\"ngIf\"],[\"slot\",\"fixed\",\"contextLevel\",\"user\",3,\"instanceId\",\"myDashboardPage\",4,\"ngIf\"],[\"icon\",\"fas-cubes\",3,\"message\",4,\"ngIf\"],[1,\"core-button-spinner\"],[\"fill\",\"clear\",3,\"click\",4,\"ngIf\"],[\"class\",\"core-course-download-courses-progress\",\"role\",\"progressbar\",4,\"ngIf\"],[4,\"ngIf\"],[\"fill\",\"clear\",3,\"click\"],[\"slot\",\"icon-only\",\"aria-hidden\",\"true\",3,\"name\"],[\"role\",\"progressbar\",1,\"core-course-download-courses-progress\"],[\"contextLevel\",\"user\",3,\"block\",\"instanceId\"],[\"slot\",\"fixed\",\"contextLevel\",\"user\",3,\"instanceId\",\"myDashboardPage\"],[\"icon\",\"fas-cubes\",3,\"message\"]],template:function CoreCoursesMyCoursesPage_Template(e,o){1&e&&(_.Ec(0,\"ion-header\"),_.Ec(1,\"ion-toolbar\"),_.Ec(2,\"ion-buttons\",0),_.zc(3,\"ion-back-button\",1),_.Pc(4,\"translate\"),_.Dc(),_.Ec(5,\"ion-title\"),_.Ec(6,\"h1\"),_.zc(7,\"core-format-text\",2),_.zc(8,\"img\",3),_.Dc(),_.Dc(),_.Ec(9,\"ion-buttons\",4),_.zc(10,\"core-user-menu-button\"),_.Dc(),_.Dc(),_.Dc(),_.Ec(11,\"ion-content\"),_.Ec(12,\"ion-refresher\",5),_.Mc(\"ionRefresh\",(function CoreCoursesMyCoursesPage_Template_ion_refresher_ionRefresh_12_listener(e){return o.refresh(e.target)})),_.zc(13,\"ion-refresher-content\",6),_.Pc(14,\"translate\"),_.Dc(),_.Ec(15,\"core-loading\",7),_.Ec(16,\"ion-item\",8),_.Ec(17,\"ion-label\"),_.Ec(18,\"h2\",9),_.pd(19),_.Pc(20,\"translate\"),_.Dc(),_.Dc(),_.Ec(21,\"div\",10),_.nd(22,CoreCoursesMyCoursesPage_div_22_Template,4,3,\"div\",11),_.Dc(),_.Dc(),_.Ec(23,\"ion-list\"),_.nd(24,CoreCoursesMyCoursesPage_core_block_24_Template,1,2,\"core-block\",12),_.Dc(),_.nd(25,CoreCoursesMyCoursesPage_core_block_side_blocks_button_25_Template,1,2,\"core-block-side-blocks-button\",13),_.nd(26,CoreCoursesMyCoursesPage_core_empty_box_26_Template,2,3,\"core-empty-box\",14),_.Dc(),_.Dc()),2&e&&(_.lc(3),_.Vc(\"text\",_.Qc(4,12,\"core.back\")),_.lc(4),_.Vc(\"text\",o.siteName)(\"contextInstanceId\",0),_.lc(1),_.Vc(\"alt\",o.siteName),_.lc(4),_.Vc(\"disabled\",!o.loaded),_.lc(1),_.Wc(\"pullingText\",_.Qc(14,14,\"core.pulltorefresh\")),_.lc(2),_.Vc(\"hideUntil\",o.loaded),_.lc(4),_.qd(_.Qc(20,16,\"core.courses.mycourses\")),_.lc(3),_.Vc(\"ngIf\",o.downloadCoursesEnabled&&o.myOverviewBlock&&o.myOverviewBlock.filteredCourses.length>0),_.lc(2),_.Vc(\"ngIf\",null==o.loadedBlock?null:o.loadedBlock.visible),_.lc(1),_.Vc(\"ngIf\",o.hasSideBlocks),_.lc(1),_.Vc(\"ngIf\",!o.loadedBlock))},directives:[m.C,m.Ab,m.m,m.h,m.i,m.yb,v.a,h.a,y.a,m.v,m.bb,m.cb,f.a,m.I,m.O,p.t,m.P,k.a,m.l,m.D,M.a,m.k,m.qb,n.a,P.a,w.a],pipes:[D.d],styles:[\"[_nghost-%COMP%]     ion-item-divider{display:none!important}[_nghost-%COMP%]     core-loading{--internal-loading-inline-min-height:calc(100vh - var(--core-header-toolbar-height))}ion-tabs.placement-bottom[_nghost-%COMP%]     core-loading, ion-tabs.placement-bottom   [_nghost-%COMP%]     core-loading{--internal-loading-inline-min-height:calc(100vh - var(--core-header-toolbar-height) - var(--bottom-tabs-size) - 2px)}core-block[_ngcontent-%COMP%]     ion-card.addon-block-myoverview{--border-width:0;--background:transparent;margin:0}\"]}),CoreCoursesMyCoursesPage})();var I=s(\"dQ3M\");const B=[{path:\"\",component:O}];let E=(()=>{class CoreCoursesMyCoursesPageModule{}return CoreCoursesMyCoursesPageModule.ɵmod=_.wc({type:CoreCoursesMyCoursesPageModule}),CoreCoursesMyCoursesPageModule.ɵinj=_.vc({factory:function CoreCoursesMyCoursesPageModule_Factory(e){return new(e||CoreCoursesMyCoursesPageModule)},imports:[[r.m.forChild(B),t.a,a.a,I.a],r.m]}),CoreCoursesMyCoursesPageModule})();void((\"undefined\"==typeof ngJitMode||ngJitMode)&&_.kd(E,{declarations:[O],imports:[r.m,t.a,a.a,I.a],exports:[r.m]}))}}]);","name":"99.bc4ac4bf5b87c453530f.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[99],{\n\n/***/ \"g77/\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"CoreCoursesMyCoursesPageModule\", function() { return /* binding */ my_module_CoreCoursesMyCoursesPageModule; });\n\n// EXTERNAL MODULE: ./node_modules/@angular/router/__ivy_ngcc__/fesm2015/router.js + 10 modules\nvar router = __webpack_require__(\"tyNb\");\n\n// EXTERNAL MODULE: ./src/core/shared.module.ts + 3 modules\nvar shared_module = __webpack_require__(\"L3Fv\");\n\n// EXTERNAL MODULE: ./src/core/features/block/components/components.module.ts\nvar components_module = __webpack_require__(\"5p9q\");\n\n// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.js\nvar tslib_es6 = __webpack_require__(\"mrSG\");\n\n// EXTERNAL MODULE: ./src/core/features/block/components/block/block.ts\nvar block = __webpack_require__(\"mSZx\");\n\n// EXTERNAL MODULE: ./src/core/features/courses/services/dashboard.ts\nvar dashboard = __webpack_require__(\"OYIH\");\n\n// EXTERNAL MODULE: ./src/core/features/mainmenu/classes/deep-link-manager.ts\nvar deep_link_manager = __webpack_require__(\"YyYz\");\n\n// EXTERNAL MODULE: ./src/core/services/sites.ts\nvar sites = __webpack_require__(\"9+EE\");\n\n// EXTERNAL MODULE: ./src/core/services/utils/dom.ts + 2 modules\nvar dom = __webpack_require__(\"3LXp\");\n\n// EXTERNAL MODULE: ./src/core/services/utils/utils.ts\nvar utils = __webpack_require__(\"bFG1\");\n\n// EXTERNAL MODULE: ./src/core/singletons/events.ts\nvar events = __webpack_require__(\"fjkH\");\n\n// EXTERNAL MODULE: ./src/core/features/courses/services/courses.ts\nvar courses = __webpack_require__(\"Xzvb\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js\nvar core = __webpack_require__(\"fXoL\");\n\n// EXTERNAL MODULE: ./node_modules/@ionic/angular/__ivy_ngcc__/fesm2015/ionic-angular.js + 5 modules\nvar ionic_angular = __webpack_require__(\"TEn/\");\n\n// EXTERNAL MODULE: ./src/core/directives/format-text.ts\nvar format_text = __webpack_require__(\"hMzs\");\n\n// EXTERNAL MODULE: ./src/core/features/mainmenu/components/user-menu-button/user-menu-button.ts\nvar user_menu_button = __webpack_require__(\"C1x5\");\n\n// EXTERNAL MODULE: ./src/core/directives/content.ts\nvar content = __webpack_require__(\"nt/U\");\n\n// EXTERNAL MODULE: ./src/core/components/loading/loading.ts\nvar loading = __webpack_require__(\"PgjG\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/common/__ivy_ngcc__/fesm2015/common.js\nvar common = __webpack_require__(\"ofXK\");\n\n// EXTERNAL MODULE: ./src/core/directives/update-non-reactive-attributes.ts\nvar update_non_reactive_attributes = __webpack_require__(\"ACYt\");\n\n// EXTERNAL MODULE: ./src/core/directives/fa-icon.ts\nvar fa_icon = __webpack_require__(\"3CSS\");\n\n// EXTERNAL MODULE: ./src/core/features/block/components/side-blocks-button/side-blocks-button.ts\nvar side_blocks_button = __webpack_require__(\"aSim\");\n\n// EXTERNAL MODULE: ./src/core/components/empty-box/empty-box.ts\nvar empty_box = __webpack_require__(\"r8G5\");\n\n// EXTERNAL MODULE: ./node_modules/@ngx-translate/core/__ivy_ngcc__/fesm2015/ngx-translate-core.js + 8 modules\nvar ngx_translate_core = __webpack_require__(\"sYmb\");\n\n// CONCATENATED MODULE: ./src/core/features/courses/pages/my/my.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction CoreCoursesMyCoursesPage_div_22_ion_button_1_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r8 = core[\"Fc\" /* ɵɵgetCurrentView */]();\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-button\", 19);\n        core[\"Mc\" /* ɵɵlistener */](\"click\", function CoreCoursesMyCoursesPage_div_22_ion_button_1_Template_ion_button_click_0_listener() { core[\"fd\" /* ɵɵrestoreView */](_r8); const ctx_r7 = core[\"Oc\" /* ɵɵnextContext */](2); return ctx_r7.myOverviewBlock.prefetchCourses(); });\n        core[\"Pc\" /* ɵɵpipe */](1, \"translate\");\n        core[\"zc\" /* ɵɵelement */](2, \"ion-icon\", 20);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r4 = core[\"Oc\" /* ɵɵnextContext */](2);\n        core[\"mc\" /* ɵɵattribute */](\"aria-label\", core[\"Qc\" /* ɵɵpipeBind1 */](1, 2, ctx_r4.myOverviewBlock.prefetchCoursesData.statusTranslatable));\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"name\", ctx_r4.myOverviewBlock.prefetchCoursesData.icon);\n    }\n}\nfunction CoreCoursesMyCoursesPage_div_22_ion_badge_2_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-badge\", 21);\n        core[\"pd\" /* ɵɵtext */](1);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r5 = core[\"Oc\" /* ɵɵnextContext */](2);\n        core[\"mc\" /* ɵɵattribute */](\"aria-valuemax\", ctx_r5.myOverviewBlock.prefetchCoursesData.total)(\"aria-valuenow\", ctx_r5.myOverviewBlock.prefetchCoursesData.count)(\"aria-valuetext\", ctx_r5.myOverviewBlock.prefetchCoursesData.badgeA11yText);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"rd\" /* ɵɵtextInterpolate1 */](\" \", ctx_r5.myOverviewBlock.prefetchCoursesData.badge, \" \");\n    }\n}\nfunction CoreCoursesMyCoursesPage_div_22_ion_spinner_3_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"zc\" /* ɵɵelement */](0, \"ion-spinner\");\n        core[\"Pc\" /* ɵɵpipe */](1, \"translate\");\n    }\n    if (rf & 2) {\n        core[\"mc\" /* ɵɵattribute */](\"aria-label\", core[\"Qc\" /* ɵɵpipeBind1 */](1, 1, \"core.loading\"));\n    }\n}\nfunction CoreCoursesMyCoursesPage_div_22_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"div\", 15);\n        core[\"nd\" /* ɵɵtemplate */](1, CoreCoursesMyCoursesPage_div_22_ion_button_1_Template, 3, 4, \"ion-button\", 16);\n        core[\"nd\" /* ɵɵtemplate */](2, CoreCoursesMyCoursesPage_div_22_ion_badge_2_Template, 2, 4, \"ion-badge\", 17);\n        core[\"nd\" /* ɵɵtemplate */](3, CoreCoursesMyCoursesPage_div_22_ion_spinner_3_Template, 2, 3, \"ion-spinner\", 18);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r0 = core[\"Oc\" /* ɵɵnextContext */]();\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", !ctx_r0.myOverviewBlock.prefetchCoursesData.loading);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx_r0.myOverviewBlock.prefetchCoursesData.badge);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx_r0.myOverviewBlock.prefetchCoursesData.loading);\n    }\n}\nfunction CoreCoursesMyCoursesPage_core_block_24_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"zc\" /* ɵɵelement */](0, \"core-block\", 22);\n    }\n    if (rf & 2) {\n        const ctx_r1 = core[\"Oc\" /* ɵɵnextContext */]();\n        core[\"Vc\" /* ɵɵproperty */](\"block\", ctx_r1.loadedBlock)(\"instanceId\", ctx_r1.userId);\n    }\n}\nfunction CoreCoursesMyCoursesPage_core_block_side_blocks_button_25_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"zc\" /* ɵɵelement */](0, \"core-block-side-blocks-button\", 23);\n    }\n    if (rf & 2) {\n        const ctx_r2 = core[\"Oc\" /* ɵɵnextContext */]();\n        core[\"Vc\" /* ɵɵproperty */](\"instanceId\", ctx_r2.userId)(\"myDashboardPage\", ctx_r2.myPageCourses);\n    }\n}\nfunction CoreCoursesMyCoursesPage_core_empty_box_26_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"zc\" /* ɵɵelement */](0, \"core-empty-box\", 24);\n        core[\"Pc\" /* ɵɵpipe */](1, \"translate\");\n    }\n    if (rf & 2) {\n        core[\"Vc\" /* ɵɵproperty */](\"message\", core[\"Qc\" /* ɵɵpipeBind1 */](1, 1, \"core.course.nocontentavailable\"));\n    }\n}\n/**\n * Page that shows a my courses.\n */\nlet my_CoreCoursesMyCoursesPage = /*@__PURE__*/ (() => {\n    class CoreCoursesMyCoursesPage {\n        constructor() {\n            this.siteName = '';\n            this.downloadCoursesEnabled = false;\n            this.loaded = false;\n            this.myPageCourses = dashboard[\"b\" /* CoreCoursesDashboardProvider */].MY_PAGE_COURSES;\n            this.hasSideBlocks = false;\n            // Refresh the enabled flags if site is updated.\n            this.updateSiteObserver = events[\"b\" /* CoreEvents */].on(events[\"b\" /* CoreEvents */].SITE_UPDATED, () => {\n                this.downloadCoursesEnabled = !courses[\"a\" /* CoreCourses */].isDownloadCoursesDisabledInSite();\n                this.loadSiteName();\n            }, sites[\"b\" /* CoreSites */].getCurrentSiteId());\n            this.userId = sites[\"b\" /* CoreSites */].getCurrentSiteUserId();\n        }\n        /**\n         * @inheritdoc\n         */\n        ngOnInit() {\n            this.downloadCoursesEnabled = !courses[\"a\" /* CoreCourses */].isDownloadCoursesDisabledInSite();\n            const deepLinkManager = new deep_link_manager[\"a\" /* CoreMainMenuDeepLinkManager */]();\n            deepLinkManager.treatLink();\n            this.loadSiteName();\n            this.loadContent();\n        }\n        /**\n         * Load my overview block instance.\n         */\n        loadContent() {\n            var _a, _b;\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                const available = yield dashboard[\"a\" /* CoreCoursesDashboard */].isAvailable();\n                const disabled = yield courses[\"a\" /* CoreCourses */].isMyCoursesDisabled();\n                if (available && !disabled) {\n                    try {\n                        const blocks = yield dashboard[\"a\" /* CoreCoursesDashboard */].getDashboardBlocks(undefined, undefined, this.myPageCourses);\n                        // My overview block should always be in main blocks, but check side blocks too just in case.\n                        this.loadedBlock = blocks.mainBlocks.concat(blocks.sideBlocks).find((block) => block.name == 'myoverview');\n                        this.hasSideBlocks = blocks.sideBlocks.length > 0;\n                        yield utils[\"a\" /* CoreUtils */].nextTicks(2);\n                        this.myOverviewBlock = (_b = (_a = this.block) === null || _a === void 0 ? void 0 : _a.dynamicComponent) === null || _b === void 0 ? void 0 : _b.instance;\n                    }\n                    catch (error) {\n                        dom[\"a\" /* CoreDomUtils */].showErrorModal(error);\n                        // Cannot get the blocks, just show the block if needed.\n                        this.loadFallbackBlock();\n                    }\n                }\n                else if (!available) {\n                    // WS not available, or my courses page not available. show fallback block.\n                    this.loadFallbackBlock();\n                }\n                else {\n                    // Disabled.\n                    this.loadedBlock = undefined;\n                }\n                this.loaded = true;\n            });\n        }\n        /**\n         * Load the site name.\n         */\n        loadSiteName() {\n            this.siteName = sites[\"b\" /* CoreSites */].getRequiredCurrentSite().getSiteName() || '';\n        }\n        /**\n         * Load fallback blocks.\n         */\n        loadFallbackBlock() {\n            this.loadedBlock = {\n                name: 'myoverview',\n                visible: true,\n            };\n        }\n        /**\n         * Refresh the data.\n         *\n         * @param refresher Refresher.\n         */\n        refresh(refresher) {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                const promises = [];\n                promises.push(dashboard[\"a\" /* CoreCoursesDashboard */].invalidateDashboardBlocks(dashboard[\"b\" /* CoreCoursesDashboardProvider */].MY_PAGE_COURSES));\n                // Invalidate the blocks.\n                if (this.myOverviewBlock) {\n                    promises.push(utils[\"a\" /* CoreUtils */].ignoreErrors(this.myOverviewBlock.doRefresh()));\n                }\n                Promise.all(promises).finally(() => {\n                    this.loadContent().finally(() => {\n                        refresher === null || refresher === void 0 ? void 0 : refresher.complete();\n                    });\n                });\n            });\n        }\n        /**\n         * @inheritdoc\n         */\n        ngOnDestroy() {\n            var _a;\n            (_a = this.updateSiteObserver) === null || _a === void 0 ? void 0 : _a.off();\n        }\n    }\n    CoreCoursesMyCoursesPage.ɵfac = function CoreCoursesMyCoursesPage_Factory(t) { return new (t || CoreCoursesMyCoursesPage)(); };\n    CoreCoursesMyCoursesPage.ɵcmp = core[\"sc\" /* ɵɵdefineComponent */]({ type: CoreCoursesMyCoursesPage, selectors: [[\"page-core-courses-my\"]], viewQuery: function CoreCoursesMyCoursesPage_Query(rf, ctx) {\n            if (rf & 1) {\n                core[\"ud\" /* ɵɵviewQuery */](block[\"a\" /* CoreBlockComponent */], true);\n            }\n            if (rf & 2) {\n                var _t;\n                core[\"dd\" /* ɵɵqueryRefresh */](_t = core[\"Nc\" /* ɵɵloadQuery */]()) && (ctx.block = _t.first);\n            }\n        }, decls: 27, vars: 18, consts: [[\"slot\", \"start\"], [3, \"text\"], [\"contextLevel\", \"system\", 1, \"core-header-sitename\", 3, \"text\", \"contextInstanceId\"], [\"src\", \"assets/img/top_logo.png\", 1, \"core-header-logo\", 3, \"alt\"], [\"slot\", \"end\"], [\"slot\", \"fixed\", 3, \"disabled\", \"ionRefresh\"], [3, \"pullingText\"], [3, \"hideUntil\"], [1, \"ion-text-wrap\", \"divider\"], [1, \"big\"], [\"slot\", \"end\", 1, \"flex-row\"], [\"class\", \"core-button-spinner\", 4, \"ngIf\"], [\"contextLevel\", \"user\", 3, \"block\", \"instanceId\", 4, \"ngIf\"], [\"slot\", \"fixed\", \"contextLevel\", \"user\", 3, \"instanceId\", \"myDashboardPage\", 4, \"ngIf\"], [\"icon\", \"fas-cubes\", 3, \"message\", 4, \"ngIf\"], [1, \"core-button-spinner\"], [\"fill\", \"clear\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"core-course-download-courses-progress\", \"role\", \"progressbar\", 4, \"ngIf\"], [4, \"ngIf\"], [\"fill\", \"clear\", 3, \"click\"], [\"slot\", \"icon-only\", \"aria-hidden\", \"true\", 3, \"name\"], [\"role\", \"progressbar\", 1, \"core-course-download-courses-progress\"], [\"contextLevel\", \"user\", 3, \"block\", \"instanceId\"], [\"slot\", \"fixed\", \"contextLevel\", \"user\", 3, \"instanceId\", \"myDashboardPage\"], [\"icon\", \"fas-cubes\", 3, \"message\"]], template: function CoreCoursesMyCoursesPage_Template(rf, ctx) {\n            if (rf & 1) {\n                core[\"Ec\" /* ɵɵelementStart */](0, \"ion-header\");\n                core[\"Ec\" /* ɵɵelementStart */](1, \"ion-toolbar\");\n                core[\"Ec\" /* ɵɵelementStart */](2, \"ion-buttons\", 0);\n                core[\"zc\" /* ɵɵelement */](3, \"ion-back-button\", 1);\n                core[\"Pc\" /* ɵɵpipe */](4, \"translate\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](5, \"ion-title\");\n                core[\"Ec\" /* ɵɵelementStart */](6, \"h1\");\n                core[\"zc\" /* ɵɵelement */](7, \"core-format-text\", 2);\n                core[\"zc\" /* ɵɵelement */](8, \"img\", 3);\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](9, \"ion-buttons\", 4);\n                core[\"zc\" /* ɵɵelement */](10, \"core-user-menu-button\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](11, \"ion-content\");\n                core[\"Ec\" /* ɵɵelementStart */](12, \"ion-refresher\", 5);\n                core[\"Mc\" /* ɵɵlistener */](\"ionRefresh\", function CoreCoursesMyCoursesPage_Template_ion_refresher_ionRefresh_12_listener($event) { return ctx.refresh($event.target); });\n                core[\"zc\" /* ɵɵelement */](13, \"ion-refresher-content\", 6);\n                core[\"Pc\" /* ɵɵpipe */](14, \"translate\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](15, \"core-loading\", 7);\n                core[\"Ec\" /* ɵɵelementStart */](16, \"ion-item\", 8);\n                core[\"Ec\" /* ɵɵelementStart */](17, \"ion-label\");\n                core[\"Ec\" /* ɵɵelementStart */](18, \"h2\", 9);\n                core[\"pd\" /* ɵɵtext */](19);\n                core[\"Pc\" /* ɵɵpipe */](20, \"translate\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](21, \"div\", 10);\n                core[\"nd\" /* ɵɵtemplate */](22, CoreCoursesMyCoursesPage_div_22_Template, 4, 3, \"div\", 11);\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](23, \"ion-list\");\n                core[\"nd\" /* ɵɵtemplate */](24, CoreCoursesMyCoursesPage_core_block_24_Template, 1, 2, \"core-block\", 12);\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"nd\" /* ɵɵtemplate */](25, CoreCoursesMyCoursesPage_core_block_side_blocks_button_25_Template, 1, 2, \"core-block-side-blocks-button\", 13);\n                core[\"nd\" /* ɵɵtemplate */](26, CoreCoursesMyCoursesPage_core_empty_box_26_Template, 2, 3, \"core-empty-box\", 14);\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n            }\n            if (rf & 2) {\n                core[\"lc\" /* ɵɵadvance */](3);\n                core[\"Vc\" /* ɵɵproperty */](\"text\", core[\"Qc\" /* ɵɵpipeBind1 */](4, 12, \"core.back\"));\n                core[\"lc\" /* ɵɵadvance */](4);\n                core[\"Vc\" /* ɵɵproperty */](\"text\", ctx.siteName)(\"contextInstanceId\", 0);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"alt\", ctx.siteName);\n                core[\"lc\" /* ɵɵadvance */](4);\n                core[\"Vc\" /* ɵɵproperty */](\"disabled\", !ctx.loaded);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Wc\" /* ɵɵpropertyInterpolate */](\"pullingText\", core[\"Qc\" /* ɵɵpipeBind1 */](14, 14, \"core.pulltorefresh\"));\n                core[\"lc\" /* ɵɵadvance */](2);\n                core[\"Vc\" /* ɵɵproperty */](\"hideUntil\", ctx.loaded);\n                core[\"lc\" /* ɵɵadvance */](4);\n                core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](20, 16, \"core.courses.mycourses\"));\n                core[\"lc\" /* ɵɵadvance */](3);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx.downloadCoursesEnabled && ctx.myOverviewBlock && ctx.myOverviewBlock.filteredCourses.length > 0);\n                core[\"lc\" /* ɵɵadvance */](2);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx.loadedBlock == null ? null : ctx.loadedBlock.visible);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx.hasSideBlocks);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", !ctx.loadedBlock);\n            }\n        }, directives: [ionic_angular[\"C\" /* IonHeader */], ionic_angular[\"Ab\" /* IonToolbar */], ionic_angular[\"m\" /* IonButtons */], ionic_angular[\"h\" /* IonBackButton */], ionic_angular[\"i\" /* IonBackButtonDelegate */], ionic_angular[\"yb\" /* IonTitle */], format_text[\"a\" /* CoreFormatTextDirective */], user_menu_button[\"a\" /* CoreMainMenuUserButtonComponent */], content[\"a\" /* CoreContentDirective */], ionic_angular[\"v\" /* IonContent */], ionic_angular[\"bb\" /* IonRefresher */], ionic_angular[\"cb\" /* IonRefresherContent */], loading[\"a\" /* CoreLoadingComponent */], ionic_angular[\"I\" /* IonItem */], ionic_angular[\"O\" /* IonLabel */], common[\"t\" /* NgIf */], ionic_angular[\"P\" /* IonList */], update_non_reactive_attributes[\"a\" /* CoreUpdateNonReactiveAttributesDirective */], ionic_angular[\"l\" /* IonButton */], ionic_angular[\"D\" /* IonIcon */], fa_icon[\"a\" /* CoreFaIconDirective */], ionic_angular[\"k\" /* IonBadge */], ionic_angular[\"qb\" /* IonSpinner */], block[\"a\" /* CoreBlockComponent */], side_blocks_button[\"a\" /* CoreBlockSideBlocksButtonComponent */], empty_box[\"a\" /* CoreEmptyBoxComponent */]], pipes: [ngx_translate_core[\"d\" /* TranslatePipe */]], styles: [\"[_nghost-%COMP%]     ion-item-divider{display:none!important}[_nghost-%COMP%]     core-loading{--internal-loading-inline-min-height:calc(100vh - var(--core-header-toolbar-height))}ion-tabs.placement-bottom[_nghost-%COMP%]     core-loading, ion-tabs.placement-bottom   [_nghost-%COMP%]     core-loading{--internal-loading-inline-min-height:calc(100vh - var(--core-header-toolbar-height) - var(--bottom-tabs-size) - 2px)}core-block[_ngcontent-%COMP%]     ion-card.addon-block-myoverview{--border-width:0;--background:transparent;margin:0}\"] });\n    return CoreCoursesMyCoursesPage;\n})();\n\n// EXTERNAL MODULE: ./src/core/features/mainmenu/components/components.module.ts\nvar components_components_module = __webpack_require__(\"dQ3M\");\n\n// CONCATENATED MODULE: ./src/core/features/courses/pages/my/my.module.ts\n// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n\n\n\n\nconst routes = [\n    {\n        path: '',\n        component: my_CoreCoursesMyCoursesPage,\n    },\n];\nlet my_module_CoreCoursesMyCoursesPageModule = /*@__PURE__*/ (() => {\n    class CoreCoursesMyCoursesPageModule {\n    }\n    CoreCoursesMyCoursesPageModule.ɵmod = core[\"wc\" /* ɵɵdefineNgModule */]({ type: CoreCoursesMyCoursesPageModule });\n    CoreCoursesMyCoursesPageModule.ɵinj = core[\"vc\" /* ɵɵdefineInjector */]({ factory: function CoreCoursesMyCoursesPageModule_Factory(t) { return new (t || CoreCoursesMyCoursesPageModule)(); }, imports: [[\n                router[\"m\" /* RouterModule */].forChild(routes),\n                shared_module[\"a\" /* CoreSharedModule */],\n                components_module[\"a\" /* CoreBlockComponentsModule */],\n                components_components_module[\"a\" /* CoreMainMenuComponentsModule */],\n            ], router[\"m\" /* RouterModule */]] });\n    return CoreCoursesMyCoursesPageModule;\n})();\n(function () {\n    (typeof ngJitMode === \"undefined\" || ngJitMode) && core[\"kd\" /* ɵɵsetNgModuleScope */](my_module_CoreCoursesMyCoursesPageModule, { declarations: [my_CoreCoursesMyCoursesPage], imports: [router[\"m\" /* RouterModule */], shared_module[\"a\" /* CoreSharedModule */],\n            components_module[\"a\" /* CoreBlockComponentsModule */],\n            components_components_module[\"a\" /* CoreMainMenuComponentsModule */]], exports: [router[\"m\" /* RouterModule */]] });\n})();\n\n\n/***/ })\n\n}]);","inputSourceMap":null}