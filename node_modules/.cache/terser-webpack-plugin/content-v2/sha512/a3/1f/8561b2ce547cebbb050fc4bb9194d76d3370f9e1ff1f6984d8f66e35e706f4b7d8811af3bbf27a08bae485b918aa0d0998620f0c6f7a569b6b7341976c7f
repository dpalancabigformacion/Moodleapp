{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{kNee:function(t,e,c){\"use strict\";c.r(e),c.d(e,\"AddonModH5PActivityUserAttemptsPageModule\",(function(){return b}));var i=c(\"tyNb\"),o=c(\"L3Fv\"),n=c(\"mrSG\"),a=c(\"4pns\"),s=c(\"pHTc\"),d=c(\"9+EE\"),r=c(\"3LXp\"),l=c(\"bFG1\"),m=c(\"pOwY\"),_=c(\"fXoL\"),p=c(\"TEn/\"),u=c(\"ofXK\"),A=c(\"nt/U\"),g=c(\"PgjG\"),P=c(\"hMzs\"),h=c(\"nu3w\"),f=c(\"FeAf\"),v=c(\"r8G5\"),y=c(\"3CSS\"),M=c(\"sYmb\"),I=c(\"uYHD\");function AddonModH5PActivityUserAttemptsPage_core_format_text_7_Template(t,e){if(1&t&&_.zc(0,\"core-format-text\",11),2&t){const t=_.Oc();_.Vc(\"text\",t.h5pActivity.name)(\"contextInstanceId\",t.h5pActivity.coursemodule)(\"courseId\",t.courseId)}}function AddonModH5PActivityUserAttemptsPage_ion_item_13_Template(t,e){if(1&t&&(_.Ec(0,\"ion-item\",12),_.zc(1,\"core-user-avatar\",13),_.Ec(2,\"ion-label\"),_.Ec(3,\"h2\"),_.pd(4),_.Dc(),_.Dc(),_.Dc()),2&t){const t=_.Oc();_.Vc(\"userId\",t.user.id)(\"courseId\",t.courseId),_.mc(\"aria-label\",t.user.fullname),_.lc(1),_.Vc(\"user\",t.user)(\"courseId\",t.courseId)(\"linkProfile\",!1),_.lc(3),_.qd(t.user.fullname)}}function AddonModH5PActivityUserAttemptsPage_ion_item_14_Template(t,e){if(1&t&&(_.Ec(0,\"ion-item\",14),_.zc(1,\"core-user-avatar\",15),_.Ec(2,\"ion-label\"),_.Ec(3,\"h2\"),_.pd(4),_.Pc(5,\"translate\"),_.Dc(),_.Dc(),_.Dc()),2&t){const t=_.Oc();_.lc(1),_.Vc(\"user\",t.user)(\"courseId\",t.courseId),_.lc(3),_.qd(_.Qc(5,3,\"addon.mod_h5pactivity.myattempts\"))}}function AddonModH5PActivityUserAttemptsPage_ion_list_15_ng_container_1_ng_container_5_Template(t,e){1&t&&_.Ac(0)}const _c0=function(t){return{attempts:t}};function AddonModH5PActivityUserAttemptsPage_ion_list_15_ng_container_1_Template(t,e){if(1&t&&(_.Cc(0),_.Ec(1,\"ion-item-divider\"),_.Ec(2,\"ion-label\"),_.Ec(3,\"h2\"),_.pd(4),_.Dc(),_.Dc(),_.Dc(),_.nd(5,AddonModH5PActivityUserAttemptsPage_ion_list_15_ng_container_1_ng_container_5_Template,1,0,\"ng-container\",16),_.Bc()),2&t){const t=_.Oc(2),e=_.ed(18);_.lc(4),_.qd(t.attemptsData.scored.title),_.lc(1),_.Vc(\"ngTemplateOutlet\",e)(\"ngTemplateOutletContext\",_.ad(3,_c0,t.attemptsData.scored.attempts))}}function AddonModH5PActivityUserAttemptsPage_ion_list_15_ng_container_2_ng_container_6_Template(t,e){1&t&&_.Ac(0)}function AddonModH5PActivityUserAttemptsPage_ion_list_15_ng_container_2_Template(t,e){if(1&t&&(_.Cc(0),_.Ec(1,\"ion-item-divider\"),_.Ec(2,\"ion-label\"),_.Ec(3,\"h2\"),_.pd(4),_.Pc(5,\"translate\"),_.Dc(),_.Dc(),_.Dc(),_.nd(6,AddonModH5PActivityUserAttemptsPage_ion_list_15_ng_container_2_ng_container_6_Template,1,0,\"ng-container\",16),_.Bc()),2&t){const t=_.Oc(2),e=_.ed(18);_.lc(4),_.qd(_.Qc(5,3,\"addon.mod_h5pactivity.all_attempts\")),_.lc(2),_.Vc(\"ngTemplateOutlet\",e)(\"ngTemplateOutletContext\",_.ad(5,_c0,t.attemptsData.attempts))}}function AddonModH5PActivityUserAttemptsPage_ion_list_15_Template(t,e){if(1&t&&(_.Ec(0,\"ion-list\"),_.nd(1,AddonModH5PActivityUserAttemptsPage_ion_list_15_ng_container_1_Template,6,5,\"ng-container\",8),_.nd(2,AddonModH5PActivityUserAttemptsPage_ion_list_15_ng_container_2_Template,7,7,\"ng-container\",8),_.Dc()),2&t){const t=_.Oc();_.lc(1),_.Vc(\"ngIf\",t.attemptsData.scored),_.lc(1),_.Vc(\"ngIf\",t.attemptsData.attempts&&t.attemptsData.attempts.length)}}function AddonModH5PActivityUserAttemptsPage_core_empty_box_16_Template(t,e){1&t&&(_.zc(0,\"core-empty-box\",17),_.Pc(1,\"translate\")),2&t&&_.Vc(\"message\",_.Qc(1,1,\"addon.mod_h5pactivity.attempts_none\"))}function AddonModH5PActivityUserAttemptsPage_ng_template_17_ion_item_23_img_18_Template(t,e){1&t&&(_.zc(0,\"img\",32),_.Pc(1,\"translate\")),2&t&&_.Vc(\"alt\",_.Qc(1,1,\"addon.mod_h5pactivity.attempt_completion_yes\"))}function AddonModH5PActivityUserAttemptsPage_ng_template_17_ion_item_23_img_19_Template(t,e){1&t&&(_.zc(0,\"img\",33),_.Pc(1,\"translate\")),2&t&&_.Vc(\"alt\",_.Qc(1,1,\"addon.mod_h5pactivity.attempt_completion_no\"))}function AddonModH5PActivityUserAttemptsPage_ng_template_17_ion_item_23_ion_icon_21_Template(t,e){1&t&&(_.zc(0,\"ion-icon\",34),_.Pc(1,\"translate\")),2&t&&_.mc(\"aria-label\",_.Qc(1,1,\"addon.mod_h5pactivity.attempt_success_pass\"))}function AddonModH5PActivityUserAttemptsPage_ng_template_17_ion_item_23_ion_icon_22_Template(t,e){1&t&&(_.zc(0,\"ion-icon\",35),_.Pc(1,\"translate\")),2&t&&_.mc(\"aria-label\",_.Qc(1,1,\"addon.mod_h5pactivity.attempt_success_fail\"))}function AddonModH5PActivityUserAttemptsPage_ng_template_17_ion_item_23_img_23_Template(t,e){1&t&&(_.zc(0,\"img\",36),_.Pc(1,\"translate\")),2&t&&_.Vc(\"alt\",_.Qc(1,1,\"addon.mod_h5pactivity.attempt_success_unknown\"))}const _c1=function(t){return{$a:t}};function AddonModH5PActivityUserAttemptsPage_ng_template_17_ion_item_23_Template(t,e){if(1&t){const t=_.Fc();_.Ec(0,\"ion-item\",24),_.Mc(\"click\",(function AddonModH5PActivityUserAttemptsPage_ng_template_17_ion_item_23_Template_ion_item_click_0_listener(){_.fd(t);const c=e.$implicit;return _.Oc(2).openAttempt(c)})),_.Pc(1,\"translate\"),_.Ec(2,\"ion-label\"),_.Ec(3,\"ion-row\",19),_.Ec(4,\"ion-col\",20),_.pd(5),_.Dc(),_.Ec(6,\"ion-col\",21),_.pd(7),_.Pc(8,\"coreFormatDate\"),_.Dc(),_.Ec(9,\"ion-col\",20),_.pd(10),_.Ec(11,\"span\",25),_.pd(12),_.Dc(),_.Dc(),_.Ec(13,\"ion-col\",22),_.pd(14),_.Dc(),_.Ec(15,\"ion-col\",22),_.pd(16),_.Dc(),_.Ec(17,\"ion-col\",22),_.nd(18,AddonModH5PActivityUserAttemptsPage_ng_template_17_ion_item_23_img_18_Template,2,3,\"img\",26),_.nd(19,AddonModH5PActivityUserAttemptsPage_ng_template_17_ion_item_23_img_19_Template,2,3,\"img\",27),_.Dc(),_.Ec(20,\"ion-col\",28),_.nd(21,AddonModH5PActivityUserAttemptsPage_ng_template_17_ion_item_23_ion_icon_21_Template,2,3,\"ion-icon\",29),_.nd(22,AddonModH5PActivityUserAttemptsPage_ng_template_17_ion_item_23_ion_icon_22_Template,2,3,\"ion-icon\",30),_.nd(23,AddonModH5PActivityUserAttemptsPage_ng_template_17_ion_item_23_img_23_Template,2,3,\"img\",31),_.Dc(),_.Dc(),_.Dc(),_.Dc()}if(2&t){const t=e.$implicit;_.mc(\"aria-label\",_.Rc(1,12,\"addon.mod_h5pactivity.viewattempt\",_.ad(18,_c1,t.attempt))),_.lc(5),_.qd(t.attempt),_.lc(2),_.rd(\" \",_.Rc(8,15,t.timemodified,\"strftimedatetimeshort\"),\" \"),_.lc(3),_.rd(\" \",t.rawscore,\"\"),_.lc(2),_.rd(\" / \",t.maxscore,\"\"),_.lc(2),_.qd(t.maxscore),_.lc(2),_.qd(t.durationReadable),_.lc(2),_.Vc(\"ngIf\",t.completion),_.lc(1),_.Vc(\"ngIf\",!t.completion),_.lc(2),_.Vc(\"ngIf\",null!==t.success&&t.success),_.lc(1),_.Vc(\"ngIf\",null!==t.success&&!t.success),_.lc(1),_.Vc(\"ngIf\",null===t.success)}}function AddonModH5PActivityUserAttemptsPage_ng_template_17_Template(t,e){if(1&t&&(_.Ec(0,\"ion-item\",18),_.Ec(1,\"ion-label\"),_.Ec(2,\"ion-row\",19),_.Ec(3,\"ion-col\",20),_.pd(4,\"#\"),_.Dc(),_.Ec(5,\"ion-col\",21),_.pd(6),_.Pc(7,\"translate\"),_.Dc(),_.Ec(8,\"ion-col\",20),_.pd(9),_.Pc(10,\"translate\"),_.Dc(),_.Ec(11,\"ion-col\",22),_.pd(12),_.Pc(13,\"translate\"),_.Dc(),_.Ec(14,\"ion-col\",22),_.pd(15),_.Pc(16,\"translate\"),_.Dc(),_.Ec(17,\"ion-col\",22),_.pd(18),_.Pc(19,\"translate\"),_.Dc(),_.Ec(20,\"ion-col\",20),_.pd(21),_.Pc(22,\"translate\"),_.Dc(),_.Dc(),_.Dc(),_.Dc(),_.nd(23,AddonModH5PActivityUserAttemptsPage_ng_template_17_ion_item_23_Template,24,20,\"ion-item\",23)),2&t){const t=e.attempts;_.Vc(\"detail\",!1),_.lc(6),_.qd(_.Qc(7,8,\"core.date\")),_.lc(3),_.qd(_.Qc(10,10,\"addon.mod_h5pactivity.score\")),_.lc(3),_.qd(_.Qc(13,12,\"addon.mod_h5pactivity.maxscore\")),_.lc(3),_.qd(_.Qc(16,14,\"addon.mod_h5pactivity.duration\")),_.lc(3),_.qd(_.Qc(19,16,\"addon.mod_h5pactivity.completion\")),_.lc(3),_.qd(_.Qc(22,18,\"core.success\")),_.lc(2),_.Vc(\"ngForOf\",t)}}let D=(()=>{class AddonModH5PActivityUserAttemptsPage{constructor(){this.loaded=!1,this.isCurrentUser=!1,this.fetchSuccess=!1}ngOnInit(){return Object(n.a)(this,void 0,void 0,(function*(){try{this.courseId=s.a.getRequiredRouteNumberParam(\"courseId\"),this.cmId=s.a.getRequiredRouteNumberParam(\"cmId\"),this.userId=s.a.getRouteNumberParam(\"userId\")||d.b.getCurrentSiteUserId()}catch(t){return r.a.showErrorModal(t),s.a.back(),void 0}this.isCurrentUser=this.userId==d.b.getCurrentSiteUserId(),yield this.fetchData()}))}doRefresh(t){this.refreshData().finally((()=>{t.complete()}))}fetchData(){return Object(n.a)(this,void 0,void 0,(function*(){try{this.h5pActivity=yield m.a.getH5PActivity(this.courseId,this.cmId),yield Promise.all([this.fetchAttempts(),this.fetchUserProfile()]),this.fetchSuccess||(this.fetchSuccess=!0,l.a.ignoreErrors(m.a.logViewReport(this.h5pActivity.id,this.h5pActivity.name,{userId:this.userId})))}catch(t){r.a.showErrorModalDefault(t,\"Error loading attempts.\")}finally{this.loaded=!0}}))}fetchAttempts(){return Object(n.a)(this,void 0,void 0,(function*(){this.h5pActivity&&(this.attemptsData=yield m.a.getUserAttempts(this.h5pActivity.id,{cmId:this.cmId,userId:this.userId}))}))}fetchUserProfile(){return Object(n.a)(this,void 0,void 0,(function*(){try{this.user=yield a.a.getProfile(this.userId,this.courseId,!0)}catch(t){}}))}refreshData(){return Object(n.a)(this,void 0,void 0,(function*(){const t=[m.a.invalidateActivityData(this.courseId)];this.h5pActivity&&t.push(m.a.invalidateUserAttempts(this.h5pActivity.id,this.userId)),yield l.a.ignoreErrors(Promise.all(t)),yield this.fetchData()}))}openAttempt(t){s.a.navigate(`../../attemptresults/${t.id}`)}}return AddonModH5PActivityUserAttemptsPage.ɵfac=function AddonModH5PActivityUserAttemptsPage_Factory(t){return new(t||AddonModH5PActivityUserAttemptsPage)},AddonModH5PActivityUserAttemptsPage.ɵcmp=_.sc({type:AddonModH5PActivityUserAttemptsPage,selectors:[[\"page-addon-mod-h5pactivity-user-attempts\"]],decls:19,vars:13,consts:[[\"slot\",\"start\"],[3,\"text\"],[\"contextLevel\",\"module\",3,\"text\",\"contextInstanceId\",\"courseId\",4,\"ngIf\"],[\"slot\",\"fixed\",3,\"disabled\",\"ionRefresh\"],[3,\"pullingText\"],[3,\"hideUntil\"],[\"class\",\"ion-text-wrap\",\"core-user-link\",\"\",\"button\",\"\",\"detail\",\"true\",3,\"userId\",\"courseId\",4,\"ngIf\"],[\"class\",\"ion-text-wrap\",4,\"ngIf\"],[4,\"ngIf\"],[\"icon\",\"fas-chart-bar\",3,\"message\",4,\"ngIf\"],[\"attemptsTemplate\",\"\"],[\"contextLevel\",\"module\",3,\"text\",\"contextInstanceId\",\"courseId\"],[\"core-user-link\",\"\",\"button\",\"\",\"detail\",\"true\",1,\"ion-text-wrap\",3,\"userId\",\"courseId\"],[\"slot\",\"start\",3,\"user\",\"courseId\",\"linkProfile\"],[1,\"ion-text-wrap\"],[\"slot\",\"start\",3,\"user\",\"courseId\"],[4,\"ngTemplateOutlet\",\"ngTemplateOutletContext\"],[\"icon\",\"fas-chart-bar\",3,\"message\"],[1,\"ion-text-wrap\",\"addon-mod_h5pactivity-table-header\",3,\"detail\"],[1,\"ion-align-items-center\"],[1,\"ion-text-center\"],[\"size\",\"5\",\"size-md\",\"2\",1,\"ion-text-center\"],[1,\"ion-text-center\",\"ion-hide-md-down\"],[\"class\",\"ion-text-wrap addon-mod_h5pactivity-table-row\",\"button\",\"\",\"detail\",\"true\",3,\"click\",4,\"ngFor\",\"ngForOf\"],[\"button\",\"\",\"detail\",\"true\",1,\"ion-text-wrap\",\"addon-mod_h5pactivity-table-row\",3,\"click\"],[1,\"ion-hide-md-up\"],[\"src\",\"assets/img/completion/completion-auto-y.svg\",3,\"alt\",4,\"ngIf\"],[\"src\",\"assets/img/completion/completion-auto-n.svg\",3,\"alt\",4,\"ngIf\"],[1,\"ion-text-center\",\"addon-mod_h5pactivity-table-success-col\"],[\"name\",\"fas-check-circle\",4,\"ngIf\"],[\"name\",\"far-circle\",4,\"ngIf\"],[\"src\",\"assets/img/icons/empty.svg\",3,\"alt\",4,\"ngIf\"],[\"src\",\"assets/img/completion/completion-auto-y.svg\",3,\"alt\"],[\"src\",\"assets/img/completion/completion-auto-n.svg\",3,\"alt\"],[\"name\",\"fas-check-circle\"],[\"name\",\"far-circle\"],[\"src\",\"assets/img/icons/empty.svg\",3,\"alt\"]],template:function AddonModH5PActivityUserAttemptsPage_Template(t,e){1&t&&(_.Ec(0,\"ion-header\"),_.Ec(1,\"ion-toolbar\"),_.Ec(2,\"ion-buttons\",0),_.zc(3,\"ion-back-button\",1),_.Pc(4,\"translate\"),_.Dc(),_.Ec(5,\"ion-title\"),_.Ec(6,\"h1\"),_.nd(7,AddonModH5PActivityUserAttemptsPage_core_format_text_7_Template,1,3,\"core-format-text\",2),_.Dc(),_.Dc(),_.Dc(),_.Dc(),_.Ec(8,\"ion-content\"),_.Ec(9,\"ion-refresher\",3),_.Mc(\"ionRefresh\",(function AddonModH5PActivityUserAttemptsPage_Template_ion_refresher_ionRefresh_9_listener(t){return e.doRefresh(t.target)})),_.zc(10,\"ion-refresher-content\",4),_.Pc(11,\"translate\"),_.Dc(),_.Ec(12,\"core-loading\",5),_.nd(13,AddonModH5PActivityUserAttemptsPage_ion_item_13_Template,5,7,\"ion-item\",6),_.nd(14,AddonModH5PActivityUserAttemptsPage_ion_item_14_Template,6,5,\"ion-item\",7),_.nd(15,AddonModH5PActivityUserAttemptsPage_ion_list_15_Template,3,2,\"ion-list\",8),_.nd(16,AddonModH5PActivityUserAttemptsPage_core_empty_box_16_Template,2,3,\"core-empty-box\",9),_.Dc(),_.Dc(),_.nd(17,AddonModH5PActivityUserAttemptsPage_ng_template_17_Template,24,20,\"ng-template\",null,10,_.od)),2&t&&(_.lc(3),_.Vc(\"text\",_.Qc(4,9,\"core.back\")),_.lc(4),_.Vc(\"ngIf\",e.h5pActivity),_.lc(2),_.Vc(\"disabled\",!e.loaded),_.lc(1),_.Wc(\"pullingText\",_.Qc(11,11,\"core.pulltorefresh\")),_.lc(2),_.Vc(\"hideUntil\",e.loaded),_.lc(1),_.Vc(\"ngIf\",e.user&&!e.isCurrentUser),_.lc(1),_.Vc(\"ngIf\",e.user&&e.isCurrentUser),_.lc(1),_.Vc(\"ngIf\",e.attemptsData),_.lc(1),_.Vc(\"ngIf\",e.attemptsData&&(!e.attemptsData.attempts||!e.attemptsData.attempts.length)))},directives:[p.C,p.Ab,p.m,p.h,p.i,p.yb,u.t,A.a,p.v,p.bb,p.cb,g.a,P.a,p.I,h.a,f.a,p.O,p.P,p.J,u.A,v.a,p.hb,p.u,u.s,p.D,y.a],pipes:[M.d,I.a],styles:[\"[_nghost-%COMP%]   .addon-mod_h5pactivity-table-header[_ngcontent-%COMP%]{font-weight:700}[_nghost-%COMP%]   .addon-mod_h5pactivity-table-row[_ngcontent-%COMP%]   .addon-mod_h5pactivity-table-success-col[_ngcontent-%COMP%]{font-size:1.2em}\"]}),AddonModH5PActivityUserAttemptsPage})();const U=[{path:\"\",component:D}];let b=(()=>{class AddonModH5PActivityUserAttemptsPageModule{}return AddonModH5PActivityUserAttemptsPageModule.ɵmod=_.wc({type:AddonModH5PActivityUserAttemptsPageModule}),AddonModH5PActivityUserAttemptsPageModule.ɵinj=_.vc({factory:function AddonModH5PActivityUserAttemptsPageModule_Factory(t){return new(t||AddonModH5PActivityUserAttemptsPageModule)},imports:[[i.m.forChild(U),o.a],i.m]}),AddonModH5PActivityUserAttemptsPageModule})();void((\"undefined\"==typeof ngJitMode||ngJitMode)&&_.kd(b,{declarations:[D],imports:[i.m,o.a],exports:[i.m]}))}}]);","name":"64.b3df0b4e6a776ea2340e.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[64],{\n\n/***/ \"kNee\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"AddonModH5PActivityUserAttemptsPageModule\", function() { return /* binding */ user_attempts_module_AddonModH5PActivityUserAttemptsPageModule; });\n\n// EXTERNAL MODULE: ./node_modules/@angular/router/__ivy_ngcc__/fesm2015/router.js + 10 modules\nvar router = __webpack_require__(\"tyNb\");\n\n// EXTERNAL MODULE: ./src/core/shared.module.ts + 3 modules\nvar shared_module = __webpack_require__(\"L3Fv\");\n\n// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.js\nvar tslib_es6 = __webpack_require__(\"mrSG\");\n\n// EXTERNAL MODULE: ./src/core/features/user/services/user.ts\nvar user = __webpack_require__(\"4pns\");\n\n// EXTERNAL MODULE: ./src/core/services/navigator.ts\nvar services_navigator = __webpack_require__(\"pHTc\");\n\n// EXTERNAL MODULE: ./src/core/services/sites.ts\nvar sites = __webpack_require__(\"9+EE\");\n\n// EXTERNAL MODULE: ./src/core/services/utils/dom.ts + 2 modules\nvar dom = __webpack_require__(\"3LXp\");\n\n// EXTERNAL MODULE: ./src/core/services/utils/utils.ts\nvar utils = __webpack_require__(\"bFG1\");\n\n// EXTERNAL MODULE: ./src/addons/mod/h5pactivity/services/h5pactivity.ts\nvar h5pactivity = __webpack_require__(\"pOwY\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js\nvar core = __webpack_require__(\"fXoL\");\n\n// EXTERNAL MODULE: ./node_modules/@ionic/angular/__ivy_ngcc__/fesm2015/ionic-angular.js + 5 modules\nvar ionic_angular = __webpack_require__(\"TEn/\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/common/__ivy_ngcc__/fesm2015/common.js\nvar common = __webpack_require__(\"ofXK\");\n\n// EXTERNAL MODULE: ./src/core/directives/content.ts\nvar content = __webpack_require__(\"nt/U\");\n\n// EXTERNAL MODULE: ./src/core/components/loading/loading.ts\nvar loading = __webpack_require__(\"PgjG\");\n\n// EXTERNAL MODULE: ./src/core/directives/format-text.ts\nvar format_text = __webpack_require__(\"hMzs\");\n\n// EXTERNAL MODULE: ./src/core/directives/user-link.ts\nvar user_link = __webpack_require__(\"nu3w\");\n\n// EXTERNAL MODULE: ./src/core/components/user-avatar/user-avatar.ts\nvar user_avatar = __webpack_require__(\"FeAf\");\n\n// EXTERNAL MODULE: ./src/core/components/empty-box/empty-box.ts\nvar empty_box = __webpack_require__(\"r8G5\");\n\n// EXTERNAL MODULE: ./src/core/directives/fa-icon.ts\nvar fa_icon = __webpack_require__(\"3CSS\");\n\n// EXTERNAL MODULE: ./node_modules/@ngx-translate/core/__ivy_ngcc__/fesm2015/ngx-translate-core.js + 8 modules\nvar ngx_translate_core = __webpack_require__(\"sYmb\");\n\n// EXTERNAL MODULE: ./src/core/pipes/format-date.ts\nvar format_date = __webpack_require__(\"uYHD\");\n\n// CONCATENATED MODULE: ./src/addons/mod/h5pactivity/pages/user-attempts/user-attempts.ts\n\n// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction AddonModH5PActivityUserAttemptsPage_core_format_text_7_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"zc\" /* ɵɵelement */](0, \"core-format-text\", 11);\n    }\n    if (rf & 2) {\n        const ctx_r0 = core[\"Oc\" /* ɵɵnextContext */]();\n        core[\"Vc\" /* ɵɵproperty */](\"text\", ctx_r0.h5pActivity.name)(\"contextInstanceId\", ctx_r0.h5pActivity.coursemodule)(\"courseId\", ctx_r0.courseId);\n    }\n}\nfunction AddonModH5PActivityUserAttemptsPage_ion_item_13_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-item\", 12);\n        core[\"zc\" /* ɵɵelement */](1, \"core-user-avatar\", 13);\n        core[\"Ec\" /* ɵɵelementStart */](2, \"ion-label\");\n        core[\"Ec\" /* ɵɵelementStart */](3, \"h2\");\n        core[\"pd\" /* ɵɵtext */](4);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r1 = core[\"Oc\" /* ɵɵnextContext */]();\n        core[\"Vc\" /* ɵɵproperty */](\"userId\", ctx_r1.user.id)(\"courseId\", ctx_r1.courseId);\n        core[\"mc\" /* ɵɵattribute */](\"aria-label\", ctx_r1.user.fullname);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"user\", ctx_r1.user)(\"courseId\", ctx_r1.courseId)(\"linkProfile\", false);\n        core[\"lc\" /* ɵɵadvance */](3);\n        core[\"qd\" /* ɵɵtextInterpolate */](ctx_r1.user.fullname);\n    }\n}\nfunction AddonModH5PActivityUserAttemptsPage_ion_item_14_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-item\", 14);\n        core[\"zc\" /* ɵɵelement */](1, \"core-user-avatar\", 15);\n        core[\"Ec\" /* ɵɵelementStart */](2, \"ion-label\");\n        core[\"Ec\" /* ɵɵelementStart */](3, \"h2\");\n        core[\"pd\" /* ɵɵtext */](4);\n        core[\"Pc\" /* ɵɵpipe */](5, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r2 = core[\"Oc\" /* ɵɵnextContext */]();\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"user\", ctx_r2.user)(\"courseId\", ctx_r2.courseId);\n        core[\"lc\" /* ɵɵadvance */](3);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](5, 3, \"addon.mod_h5pactivity.myattempts\"));\n    }\n}\nfunction AddonModH5PActivityUserAttemptsPage_ion_list_15_ng_container_1_ng_container_5_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ac\" /* ɵɵelementContainer */](0);\n    }\n}\nconst _c0 = function (a0) { return { attempts: a0 }; };\nfunction AddonModH5PActivityUserAttemptsPage_ion_list_15_ng_container_1_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Cc\" /* ɵɵelementContainerStart */](0);\n        core[\"Ec\" /* ɵɵelementStart */](1, \"ion-item-divider\");\n        core[\"Ec\" /* ɵɵelementStart */](2, \"ion-label\");\n        core[\"Ec\" /* ɵɵelementStart */](3, \"h2\");\n        core[\"pd\" /* ɵɵtext */](4);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"nd\" /* ɵɵtemplate */](5, AddonModH5PActivityUserAttemptsPage_ion_list_15_ng_container_1_ng_container_5_Template, 1, 0, \"ng-container\", 16);\n        core[\"Bc\" /* ɵɵelementContainerEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r7 = core[\"Oc\" /* ɵɵnextContext */](2);\n        const _r5 = core[\"ed\" /* ɵɵreference */](18);\n        core[\"lc\" /* ɵɵadvance */](4);\n        core[\"qd\" /* ɵɵtextInterpolate */](ctx_r7.attemptsData.scored.title);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngTemplateOutlet\", _r5)(\"ngTemplateOutletContext\", core[\"ad\" /* ɵɵpureFunction1 */](3, _c0, ctx_r7.attemptsData.scored.attempts));\n    }\n}\nfunction AddonModH5PActivityUserAttemptsPage_ion_list_15_ng_container_2_ng_container_6_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ac\" /* ɵɵelementContainer */](0);\n    }\n}\nfunction AddonModH5PActivityUserAttemptsPage_ion_list_15_ng_container_2_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Cc\" /* ɵɵelementContainerStart */](0);\n        core[\"Ec\" /* ɵɵelementStart */](1, \"ion-item-divider\");\n        core[\"Ec\" /* ɵɵelementStart */](2, \"ion-label\");\n        core[\"Ec\" /* ɵɵelementStart */](3, \"h2\");\n        core[\"pd\" /* ɵɵtext */](4);\n        core[\"Pc\" /* ɵɵpipe */](5, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"nd\" /* ɵɵtemplate */](6, AddonModH5PActivityUserAttemptsPage_ion_list_15_ng_container_2_ng_container_6_Template, 1, 0, \"ng-container\", 16);\n        core[\"Bc\" /* ɵɵelementContainerEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r8 = core[\"Oc\" /* ɵɵnextContext */](2);\n        const _r5 = core[\"ed\" /* ɵɵreference */](18);\n        core[\"lc\" /* ɵɵadvance */](4);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](5, 3, \"addon.mod_h5pactivity.all_attempts\"));\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"ngTemplateOutlet\", _r5)(\"ngTemplateOutletContext\", core[\"ad\" /* ɵɵpureFunction1 */](5, _c0, ctx_r8.attemptsData.attempts));\n    }\n}\nfunction AddonModH5PActivityUserAttemptsPage_ion_list_15_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-list\");\n        core[\"nd\" /* ɵɵtemplate */](1, AddonModH5PActivityUserAttemptsPage_ion_list_15_ng_container_1_Template, 6, 5, \"ng-container\", 8);\n        core[\"nd\" /* ɵɵtemplate */](2, AddonModH5PActivityUserAttemptsPage_ion_list_15_ng_container_2_Template, 7, 7, \"ng-container\", 8);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r3 = core[\"Oc\" /* ɵɵnextContext */]();\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx_r3.attemptsData.scored);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx_r3.attemptsData.attempts && ctx_r3.attemptsData.attempts.length);\n    }\n}\nfunction AddonModH5PActivityUserAttemptsPage_core_empty_box_16_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"zc\" /* ɵɵelement */](0, \"core-empty-box\", 17);\n        core[\"Pc\" /* ɵɵpipe */](1, \"translate\");\n    }\n    if (rf & 2) {\n        core[\"Vc\" /* ɵɵproperty */](\"message\", core[\"Qc\" /* ɵɵpipeBind1 */](1, 1, \"addon.mod_h5pactivity.attempts_none\"));\n    }\n}\nfunction AddonModH5PActivityUserAttemptsPage_ng_template_17_ion_item_23_img_18_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"zc\" /* ɵɵelement */](0, \"img\", 32);\n        core[\"Pc\" /* ɵɵpipe */](1, \"translate\");\n    }\n    if (rf & 2) {\n        core[\"Vc\" /* ɵɵproperty */](\"alt\", core[\"Qc\" /* ɵɵpipeBind1 */](1, 1, \"addon.mod_h5pactivity.attempt_completion_yes\"));\n    }\n}\nfunction AddonModH5PActivityUserAttemptsPage_ng_template_17_ion_item_23_img_19_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"zc\" /* ɵɵelement */](0, \"img\", 33);\n        core[\"Pc\" /* ɵɵpipe */](1, \"translate\");\n    }\n    if (rf & 2) {\n        core[\"Vc\" /* ɵɵproperty */](\"alt\", core[\"Qc\" /* ɵɵpipeBind1 */](1, 1, \"addon.mod_h5pactivity.attempt_completion_no\"));\n    }\n}\nfunction AddonModH5PActivityUserAttemptsPage_ng_template_17_ion_item_23_ion_icon_21_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"zc\" /* ɵɵelement */](0, \"ion-icon\", 34);\n        core[\"Pc\" /* ɵɵpipe */](1, \"translate\");\n    }\n    if (rf & 2) {\n        core[\"mc\" /* ɵɵattribute */](\"aria-label\", core[\"Qc\" /* ɵɵpipeBind1 */](1, 1, \"addon.mod_h5pactivity.attempt_success_pass\"));\n    }\n}\nfunction AddonModH5PActivityUserAttemptsPage_ng_template_17_ion_item_23_ion_icon_22_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"zc\" /* ɵɵelement */](0, \"ion-icon\", 35);\n        core[\"Pc\" /* ɵɵpipe */](1, \"translate\");\n    }\n    if (rf & 2) {\n        core[\"mc\" /* ɵɵattribute */](\"aria-label\", core[\"Qc\" /* ɵɵpipeBind1 */](1, 1, \"addon.mod_h5pactivity.attempt_success_fail\"));\n    }\n}\nfunction AddonModH5PActivityUserAttemptsPage_ng_template_17_ion_item_23_img_23_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"zc\" /* ɵɵelement */](0, \"img\", 36);\n        core[\"Pc\" /* ɵɵpipe */](1, \"translate\");\n    }\n    if (rf & 2) {\n        core[\"Vc\" /* ɵɵproperty */](\"alt\", core[\"Qc\" /* ɵɵpipeBind1 */](1, 1, \"addon.mod_h5pactivity.attempt_success_unknown\"));\n    }\n}\nconst _c1 = function (a0) { return { $a: a0 }; };\nfunction AddonModH5PActivityUserAttemptsPage_ng_template_17_ion_item_23_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r20 = core[\"Fc\" /* ɵɵgetCurrentView */]();\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-item\", 24);\n        core[\"Mc\" /* ɵɵlistener */](\"click\", function AddonModH5PActivityUserAttemptsPage_ng_template_17_ion_item_23_Template_ion_item_click_0_listener() { core[\"fd\" /* ɵɵrestoreView */](_r20); const attempt_r13 = ctx.$implicit; const ctx_r19 = core[\"Oc\" /* ɵɵnextContext */](2); return ctx_r19.openAttempt(attempt_r13); });\n        core[\"Pc\" /* ɵɵpipe */](1, \"translate\");\n        core[\"Ec\" /* ɵɵelementStart */](2, \"ion-label\");\n        core[\"Ec\" /* ɵɵelementStart */](3, \"ion-row\", 19);\n        core[\"Ec\" /* ɵɵelementStart */](4, \"ion-col\", 20);\n        core[\"pd\" /* ɵɵtext */](5);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Ec\" /* ɵɵelementStart */](6, \"ion-col\", 21);\n        core[\"pd\" /* ɵɵtext */](7);\n        core[\"Pc\" /* ɵɵpipe */](8, \"coreFormatDate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Ec\" /* ɵɵelementStart */](9, \"ion-col\", 20);\n        core[\"pd\" /* ɵɵtext */](10);\n        core[\"Ec\" /* ɵɵelementStart */](11, \"span\", 25);\n        core[\"pd\" /* ɵɵtext */](12);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Ec\" /* ɵɵelementStart */](13, \"ion-col\", 22);\n        core[\"pd\" /* ɵɵtext */](14);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Ec\" /* ɵɵelementStart */](15, \"ion-col\", 22);\n        core[\"pd\" /* ɵɵtext */](16);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Ec\" /* ɵɵelementStart */](17, \"ion-col\", 22);\n        core[\"nd\" /* ɵɵtemplate */](18, AddonModH5PActivityUserAttemptsPage_ng_template_17_ion_item_23_img_18_Template, 2, 3, \"img\", 26);\n        core[\"nd\" /* ɵɵtemplate */](19, AddonModH5PActivityUserAttemptsPage_ng_template_17_ion_item_23_img_19_Template, 2, 3, \"img\", 27);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Ec\" /* ɵɵelementStart */](20, \"ion-col\", 28);\n        core[\"nd\" /* ɵɵtemplate */](21, AddonModH5PActivityUserAttemptsPage_ng_template_17_ion_item_23_ion_icon_21_Template, 2, 3, \"ion-icon\", 29);\n        core[\"nd\" /* ɵɵtemplate */](22, AddonModH5PActivityUserAttemptsPage_ng_template_17_ion_item_23_ion_icon_22_Template, 2, 3, \"ion-icon\", 30);\n        core[\"nd\" /* ɵɵtemplate */](23, AddonModH5PActivityUserAttemptsPage_ng_template_17_ion_item_23_img_23_Template, 2, 3, \"img\", 31);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const attempt_r13 = ctx.$implicit;\n        core[\"mc\" /* ɵɵattribute */](\"aria-label\", core[\"Rc\" /* ɵɵpipeBind2 */](1, 12, \"addon.mod_h5pactivity.viewattempt\", core[\"ad\" /* ɵɵpureFunction1 */](18, _c1, attempt_r13.attempt)));\n        core[\"lc\" /* ɵɵadvance */](5);\n        core[\"qd\" /* ɵɵtextInterpolate */](attempt_r13.attempt);\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"rd\" /* ɵɵtextInterpolate1 */](\" \", core[\"Rc\" /* ɵɵpipeBind2 */](8, 15, attempt_r13.timemodified, \"strftimedatetimeshort\"), \" \");\n        core[\"lc\" /* ɵɵadvance */](3);\n        core[\"rd\" /* ɵɵtextInterpolate1 */](\" \", attempt_r13.rawscore, \"\");\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"rd\" /* ɵɵtextInterpolate1 */](\" / \", attempt_r13.maxscore, \"\");\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"qd\" /* ɵɵtextInterpolate */](attempt_r13.maxscore);\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"qd\" /* ɵɵtextInterpolate */](attempt_r13.durationReadable);\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", attempt_r13.completion);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", !attempt_r13.completion);\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", attempt_r13.success !== null && attempt_r13.success);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", attempt_r13.success !== null && !attempt_r13.success);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", attempt_r13.success === null);\n    }\n}\nfunction AddonModH5PActivityUserAttemptsPage_ng_template_17_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-item\", 18);\n        core[\"Ec\" /* ɵɵelementStart */](1, \"ion-label\");\n        core[\"Ec\" /* ɵɵelementStart */](2, \"ion-row\", 19);\n        core[\"Ec\" /* ɵɵelementStart */](3, \"ion-col\", 20);\n        core[\"pd\" /* ɵɵtext */](4, \"#\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Ec\" /* ɵɵelementStart */](5, \"ion-col\", 21);\n        core[\"pd\" /* ɵɵtext */](6);\n        core[\"Pc\" /* ɵɵpipe */](7, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Ec\" /* ɵɵelementStart */](8, \"ion-col\", 20);\n        core[\"pd\" /* ɵɵtext */](9);\n        core[\"Pc\" /* ɵɵpipe */](10, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Ec\" /* ɵɵelementStart */](11, \"ion-col\", 22);\n        core[\"pd\" /* ɵɵtext */](12);\n        core[\"Pc\" /* ɵɵpipe */](13, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Ec\" /* ɵɵelementStart */](14, \"ion-col\", 22);\n        core[\"pd\" /* ɵɵtext */](15);\n        core[\"Pc\" /* ɵɵpipe */](16, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Ec\" /* ɵɵelementStart */](17, \"ion-col\", 22);\n        core[\"pd\" /* ɵɵtext */](18);\n        core[\"Pc\" /* ɵɵpipe */](19, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Ec\" /* ɵɵelementStart */](20, \"ion-col\", 20);\n        core[\"pd\" /* ɵɵtext */](21);\n        core[\"Pc\" /* ɵɵpipe */](22, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"nd\" /* ɵɵtemplate */](23, AddonModH5PActivityUserAttemptsPage_ng_template_17_ion_item_23_Template, 24, 20, \"ion-item\", 23);\n    }\n    if (rf & 2) {\n        const attempts_r11 = ctx.attempts;\n        core[\"Vc\" /* ɵɵproperty */](\"detail\", false);\n        core[\"lc\" /* ɵɵadvance */](6);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](7, 8, \"core.date\"));\n        core[\"lc\" /* ɵɵadvance */](3);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](10, 10, \"addon.mod_h5pactivity.score\"));\n        core[\"lc\" /* ɵɵadvance */](3);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](13, 12, \"addon.mod_h5pactivity.maxscore\"));\n        core[\"lc\" /* ɵɵadvance */](3);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](16, 14, \"addon.mod_h5pactivity.duration\"));\n        core[\"lc\" /* ɵɵadvance */](3);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](19, 16, \"addon.mod_h5pactivity.completion\"));\n        core[\"lc\" /* ɵɵadvance */](3);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](22, 18, \"core.success\"));\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"ngForOf\", attempts_r11);\n    }\n}\n/**\n * Page that displays user attempts of a certain user.\n */\nlet user_attempts_AddonModH5PActivityUserAttemptsPage = /*@__PURE__*/ (() => {\n    class AddonModH5PActivityUserAttemptsPage {\n        constructor() {\n            this.loaded = false;\n            this.isCurrentUser = false;\n            this.fetchSuccess = false;\n        }\n        /**\n         * @inheritdoc\n         */\n        ngOnInit() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                try {\n                    this.courseId = services_navigator[\"a\" /* CoreNavigator */].getRequiredRouteNumberParam('courseId');\n                    this.cmId = services_navigator[\"a\" /* CoreNavigator */].getRequiredRouteNumberParam('cmId');\n                    this.userId = services_navigator[\"a\" /* CoreNavigator */].getRouteNumberParam('userId') || sites[\"b\" /* CoreSites */].getCurrentSiteUserId();\n                }\n                catch (error) {\n                    dom[\"a\" /* CoreDomUtils */].showErrorModal(error);\n                    services_navigator[\"a\" /* CoreNavigator */].back();\n                    return;\n                }\n                this.isCurrentUser = this.userId == sites[\"b\" /* CoreSites */].getCurrentSiteUserId();\n                yield this.fetchData();\n            });\n        }\n        /**\n         * Refresh the data.\n         *\n         * @param refresher Refresher.\n         */\n        doRefresh(refresher) {\n            this.refreshData().finally(() => {\n                refresher.complete();\n            });\n        }\n        /**\n         * Get quiz data and attempt data.\n         *\n         * @return Promise resolved when done.\n         */\n        fetchData() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                try {\n                    this.h5pActivity = yield h5pactivity[\"a\" /* AddonModH5PActivity */].getH5PActivity(this.courseId, this.cmId);\n                    yield Promise.all([\n                        this.fetchAttempts(),\n                        this.fetchUserProfile(),\n                    ]);\n                    if (!this.fetchSuccess) {\n                        this.fetchSuccess = true;\n                        utils[\"a\" /* CoreUtils */].ignoreErrors(h5pactivity[\"a\" /* AddonModH5PActivity */].logViewReport(this.h5pActivity.id, this.h5pActivity.name, { userId: this.userId }));\n                    }\n                }\n                catch (error) {\n                    dom[\"a\" /* CoreDomUtils */].showErrorModalDefault(error, 'Error loading attempts.');\n                }\n                finally {\n                    this.loaded = true;\n                }\n            });\n        }\n        /**\n         * Get attempts.\n         *\n         * @return Promise resolved when done.\n         */\n        fetchAttempts() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                if (!this.h5pActivity) {\n                    return;\n                }\n                this.attemptsData = yield h5pactivity[\"a\" /* AddonModH5PActivity */].getUserAttempts(this.h5pActivity.id, {\n                    cmId: this.cmId,\n                    userId: this.userId,\n                });\n            });\n        }\n        /**\n         * Get user profile.\n         *\n         * @return Promise resolved when done.\n         */\n        fetchUserProfile() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                try {\n                    this.user = yield user[\"a\" /* CoreUser */].getProfile(this.userId, this.courseId, true);\n                }\n                catch (_a) {\n                    // Ignore errors.\n                }\n            });\n        }\n        /**\n         * Refresh the data.\n         *\n         * @return Promise resolved when done.\n         */\n        refreshData() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                const promises = [\n                    h5pactivity[\"a\" /* AddonModH5PActivity */].invalidateActivityData(this.courseId),\n                ];\n                if (this.h5pActivity) {\n                    promises.push(h5pactivity[\"a\" /* AddonModH5PActivity */].invalidateUserAttempts(this.h5pActivity.id, this.userId));\n                }\n                yield utils[\"a\" /* CoreUtils */].ignoreErrors(Promise.all(promises));\n                yield this.fetchData();\n            });\n        }\n        /**\n         * Open the page to view an attempt.\n         *\n         * @param attempt Attempt.\n         */\n        openAttempt(attempt) {\n            services_navigator[\"a\" /* CoreNavigator */].navigate(`../../attemptresults/${attempt.id}`);\n        }\n    }\n    AddonModH5PActivityUserAttemptsPage.ɵfac = function AddonModH5PActivityUserAttemptsPage_Factory(t) { return new (t || AddonModH5PActivityUserAttemptsPage)(); };\n    AddonModH5PActivityUserAttemptsPage.ɵcmp = core[\"sc\" /* ɵɵdefineComponent */]({ type: AddonModH5PActivityUserAttemptsPage, selectors: [[\"page-addon-mod-h5pactivity-user-attempts\"]], decls: 19, vars: 13, consts: [[\"slot\", \"start\"], [3, \"text\"], [\"contextLevel\", \"module\", 3, \"text\", \"contextInstanceId\", \"courseId\", 4, \"ngIf\"], [\"slot\", \"fixed\", 3, \"disabled\", \"ionRefresh\"], [3, \"pullingText\"], [3, \"hideUntil\"], [\"class\", \"ion-text-wrap\", \"core-user-link\", \"\", \"button\", \"\", \"detail\", \"true\", 3, \"userId\", \"courseId\", 4, \"ngIf\"], [\"class\", \"ion-text-wrap\", 4, \"ngIf\"], [4, \"ngIf\"], [\"icon\", \"fas-chart-bar\", 3, \"message\", 4, \"ngIf\"], [\"attemptsTemplate\", \"\"], [\"contextLevel\", \"module\", 3, \"text\", \"contextInstanceId\", \"courseId\"], [\"core-user-link\", \"\", \"button\", \"\", \"detail\", \"true\", 1, \"ion-text-wrap\", 3, \"userId\", \"courseId\"], [\"slot\", \"start\", 3, \"user\", \"courseId\", \"linkProfile\"], [1, \"ion-text-wrap\"], [\"slot\", \"start\", 3, \"user\", \"courseId\"], [4, \"ngTemplateOutlet\", \"ngTemplateOutletContext\"], [\"icon\", \"fas-chart-bar\", 3, \"message\"], [1, \"ion-text-wrap\", \"addon-mod_h5pactivity-table-header\", 3, \"detail\"], [1, \"ion-align-items-center\"], [1, \"ion-text-center\"], [\"size\", \"5\", \"size-md\", \"2\", 1, \"ion-text-center\"], [1, \"ion-text-center\", \"ion-hide-md-down\"], [\"class\", \"ion-text-wrap addon-mod_h5pactivity-table-row\", \"button\", \"\", \"detail\", \"true\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [\"button\", \"\", \"detail\", \"true\", 1, \"ion-text-wrap\", \"addon-mod_h5pactivity-table-row\", 3, \"click\"], [1, \"ion-hide-md-up\"], [\"src\", \"assets/img/completion/completion-auto-y.svg\", 3, \"alt\", 4, \"ngIf\"], [\"src\", \"assets/img/completion/completion-auto-n.svg\", 3, \"alt\", 4, \"ngIf\"], [1, \"ion-text-center\", \"addon-mod_h5pactivity-table-success-col\"], [\"name\", \"fas-check-circle\", 4, \"ngIf\"], [\"name\", \"far-circle\", 4, \"ngIf\"], [\"src\", \"assets/img/icons/empty.svg\", 3, \"alt\", 4, \"ngIf\"], [\"src\", \"assets/img/completion/completion-auto-y.svg\", 3, \"alt\"], [\"src\", \"assets/img/completion/completion-auto-n.svg\", 3, \"alt\"], [\"name\", \"fas-check-circle\"], [\"name\", \"far-circle\"], [\"src\", \"assets/img/icons/empty.svg\", 3, \"alt\"]], template: function AddonModH5PActivityUserAttemptsPage_Template(rf, ctx) {\n            if (rf & 1) {\n                core[\"Ec\" /* ɵɵelementStart */](0, \"ion-header\");\n                core[\"Ec\" /* ɵɵelementStart */](1, \"ion-toolbar\");\n                core[\"Ec\" /* ɵɵelementStart */](2, \"ion-buttons\", 0);\n                core[\"zc\" /* ɵɵelement */](3, \"ion-back-button\", 1);\n                core[\"Pc\" /* ɵɵpipe */](4, \"translate\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](5, \"ion-title\");\n                core[\"Ec\" /* ɵɵelementStart */](6, \"h1\");\n                core[\"nd\" /* ɵɵtemplate */](7, AddonModH5PActivityUserAttemptsPage_core_format_text_7_Template, 1, 3, \"core-format-text\", 2);\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](8, \"ion-content\");\n                core[\"Ec\" /* ɵɵelementStart */](9, \"ion-refresher\", 3);\n                core[\"Mc\" /* ɵɵlistener */](\"ionRefresh\", function AddonModH5PActivityUserAttemptsPage_Template_ion_refresher_ionRefresh_9_listener($event) { return ctx.doRefresh($event.target); });\n                core[\"zc\" /* ɵɵelement */](10, \"ion-refresher-content\", 4);\n                core[\"Pc\" /* ɵɵpipe */](11, \"translate\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](12, \"core-loading\", 5);\n                core[\"nd\" /* ɵɵtemplate */](13, AddonModH5PActivityUserAttemptsPage_ion_item_13_Template, 5, 7, \"ion-item\", 6);\n                core[\"nd\" /* ɵɵtemplate */](14, AddonModH5PActivityUserAttemptsPage_ion_item_14_Template, 6, 5, \"ion-item\", 7);\n                core[\"nd\" /* ɵɵtemplate */](15, AddonModH5PActivityUserAttemptsPage_ion_list_15_Template, 3, 2, \"ion-list\", 8);\n                core[\"nd\" /* ɵɵtemplate */](16, AddonModH5PActivityUserAttemptsPage_core_empty_box_16_Template, 2, 3, \"core-empty-box\", 9);\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"nd\" /* ɵɵtemplate */](17, AddonModH5PActivityUserAttemptsPage_ng_template_17_Template, 24, 20, \"ng-template\", null, 10, core[\"od\" /* ɵɵtemplateRefExtractor */]);\n            }\n            if (rf & 2) {\n                core[\"lc\" /* ɵɵadvance */](3);\n                core[\"Vc\" /* ɵɵproperty */](\"text\", core[\"Qc\" /* ɵɵpipeBind1 */](4, 9, \"core.back\"));\n                core[\"lc\" /* ɵɵadvance */](4);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx.h5pActivity);\n                core[\"lc\" /* ɵɵadvance */](2);\n                core[\"Vc\" /* ɵɵproperty */](\"disabled\", !ctx.loaded);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Wc\" /* ɵɵpropertyInterpolate */](\"pullingText\", core[\"Qc\" /* ɵɵpipeBind1 */](11, 11, \"core.pulltorefresh\"));\n                core[\"lc\" /* ɵɵadvance */](2);\n                core[\"Vc\" /* ɵɵproperty */](\"hideUntil\", ctx.loaded);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx.user && !ctx.isCurrentUser);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx.user && ctx.isCurrentUser);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx.attemptsData);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx.attemptsData && (!ctx.attemptsData.attempts || !ctx.attemptsData.attempts.length));\n            }\n        }, directives: [ionic_angular[\"C\" /* IonHeader */], ionic_angular[\"Ab\" /* IonToolbar */], ionic_angular[\"m\" /* IonButtons */], ionic_angular[\"h\" /* IonBackButton */], ionic_angular[\"i\" /* IonBackButtonDelegate */], ionic_angular[\"yb\" /* IonTitle */], common[\"t\" /* NgIf */], content[\"a\" /* CoreContentDirective */], ionic_angular[\"v\" /* IonContent */], ionic_angular[\"bb\" /* IonRefresher */], ionic_angular[\"cb\" /* IonRefresherContent */], loading[\"a\" /* CoreLoadingComponent */], format_text[\"a\" /* CoreFormatTextDirective */], ionic_angular[\"I\" /* IonItem */], user_link[\"a\" /* CoreUserLinkDirective */], user_avatar[\"a\" /* CoreUserAvatarComponent */], ionic_angular[\"O\" /* IonLabel */], ionic_angular[\"P\" /* IonList */], ionic_angular[\"J\" /* IonItemDivider */], common[\"A\" /* NgTemplateOutlet */], empty_box[\"a\" /* CoreEmptyBoxComponent */], ionic_angular[\"hb\" /* IonRow */], ionic_angular[\"u\" /* IonCol */], common[\"s\" /* NgForOf */], ionic_angular[\"D\" /* IonIcon */], fa_icon[\"a\" /* CoreFaIconDirective */]], pipes: [ngx_translate_core[\"d\" /* TranslatePipe */], format_date[\"a\" /* CoreFormatDatePipe */]], styles: [\"[_nghost-%COMP%]   .addon-mod_h5pactivity-table-header[_ngcontent-%COMP%]{font-weight:700}[_nghost-%COMP%]   .addon-mod_h5pactivity-table-row[_ngcontent-%COMP%]   .addon-mod_h5pactivity-table-success-col[_ngcontent-%COMP%]{font-size:1.2em}\"] });\n    return AddonModH5PActivityUserAttemptsPage;\n})();\n\n// CONCATENATED MODULE: ./src/addons/mod/h5pactivity/pages/user-attempts/user-attempts.module.ts\n// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n\n\nconst routes = [\n    {\n        path: '',\n        component: user_attempts_AddonModH5PActivityUserAttemptsPage,\n    },\n];\nlet user_attempts_module_AddonModH5PActivityUserAttemptsPageModule = /*@__PURE__*/ (() => {\n    class AddonModH5PActivityUserAttemptsPageModule {\n    }\n    AddonModH5PActivityUserAttemptsPageModule.ɵmod = core[\"wc\" /* ɵɵdefineNgModule */]({ type: AddonModH5PActivityUserAttemptsPageModule });\n    AddonModH5PActivityUserAttemptsPageModule.ɵinj = core[\"vc\" /* ɵɵdefineInjector */]({ factory: function AddonModH5PActivityUserAttemptsPageModule_Factory(t) { return new (t || AddonModH5PActivityUserAttemptsPageModule)(); }, imports: [[\n                router[\"m\" /* RouterModule */].forChild(routes),\n                shared_module[\"a\" /* CoreSharedModule */],\n            ], router[\"m\" /* RouterModule */]] });\n    return AddonModH5PActivityUserAttemptsPageModule;\n})();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && core[\"kd\" /* ɵɵsetNgModuleScope */](user_attempts_module_AddonModH5PActivityUserAttemptsPageModule, { declarations: [user_attempts_AddonModH5PActivityUserAttemptsPage], imports: [router[\"m\" /* RouterModule */], shared_module[\"a\" /* CoreSharedModule */]], exports: [router[\"m\" /* RouterModule */]] }); })();\n\n\n/***/ })\n\n}]);","inputSourceMap":null}