{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[129],{A7m2:function(e,t,r){\"use strict\";r.r(t),r.d(t,\"CoreUserCourseLazyModule\",(function(){return Q}));var i=r(\"tyNb\"),a=r(\"L3Fv\"),c=r(\"PM4H\"),s=r(\"mrSG\"),n=r(\"nvXB\"),o=r(\"3LXp\"),l=r(\"pHTc\"),p=r(\"EoRH\"),_=r(\"46ml\"),h=r(\"4pns\"),u=r(\"bFG1\"),d=r(\"xtzZ\"),g=r(\"baaQ\"),P=r(\"fXoL\"),f=r(\"ACV2\"),m=r(\"ACYt\"),C=r(\"TEn/\"),b=r(\"3CSS\"),y=r(\"nt/U\"),U=r(\"ofXK\"),I=r(\"PgjG\"),v=r(\"xpMl\"),T=r(\"9zps\"),x=r(\"r8G5\"),O=r(\"FeAf\"),E=r(\"hMzs\"),M=r(\"sYmb\"),w=r(\"lAaw\");function CoreUserParticipantsPage_core_search_box_9_Template(e,t){if(1&e){const e=P.Fc();P.Ec(0,\"core-search-box\",11),P.Mc(\"onSubmit\",(function CoreUserParticipantsPage_core_search_box_9_Template_core_search_box_onSubmit_0_listener(t){P.fd(e);return P.Oc().search(t)}))(\"onClear\",(function CoreUserParticipantsPage_core_search_box_9_Template_core_search_box_onClear_0_listener(){P.fd(e);return P.Oc().clearSearch()})),P.Dc()}if(2&e){const e=P.Oc();P.Vc(\"disabled\",e.searchInProgress)(\"spellcheck\",!1)(\"autoFocus\",!0)(\"lengthCheck\",1)}}function CoreUserParticipantsPage_core_empty_box_11_Template(e,t){1&e&&(P.zc(0,\"core-empty-box\",12),P.Pc(1,\"translate\")),2&e&&P.Vc(\"message\",P.Qc(1,1,\"core.user.noparticipants\"))}function CoreUserParticipantsPage_core_empty_box_12_Template(e,t){1&e&&(P.zc(0,\"core-empty-box\",13),P.Pc(1,\"translate\")),2&e&&P.Vc(\"message\",P.Qc(1,1,\"core.noresults\"))}function CoreUserParticipantsPage_ion_list_13_ion_item_1_ng_container_3_p_3_Template(e,t){if(1&e&&(P.Ec(0,\"p\"),P.Ec(1,\"strong\"),P.pd(2),P.Pc(3,\"translate\"),P.Dc(),P.pd(4),P.Pc(5,\"coreTimeAgo\"),P.Dc()),2&e){const e=P.Oc(2).$implicit;P.lc(2),P.rd(\"\",P.Qc(3,2,\"core.lastaccess\"),\": \"),P.lc(2),P.rd(\" \",P.Qc(5,4,e.lastcourseaccess),\" \")}}function CoreUserParticipantsPage_ion_list_13_ion_item_1_ng_container_3_p_4_Template(e,t){if(1&e&&(P.Ec(0,\"p\"),P.Ec(1,\"strong\"),P.pd(2),P.Pc(3,\"translate\"),P.Dc(),P.pd(4),P.Pc(5,\"coreTimeAgo\"),P.Dc()),2&e){const e=P.Oc(2).$implicit;P.lc(2),P.rd(\"\",P.Qc(3,2,\"core.lastaccess\"),\": \"),P.lc(2),P.rd(\" \",P.Qc(5,4,e.lastaccess),\" \")}}function CoreUserParticipantsPage_ion_list_13_ion_item_1_ng_container_3_Template(e,t){if(1&e&&(P.Cc(0),P.Ec(1,\"p\",17),P.pd(2),P.Dc(),P.nd(3,CoreUserParticipantsPage_ion_list_13_ion_item_1_ng_container_3_p_3_Template,6,6,\"p\",9),P.nd(4,CoreUserParticipantsPage_ion_list_13_ion_item_1_ng_container_3_p_4_Template,6,6,\"p\",9),P.Bc()),2&e){const e=P.Oc().$implicit;P.lc(2),P.qd(e.fullname),P.lc(1),P.Vc(\"ngIf\",e.lastcourseaccess),P.lc(1),P.Vc(\"ngIf\",!e.lastcourseaccess&&e.lastaccess)}}function CoreUserParticipantsPage_ion_list_13_ion_item_1_ng_container_4_Template(e,t){if(1&e&&(P.Cc(0),P.Ec(1,\"p\",17),P.zc(2,\"core-format-text\",18),P.Dc(),P.Bc()),2&e){const e=P.Oc().$implicit,t=P.Oc(2);P.lc(2),P.Vc(\"text\",e.fullname)(\"highlight\",t.searchQuery)(\"filter\",!1)}}function CoreUserParticipantsPage_ion_list_13_ion_item_1_Template(e,t){if(1&e){const e=P.Fc();P.Ec(0,\"ion-item\",15),P.Mc(\"click\",(function CoreUserParticipantsPage_ion_list_13_ion_item_1_Template_ion_item_click_0_listener(){P.fd(e);const r=t.$implicit;return P.Oc(2).participants.select(r)})),P.zc(1,\"core-user-avatar\",16),P.Ec(2,\"ion-label\"),P.nd(3,CoreUserParticipantsPage_ion_list_13_ion_item_1_ng_container_3_Template,5,3,\"ng-container\",9),P.nd(4,CoreUserParticipantsPage_ion_list_13_ion_item_1_ng_container_4_Template,3,3,\"ng-container\",9),P.Dc(),P.Dc()}if(2&e){const e=t.$implicit,r=P.Oc(2);P.mc(\"aria-current\",r.participants.getItemAriaCurrent(e))(\"aria-label\",e.fullname),P.lc(1),P.Vc(\"user\",e)(\"linkProfile\",!1)(\"checkOnline\",!0),P.lc(2),P.Vc(\"ngIf\",!r.searchQuery),P.lc(1),P.Vc(\"ngIf\",r.searchQuery)}}function CoreUserParticipantsPage_ion_list_13_Template(e,t){if(1&e&&(P.Ec(0,\"ion-list\"),P.nd(1,CoreUserParticipantsPage_ion_list_13_ion_item_1_Template,5,7,\"ion-item\",14),P.Dc()),2&e){const e=P.Oc();P.lc(1),P.Vc(\"ngForOf\",e.participants.items)}}let S=(()=>{class CoreUserParticipantsPage{constructor(){this.searchQuery=null,this.searchInProgress=!1,this.searchEnabled=!1,this.showSearchBox=!1,this.fetchMoreParticipantsFailed=!1;try{this.courseId=l.a.getRequiredRouteNumberParam(\"courseId\"),this.participants=new participants_page_CoreUserParticipantsManager(g.a.getOrCreateSource(d.a,[this.courseId]),CoreUserParticipantsPage)}catch(e){return o.a.showErrorModal(e),l.a.back(),void 0}}ngOnInit(){return Object(s.a)(this,void 0,void 0,(function*(){this.searchEnabled=yield h.a.canSearchParticipantsInSite()}))}ngAfterViewInit(){return Object(s.a)(this,void 0,void 0,(function*(){yield this.fetchInitialParticipants(),this.participants.start(this.splitView)}))}ngOnDestroy(){this.participants.destroy()}toggleSearch(){this.showSearchBox=!this.showSearchBox,this.showSearchBox?this.splitView.menuContent.scrollToTop():this.clearSearch()}clearSearch(){return Object(s.a)(this,void 0,void 0,(function*(){if(null===this.searchQuery)return;const e=g.a.getOrCreateSource(d.a,[this.courseId]);this.searchQuery=null,this.searchInProgress=!1,this.participants.setSource(e),yield this.fetchInitialParticipants()}))}search(e){return Object(s.a)(this,void 0,void 0,(function*(){n.a.closeKeyboard();const t=g.a.getOrCreateSource(d.a,[this.courseId,e]);this.searchInProgress=!0,this.searchQuery=e,this.participants.setSource(t),yield this.fetchInitialParticipants(),this.searchInProgress=!1}))}refreshParticipants(e){return Object(s.a)(this,void 0,void 0,(function*(){yield u.a.ignoreErrors(h.a.invalidateParticipantsList(this.courseId)),yield u.a.ignoreErrors(this.fetchParticipants(!0)),null==e||e.complete()}))}fetchMoreParticipants(e){return Object(s.a)(this,void 0,void 0,(function*(){try{yield this.fetchParticipants(!1)}catch(e){o.a.showErrorModalDefault(e,\"Error loading more participants\"),this.fetchMoreParticipantsFailed=!0}e()}))}fetchInitialParticipants(){return Object(s.a)(this,void 0,void 0,(function*(){try{yield this.fetchParticipants(!0)}catch(e){o.a.showErrorModalDefault(e,\"Error loading participants\"),this.participants.reset()}}))}fetchParticipants(e){return Object(s.a)(this,void 0,void 0,(function*(){e?yield this.participants.reload():yield this.participants.load(),this.fetchMoreParticipantsFailed=!1}))}}return CoreUserParticipantsPage.ɵfac=function CoreUserParticipantsPage_Factory(e){return new(e||CoreUserParticipantsPage)},CoreUserParticipantsPage.ɵcmp=P.sc({type:CoreUserParticipantsPage,selectors:[[\"page-core-user-participants\"]],viewQuery:function CoreUserParticipantsPage_Query(e,t){var r;(1&e&&P.ud(_.a,!0),2&e)&&(P.dd(r=P.Nc())&&(t.splitView=r.first))},decls:15,vars:15,consts:[[\"slot\",\"end\"],[3,\"hidden\",\"click\"],[\"name\",\"fas-search\",\"slot\",\"icon-only\",\"aria-hidden\",\"true\"],[\"slot\",\"fixed\",3,\"disabled\",\"ionRefresh\"],[3,\"pullingText\"],[\"autocorrect\",\"off\",\"searchArea\",\"CoreUserParticipants\",3,\"disabled\",\"spellcheck\",\"autoFocus\",\"lengthCheck\",\"onSubmit\",\"onClear\",4,\"ngIf\"],[3,\"hideUntil\"],[\"icon\",\"far-user\",3,\"message\",4,\"ngIf\"],[\"icon\",\"fas-search\",3,\"message\",4,\"ngIf\"],[4,\"ngIf\"],[3,\"enabled\",\"error\",\"action\"],[\"autocorrect\",\"off\",\"searchArea\",\"CoreUserParticipants\",3,\"disabled\",\"spellcheck\",\"autoFocus\",\"lengthCheck\",\"onSubmit\",\"onClear\"],[\"icon\",\"far-user\",3,\"message\"],[\"icon\",\"fas-search\",3,\"message\"],[\"class\",\"ion-text-wrap\",\"button\",\"\",\"detail\",\"true\",3,\"click\",4,\"ngFor\",\"ngForOf\"],[\"button\",\"\",\"detail\",\"true\",1,\"ion-text-wrap\",3,\"click\"],[\"slot\",\"start\",3,\"user\",\"linkProfile\",\"checkOnline\"],[1,\"item-heading\"],[3,\"text\",\"highlight\",\"filter\"]],template:function CoreUserParticipantsPage_Template(e,t){1&e&&(P.Ec(0,\"core-navbar-buttons\",0),P.Ec(1,\"ion-button\",1),P.Mc(\"click\",(function CoreUserParticipantsPage_Template_ion_button_click_1_listener(){return t.toggleSearch()})),P.Pc(2,\"translate\"),P.zc(3,\"ion-icon\",2),P.Dc(),P.Dc(),P.Ec(4,\"ion-content\"),P.Ec(5,\"core-split-view\"),P.Ec(6,\"ion-refresher\",3),P.Mc(\"ionRefresh\",(function CoreUserParticipantsPage_Template_ion_refresher_ionRefresh_6_listener(e){return t.refreshParticipants(e.target)})),P.zc(7,\"ion-refresher-content\",4),P.Pc(8,\"translate\"),P.Dc(),P.nd(9,CoreUserParticipantsPage_core_search_box_9_Template,1,4,\"core-search-box\",5),P.Ec(10,\"core-loading\",6),P.nd(11,CoreUserParticipantsPage_core_empty_box_11_Template,2,3,\"core-empty-box\",7),P.nd(12,CoreUserParticipantsPage_core_empty_box_12_Template,2,3,\"core-empty-box\",8),P.nd(13,CoreUserParticipantsPage_ion_list_13_Template,2,1,\"ion-list\",9),P.Ec(14,\"core-infinite-loading\",10),P.Mc(\"action\",(function CoreUserParticipantsPage_Template_core_infinite_loading_action_14_listener(e){return t.fetchMoreParticipants(e)})),P.Dc(),P.Dc(),P.Dc(),P.Dc()),2&e&&(P.lc(1),P.Vc(\"hidden\",!t.searchEnabled),P.mc(\"aria-label\",P.Qc(2,11,\"core.search\")),P.lc(5),P.Vc(\"disabled\",!t.participants.loaded||t.searchInProgress),P.lc(1),P.Wc(\"pullingText\",P.Qc(8,13,\"core.pulltorefresh\")),P.lc(2),P.Vc(\"ngIf\",t.showSearchBox),P.lc(1),P.Vc(\"hideUntil\",t.participants.loaded),P.lc(1),P.Vc(\"ngIf\",t.participants.empty&&!t.searchInProgress&&!t.searchQuery),P.lc(1),P.Vc(\"ngIf\",t.participants.empty&&!t.searchInProgress&&t.searchQuery),P.lc(1),P.Vc(\"ngIf\",!t.participants.empty),P.lc(1),P.Vc(\"enabled\",t.participants.loaded&&!t.participants.completed)(\"error\",t.fetchMoreParticipantsFailed))},directives:[f.a,m.a,C.l,C.D,b.a,y.a,C.v,_.a,C.bb,C.cb,U.t,I.a,v.a,T.a,x.a,C.P,U.s,C.I,O.a,C.O,E.a],pipes:[M.d,w.a],encapsulation:2}),CoreUserParticipantsPage})();class participants_page_CoreUserParticipantsManager extends p.a{logActivity(){return Object(s.a)(this,void 0,void 0,(function*(){yield h.a.logParticipantsView(this.getSource().COURSE_ID)}))}}var V=r(\"vY5A\"),D=r(\"Y+03\");const k=[{path:\"\",component:S,children:Object(V.c)([{path:\":userId\",loadChildren:()=>r.e(12).then(r.bind(null,\"RDa7\")).then((e=>e.CoreUserProfilePageModule))}],(()=>D.a.isTablet))}];let Q=(()=>{class CoreUserCourseLazyModule{}return CoreUserCourseLazyModule.ɵmod=P.wc({type:CoreUserCourseLazyModule}),CoreUserCourseLazyModule.ɵinj=P.vc({factory:function CoreUserCourseLazyModule_Factory(e){return new(e||CoreUserCourseLazyModule)},imports:[[i.m.forChild(k),a.a,c.a]]}),CoreUserCourseLazyModule})();void((\"undefined\"==typeof ngJitMode||ngJitMode)&&P.kd(Q,{declarations:[S],imports:[i.m,a.a,c.a]}))}}]);","name":"129.9efda4a332dbd694d243.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[129],{\n\n/***/ \"A7m2\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"CoreUserCourseLazyModule\", function() { return /* binding */ user_course_lazy_module_CoreUserCourseLazyModule; });\n\n// EXTERNAL MODULE: ./node_modules/@angular/router/__ivy_ngcc__/fesm2015/router.js + 10 modules\nvar router = __webpack_require__(\"tyNb\");\n\n// EXTERNAL MODULE: ./src/core/shared.module.ts + 3 modules\nvar shared_module = __webpack_require__(\"L3Fv\");\n\n// EXTERNAL MODULE: ./src/core/features/search/components/components.module.ts\nvar components_module = __webpack_require__(\"PM4H\");\n\n// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.js\nvar tslib_es6 = __webpack_require__(\"mrSG\");\n\n// EXTERNAL MODULE: ./src/core/services/app.ts + 1 modules\nvar app = __webpack_require__(\"nvXB\");\n\n// EXTERNAL MODULE: ./src/core/services/utils/dom.ts + 2 modules\nvar dom = __webpack_require__(\"3LXp\");\n\n// EXTERNAL MODULE: ./src/core/services/navigator.ts\nvar services_navigator = __webpack_require__(\"pHTc\");\n\n// EXTERNAL MODULE: ./src/core/classes/items-management/list-items-manager.ts\nvar list_items_manager = __webpack_require__(\"EoRH\");\n\n// EXTERNAL MODULE: ./src/core/components/split-view/split-view.ts\nvar split_view = __webpack_require__(\"46ml\");\n\n// EXTERNAL MODULE: ./src/core/features/user/services/user.ts\nvar user = __webpack_require__(\"4pns\");\n\n// EXTERNAL MODULE: ./src/core/services/utils/utils.ts\nvar utils = __webpack_require__(\"bFG1\");\n\n// EXTERNAL MODULE: ./src/core/features/user/classes/participants-source.ts\nvar participants_source = __webpack_require__(\"xtzZ\");\n\n// EXTERNAL MODULE: ./src/core/classes/items-management/routed-items-manager-sources-tracker.ts\nvar routed_items_manager_sources_tracker = __webpack_require__(\"baaQ\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js\nvar core = __webpack_require__(\"fXoL\");\n\n// EXTERNAL MODULE: ./src/core/components/navbar-buttons/navbar-buttons.ts\nvar navbar_buttons = __webpack_require__(\"ACV2\");\n\n// EXTERNAL MODULE: ./src/core/directives/update-non-reactive-attributes.ts\nvar update_non_reactive_attributes = __webpack_require__(\"ACYt\");\n\n// EXTERNAL MODULE: ./node_modules/@ionic/angular/__ivy_ngcc__/fesm2015/ionic-angular.js + 5 modules\nvar ionic_angular = __webpack_require__(\"TEn/\");\n\n// EXTERNAL MODULE: ./src/core/directives/fa-icon.ts\nvar fa_icon = __webpack_require__(\"3CSS\");\n\n// EXTERNAL MODULE: ./src/core/directives/content.ts\nvar content = __webpack_require__(\"nt/U\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/common/__ivy_ngcc__/fesm2015/common.js\nvar common = __webpack_require__(\"ofXK\");\n\n// EXTERNAL MODULE: ./src/core/components/loading/loading.ts\nvar loading = __webpack_require__(\"PgjG\");\n\n// EXTERNAL MODULE: ./src/core/components/infinite-loading/infinite-loading.ts\nvar infinite_loading = __webpack_require__(\"xpMl\");\n\n// EXTERNAL MODULE: ./src/core/features/search/components/search-box/search-box.ts\nvar search_box = __webpack_require__(\"9zps\");\n\n// EXTERNAL MODULE: ./src/core/components/empty-box/empty-box.ts\nvar empty_box = __webpack_require__(\"r8G5\");\n\n// EXTERNAL MODULE: ./src/core/components/user-avatar/user-avatar.ts\nvar user_avatar = __webpack_require__(\"FeAf\");\n\n// EXTERNAL MODULE: ./src/core/directives/format-text.ts\nvar format_text = __webpack_require__(\"hMzs\");\n\n// EXTERNAL MODULE: ./node_modules/@ngx-translate/core/__ivy_ngcc__/fesm2015/ngx-translate-core.js + 8 modules\nvar ngx_translate_core = __webpack_require__(\"sYmb\");\n\n// EXTERNAL MODULE: ./src/core/pipes/time-ago.ts\nvar time_ago = __webpack_require__(\"lAaw\");\n\n// CONCATENATED MODULE: ./src/core/features/user/pages/participants/participants.page.ts\n\n// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction CoreUserParticipantsPage_core_search_box_9_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r5 = core[\"Fc\" /* ɵɵgetCurrentView */]();\n        core[\"Ec\" /* ɵɵelementStart */](0, \"core-search-box\", 11);\n        core[\"Mc\" /* ɵɵlistener */](\"onSubmit\", function CoreUserParticipantsPage_core_search_box_9_Template_core_search_box_onSubmit_0_listener($event) { core[\"fd\" /* ɵɵrestoreView */](_r5); const ctx_r4 = core[\"Oc\" /* ɵɵnextContext */](); return ctx_r4.search($event); })(\"onClear\", function CoreUserParticipantsPage_core_search_box_9_Template_core_search_box_onClear_0_listener() { core[\"fd\" /* ɵɵrestoreView */](_r5); const ctx_r6 = core[\"Oc\" /* ɵɵnextContext */](); return ctx_r6.clearSearch(); });\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r0 = core[\"Oc\" /* ɵɵnextContext */]();\n        core[\"Vc\" /* ɵɵproperty */](\"disabled\", ctx_r0.searchInProgress)(\"spellcheck\", false)(\"autoFocus\", true)(\"lengthCheck\", 1);\n    }\n}\nfunction CoreUserParticipantsPage_core_empty_box_11_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"zc\" /* ɵɵelement */](0, \"core-empty-box\", 12);\n        core[\"Pc\" /* ɵɵpipe */](1, \"translate\");\n    }\n    if (rf & 2) {\n        core[\"Vc\" /* ɵɵproperty */](\"message\", core[\"Qc\" /* ɵɵpipeBind1 */](1, 1, \"core.user.noparticipants\"));\n    }\n}\nfunction CoreUserParticipantsPage_core_empty_box_12_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"zc\" /* ɵɵelement */](0, \"core-empty-box\", 13);\n        core[\"Pc\" /* ɵɵpipe */](1, \"translate\");\n    }\n    if (rf & 2) {\n        core[\"Vc\" /* ɵɵproperty */](\"message\", core[\"Qc\" /* ɵɵpipeBind1 */](1, 1, \"core.noresults\"));\n    }\n}\nfunction CoreUserParticipantsPage_ion_list_13_ion_item_1_ng_container_3_p_3_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"p\");\n        core[\"Ec\" /* ɵɵelementStart */](1, \"strong\");\n        core[\"pd\" /* ɵɵtext */](2);\n        core[\"Pc\" /* ɵɵpipe */](3, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"pd\" /* ɵɵtext */](4);\n        core[\"Pc\" /* ɵɵpipe */](5, \"coreTimeAgo\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const participant_r8 = core[\"Oc\" /* ɵɵnextContext */](2).$implicit;\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"rd\" /* ɵɵtextInterpolate1 */](\"\", core[\"Qc\" /* ɵɵpipeBind1 */](3, 2, \"core.lastaccess\"), \": \");\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"rd\" /* ɵɵtextInterpolate1 */](\" \", core[\"Qc\" /* ɵɵpipeBind1 */](5, 4, participant_r8.lastcourseaccess), \" \");\n    }\n}\nfunction CoreUserParticipantsPage_ion_list_13_ion_item_1_ng_container_3_p_4_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"p\");\n        core[\"Ec\" /* ɵɵelementStart */](1, \"strong\");\n        core[\"pd\" /* ɵɵtext */](2);\n        core[\"Pc\" /* ɵɵpipe */](3, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"pd\" /* ɵɵtext */](4);\n        core[\"Pc\" /* ɵɵpipe */](5, \"coreTimeAgo\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const participant_r8 = core[\"Oc\" /* ɵɵnextContext */](2).$implicit;\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"rd\" /* ɵɵtextInterpolate1 */](\"\", core[\"Qc\" /* ɵɵpipeBind1 */](3, 2, \"core.lastaccess\"), \": \");\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"rd\" /* ɵɵtextInterpolate1 */](\" \", core[\"Qc\" /* ɵɵpipeBind1 */](5, 4, participant_r8.lastaccess), \" \");\n    }\n}\nfunction CoreUserParticipantsPage_ion_list_13_ion_item_1_ng_container_3_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Cc\" /* ɵɵelementContainerStart */](0);\n        core[\"Ec\" /* ɵɵelementStart */](1, \"p\", 17);\n        core[\"pd\" /* ɵɵtext */](2);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"nd\" /* ɵɵtemplate */](3, CoreUserParticipantsPage_ion_list_13_ion_item_1_ng_container_3_p_3_Template, 6, 6, \"p\", 9);\n        core[\"nd\" /* ɵɵtemplate */](4, CoreUserParticipantsPage_ion_list_13_ion_item_1_ng_container_3_p_4_Template, 6, 6, \"p\", 9);\n        core[\"Bc\" /* ɵɵelementContainerEnd */]();\n    }\n    if (rf & 2) {\n        const participant_r8 = core[\"Oc\" /* ɵɵnextContext */]().$implicit;\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"qd\" /* ɵɵtextInterpolate */](participant_r8.fullname);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", participant_r8.lastcourseaccess);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", !participant_r8.lastcourseaccess && participant_r8.lastaccess);\n    }\n}\nfunction CoreUserParticipantsPage_ion_list_13_ion_item_1_ng_container_4_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Cc\" /* ɵɵelementContainerStart */](0);\n        core[\"Ec\" /* ɵɵelementStart */](1, \"p\", 17);\n        core[\"zc\" /* ɵɵelement */](2, \"core-format-text\", 18);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Bc\" /* ɵɵelementContainerEnd */]();\n    }\n    if (rf & 2) {\n        const participant_r8 = core[\"Oc\" /* ɵɵnextContext */]().$implicit;\n        const ctx_r10 = core[\"Oc\" /* ɵɵnextContext */](2);\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"text\", participant_r8.fullname)(\"highlight\", ctx_r10.searchQuery)(\"filter\", false);\n    }\n}\nfunction CoreUserParticipantsPage_ion_list_13_ion_item_1_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r18 = core[\"Fc\" /* ɵɵgetCurrentView */]();\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-item\", 15);\n        core[\"Mc\" /* ɵɵlistener */](\"click\", function CoreUserParticipantsPage_ion_list_13_ion_item_1_Template_ion_item_click_0_listener() { core[\"fd\" /* ɵɵrestoreView */](_r18); const participant_r8 = ctx.$implicit; const ctx_r17 = core[\"Oc\" /* ɵɵnextContext */](2); return ctx_r17.participants.select(participant_r8); });\n        core[\"zc\" /* ɵɵelement */](1, \"core-user-avatar\", 16);\n        core[\"Ec\" /* ɵɵelementStart */](2, \"ion-label\");\n        core[\"nd\" /* ɵɵtemplate */](3, CoreUserParticipantsPage_ion_list_13_ion_item_1_ng_container_3_Template, 5, 3, \"ng-container\", 9);\n        core[\"nd\" /* ɵɵtemplate */](4, CoreUserParticipantsPage_ion_list_13_ion_item_1_ng_container_4_Template, 3, 3, \"ng-container\", 9);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const participant_r8 = ctx.$implicit;\n        const ctx_r7 = core[\"Oc\" /* ɵɵnextContext */](2);\n        core[\"mc\" /* ɵɵattribute */](\"aria-current\", ctx_r7.participants.getItemAriaCurrent(participant_r8))(\"aria-label\", participant_r8.fullname);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"user\", participant_r8)(\"linkProfile\", false)(\"checkOnline\", true);\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", !ctx_r7.searchQuery);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx_r7.searchQuery);\n    }\n}\nfunction CoreUserParticipantsPage_ion_list_13_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-list\");\n        core[\"nd\" /* ɵɵtemplate */](1, CoreUserParticipantsPage_ion_list_13_ion_item_1_Template, 5, 7, \"ion-item\", 14);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r3 = core[\"Oc\" /* ɵɵnextContext */]();\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngForOf\", ctx_r3.participants.items);\n    }\n}\n/**\n * Page that displays the list of course participants.\n */\nlet participants_page_CoreUserParticipantsPage = /*@__PURE__*/ (() => {\n    class CoreUserParticipantsPage {\n        constructor() {\n            this.searchQuery = null;\n            this.searchInProgress = false;\n            this.searchEnabled = false;\n            this.showSearchBox = false;\n            this.fetchMoreParticipantsFailed = false;\n            try {\n                this.courseId = services_navigator[\"a\" /* CoreNavigator */].getRequiredRouteNumberParam('courseId');\n                this.participants = new participants_page_CoreUserParticipantsManager(routed_items_manager_sources_tracker[\"a\" /* CoreRoutedItemsManagerSourcesTracker */].getOrCreateSource(participants_source[\"a\" /* CoreUserParticipantsSource */], [this.courseId]), CoreUserParticipantsPage);\n            }\n            catch (error) {\n                dom[\"a\" /* CoreDomUtils */].showErrorModal(error);\n                services_navigator[\"a\" /* CoreNavigator */].back();\n                return;\n            }\n        }\n        /**\n         * @inheritdoc\n         */\n        ngOnInit() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                this.searchEnabled = yield user[\"a\" /* CoreUser */].canSearchParticipantsInSite();\n            });\n        }\n        /**\n         * @inheritdoc\n         */\n        ngAfterViewInit() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                yield this.fetchInitialParticipants();\n                this.participants.start(this.splitView);\n            });\n        }\n        /**\n         * @inheritdoc\n         */\n        ngOnDestroy() {\n            this.participants.destroy();\n        }\n        /**\n         * Show or hide search box.\n         */\n        toggleSearch() {\n            this.showSearchBox = !this.showSearchBox;\n            if (this.showSearchBox) {\n                // Make search bar visible.\n                this.splitView.menuContent.scrollToTop();\n            }\n            else {\n                this.clearSearch();\n            }\n        }\n        /**\n         * Clear search.\n         */\n        clearSearch() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                if (this.searchQuery === null) {\n                    // Nothing to clear.\n                    return;\n                }\n                const newSource = routed_items_manager_sources_tracker[\"a\" /* CoreRoutedItemsManagerSourcesTracker */].getOrCreateSource(participants_source[\"a\" /* CoreUserParticipantsSource */], [this.courseId]);\n                this.searchQuery = null;\n                this.searchInProgress = false;\n                this.participants.setSource(newSource);\n                yield this.fetchInitialParticipants();\n            });\n        }\n        /**\n         * Start a new search.\n         *\n         * @param query Text to search for.\n         */\n        search(query) {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                app[\"a\" /* CoreApp */].closeKeyboard();\n                const newSource = routed_items_manager_sources_tracker[\"a\" /* CoreRoutedItemsManagerSourcesTracker */].getOrCreateSource(participants_source[\"a\" /* CoreUserParticipantsSource */], [this.courseId, query]);\n                this.searchInProgress = true;\n                this.searchQuery = query;\n                this.participants.setSource(newSource);\n                yield this.fetchInitialParticipants();\n                this.searchInProgress = false;\n            });\n        }\n        /**\n         * Refresh participants.\n         *\n         * @param refresher Refresher.\n         */\n        refreshParticipants(refresher) {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                yield utils[\"a\" /* CoreUtils */].ignoreErrors(user[\"a\" /* CoreUser */].invalidateParticipantsList(this.courseId));\n                yield utils[\"a\" /* CoreUtils */].ignoreErrors(this.fetchParticipants(true));\n                refresher === null || refresher === void 0 ? void 0 : refresher.complete();\n            });\n        }\n        /**\n         * Load a new batch of participants.\n         *\n         * @param complete Completion callback.\n         */\n        fetchMoreParticipants(complete) {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                try {\n                    yield this.fetchParticipants(false);\n                }\n                catch (error) {\n                    dom[\"a\" /* CoreDomUtils */].showErrorModalDefault(error, 'Error loading more participants');\n                    this.fetchMoreParticipantsFailed = true;\n                }\n                complete();\n            });\n        }\n        /**\n         * Obtain the initial batch of participants.\n         */\n        fetchInitialParticipants() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                try {\n                    yield this.fetchParticipants(true);\n                }\n                catch (error) {\n                    dom[\"a\" /* CoreDomUtils */].showErrorModalDefault(error, 'Error loading participants');\n                    this.participants.reset();\n                }\n            });\n        }\n        /**\n         * Update the list of participants.\n         *\n         * @param reload Whether to reload the list or load the next page.\n         */\n        fetchParticipants(reload) {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                reload\n                    ? yield this.participants.reload()\n                    : yield this.participants.load();\n                this.fetchMoreParticipantsFailed = false;\n            });\n        }\n    }\n    CoreUserParticipantsPage.ɵfac = function CoreUserParticipantsPage_Factory(t) { return new (t || CoreUserParticipantsPage)(); };\n    CoreUserParticipantsPage.ɵcmp = core[\"sc\" /* ɵɵdefineComponent */]({ type: CoreUserParticipantsPage, selectors: [[\"page-core-user-participants\"]], viewQuery: function CoreUserParticipantsPage_Query(rf, ctx) {\n            if (rf & 1) {\n                core[\"ud\" /* ɵɵviewQuery */](split_view[\"a\" /* CoreSplitViewComponent */], true);\n            }\n            if (rf & 2) {\n                var _t;\n                core[\"dd\" /* ɵɵqueryRefresh */](_t = core[\"Nc\" /* ɵɵloadQuery */]()) && (ctx.splitView = _t.first);\n            }\n        }, decls: 15, vars: 15, consts: [[\"slot\", \"end\"], [3, \"hidden\", \"click\"], [\"name\", \"fas-search\", \"slot\", \"icon-only\", \"aria-hidden\", \"true\"], [\"slot\", \"fixed\", 3, \"disabled\", \"ionRefresh\"], [3, \"pullingText\"], [\"autocorrect\", \"off\", \"searchArea\", \"CoreUserParticipants\", 3, \"disabled\", \"spellcheck\", \"autoFocus\", \"lengthCheck\", \"onSubmit\", \"onClear\", 4, \"ngIf\"], [3, \"hideUntil\"], [\"icon\", \"far-user\", 3, \"message\", 4, \"ngIf\"], [\"icon\", \"fas-search\", 3, \"message\", 4, \"ngIf\"], [4, \"ngIf\"], [3, \"enabled\", \"error\", \"action\"], [\"autocorrect\", \"off\", \"searchArea\", \"CoreUserParticipants\", 3, \"disabled\", \"spellcheck\", \"autoFocus\", \"lengthCheck\", \"onSubmit\", \"onClear\"], [\"icon\", \"far-user\", 3, \"message\"], [\"icon\", \"fas-search\", 3, \"message\"], [\"class\", \"ion-text-wrap\", \"button\", \"\", \"detail\", \"true\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [\"button\", \"\", \"detail\", \"true\", 1, \"ion-text-wrap\", 3, \"click\"], [\"slot\", \"start\", 3, \"user\", \"linkProfile\", \"checkOnline\"], [1, \"item-heading\"], [3, \"text\", \"highlight\", \"filter\"]], template: function CoreUserParticipantsPage_Template(rf, ctx) {\n            if (rf & 1) {\n                core[\"Ec\" /* ɵɵelementStart */](0, \"core-navbar-buttons\", 0);\n                core[\"Ec\" /* ɵɵelementStart */](1, \"ion-button\", 1);\n                core[\"Mc\" /* ɵɵlistener */](\"click\", function CoreUserParticipantsPage_Template_ion_button_click_1_listener() { return ctx.toggleSearch(); });\n                core[\"Pc\" /* ɵɵpipe */](2, \"translate\");\n                core[\"zc\" /* ɵɵelement */](3, \"ion-icon\", 2);\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](4, \"ion-content\");\n                core[\"Ec\" /* ɵɵelementStart */](5, \"core-split-view\");\n                core[\"Ec\" /* ɵɵelementStart */](6, \"ion-refresher\", 3);\n                core[\"Mc\" /* ɵɵlistener */](\"ionRefresh\", function CoreUserParticipantsPage_Template_ion_refresher_ionRefresh_6_listener($event) { return ctx.refreshParticipants($event.target); });\n                core[\"zc\" /* ɵɵelement */](7, \"ion-refresher-content\", 4);\n                core[\"Pc\" /* ɵɵpipe */](8, \"translate\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"nd\" /* ɵɵtemplate */](9, CoreUserParticipantsPage_core_search_box_9_Template, 1, 4, \"core-search-box\", 5);\n                core[\"Ec\" /* ɵɵelementStart */](10, \"core-loading\", 6);\n                core[\"nd\" /* ɵɵtemplate */](11, CoreUserParticipantsPage_core_empty_box_11_Template, 2, 3, \"core-empty-box\", 7);\n                core[\"nd\" /* ɵɵtemplate */](12, CoreUserParticipantsPage_core_empty_box_12_Template, 2, 3, \"core-empty-box\", 8);\n                core[\"nd\" /* ɵɵtemplate */](13, CoreUserParticipantsPage_ion_list_13_Template, 2, 1, \"ion-list\", 9);\n                core[\"Ec\" /* ɵɵelementStart */](14, \"core-infinite-loading\", 10);\n                core[\"Mc\" /* ɵɵlistener */](\"action\", function CoreUserParticipantsPage_Template_core_infinite_loading_action_14_listener($event) { return ctx.fetchMoreParticipants($event); });\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n            }\n            if (rf & 2) {\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"hidden\", !ctx.searchEnabled);\n                core[\"mc\" /* ɵɵattribute */](\"aria-label\", core[\"Qc\" /* ɵɵpipeBind1 */](2, 11, \"core.search\"));\n                core[\"lc\" /* ɵɵadvance */](5);\n                core[\"Vc\" /* ɵɵproperty */](\"disabled\", !ctx.participants.loaded || ctx.searchInProgress);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Wc\" /* ɵɵpropertyInterpolate */](\"pullingText\", core[\"Qc\" /* ɵɵpipeBind1 */](8, 13, \"core.pulltorefresh\"));\n                core[\"lc\" /* ɵɵadvance */](2);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx.showSearchBox);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"hideUntil\", ctx.participants.loaded);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx.participants.empty && !ctx.searchInProgress && !ctx.searchQuery);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx.participants.empty && !ctx.searchInProgress && ctx.searchQuery);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", !ctx.participants.empty);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"enabled\", ctx.participants.loaded && !ctx.participants.completed)(\"error\", ctx.fetchMoreParticipantsFailed);\n            }\n        }, directives: [navbar_buttons[\"a\" /* CoreNavBarButtonsComponent */], update_non_reactive_attributes[\"a\" /* CoreUpdateNonReactiveAttributesDirective */], ionic_angular[\"l\" /* IonButton */], ionic_angular[\"D\" /* IonIcon */], fa_icon[\"a\" /* CoreFaIconDirective */], content[\"a\" /* CoreContentDirective */], ionic_angular[\"v\" /* IonContent */], split_view[\"a\" /* CoreSplitViewComponent */], ionic_angular[\"bb\" /* IonRefresher */], ionic_angular[\"cb\" /* IonRefresherContent */], common[\"t\" /* NgIf */], loading[\"a\" /* CoreLoadingComponent */], infinite_loading[\"a\" /* CoreInfiniteLoadingComponent */], search_box[\"a\" /* CoreSearchBoxComponent */], empty_box[\"a\" /* CoreEmptyBoxComponent */], ionic_angular[\"P\" /* IonList */], common[\"s\" /* NgForOf */], ionic_angular[\"I\" /* IonItem */], user_avatar[\"a\" /* CoreUserAvatarComponent */], ionic_angular[\"O\" /* IonLabel */], format_text[\"a\" /* CoreFormatTextDirective */]], pipes: [ngx_translate_core[\"d\" /* TranslatePipe */], time_ago[\"a\" /* CoreTimeAgoPipe */]], encapsulation: 2 });\n    return CoreUserParticipantsPage;\n})();\n/**\n * Helper to manage the list of participants.\n */\nclass participants_page_CoreUserParticipantsManager extends list_items_manager[\"a\" /* CoreListItemsManager */] {\n    /**\n     * @inheritdoc\n     */\n    logActivity() {\n        return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n            yield user[\"a\" /* CoreUser */].logParticipantsView(this.getSource().COURSE_ID);\n        });\n    }\n}\n\n// EXTERNAL MODULE: ./src/app/app-routing.module.ts\nvar app_routing_module = __webpack_require__(\"vY5A\");\n\n// EXTERNAL MODULE: ./src/core/services/screen.ts\nvar screen = __webpack_require__(\"Y+03\");\n\n// CONCATENATED MODULE: ./src/core/features/user/user-course-lazy.module.ts\n// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n\n\n\n\n\nconst routes = [\n    {\n        path: '',\n        component: participants_page_CoreUserParticipantsPage,\n        children: Object(app_routing_module[\"c\" /* conditionalRoutes */])([\n            {\n                path: ':userId',\n                loadChildren: () => __webpack_require__.e(/* import() */ 12).then(__webpack_require__.bind(null, \"RDa7\")).then(m => m.CoreUserProfilePageModule),\n            },\n        ], () => screen[\"a\" /* CoreScreen */].isTablet),\n    },\n];\nlet user_course_lazy_module_CoreUserCourseLazyModule = /*@__PURE__*/ (() => {\n    class CoreUserCourseLazyModule {\n    }\n    CoreUserCourseLazyModule.ɵmod = core[\"wc\" /* ɵɵdefineNgModule */]({ type: CoreUserCourseLazyModule });\n    CoreUserCourseLazyModule.ɵinj = core[\"vc\" /* ɵɵdefineInjector */]({ factory: function CoreUserCourseLazyModule_Factory(t) { return new (t || CoreUserCourseLazyModule)(); }, imports: [[\n                router[\"m\" /* RouterModule */].forChild(routes),\n                shared_module[\"a\" /* CoreSharedModule */],\n                components_module[\"a\" /* CoreSearchComponentsModule */],\n            ]] });\n    return CoreUserCourseLazyModule;\n})();\n(function () {\n    (typeof ngJitMode === \"undefined\" || ngJitMode) && core[\"kd\" /* ɵɵsetNgModuleScope */](user_course_lazy_module_CoreUserCourseLazyModule, { declarations: [participants_page_CoreUserParticipantsPage], imports: [router[\"m\" /* RouterModule */], shared_module[\"a\" /* CoreSharedModule */],\n            components_module[\"a\" /* CoreSearchComponentsModule */]] });\n})();\n\n\n/***/ })\n\n}]);","inputSourceMap":null}