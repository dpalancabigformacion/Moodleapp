{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[117],{ZmPN:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"CoreSitePreferencesPageModule\",(function(){return M}));var i=n(\"fXoL\"),r=n(\"tyNb\"),c=n(\"L3Fv\"),s=n(\"mrSG\"),o=n(\"fjkH\"),a=n(\"9+EE\"),l=n(\"pHTc\"),d=n(\"46ml\"),f=n(\"EoRH\"),g=n(\"baaQ\"),h=n(\"CvRw\"),u=n(\"YEzr\");class settings_handlers_source_CoreSettingsHandlersSource extends h.a{loadPageItems(){return Object(s.a)(this,void 0,void 0,(function*(){return{items:u.a.getHandlers()}}))}getItemPath(e){return e.page}getItemQueryParams(e){return e.params||{}}}var _=n(\"1gmh\"),m=n(\"3LXp\"),P=n(\"GGba\"),p=n(\"j3ag\"),b=n(\"BaYo\"),S=n(\"BBqZ\"),C=n(\"TEn/\"),y=n(\"nt/U\"),D=n(\"PgjG\"),v=n(\"ofXK\"),w=n(\"3zv0\"),O=n(\"ACYt\"),E=n(\"3CSS\"),T=n(\"sYmb\");function CoreSitePreferencesPage_ion_item_17_ion_icon_2_Template(e,t){if(1&e&&i.zc(0,\"ion-icon\",15),2&e){const e=i.Oc().$implicit;i.Vc(\"name\",e.icon)}}const _c0=function(e){return[\"core-settings-handler\",e]};function CoreSitePreferencesPage_ion_item_17_Template(e,t){if(1&e){const e=i.Fc();i.Ec(0,\"ion-item\",13),i.Mc(\"click\",(function CoreSitePreferencesPage_ion_item_17_Template_ion_item_click_0_listener(){i.fd(e);const n=t.$implicit;return i.Oc().handlers.select(n)})),i.Pc(1,\"translate\"),i.nd(2,CoreSitePreferencesPage_ion_item_17_ion_icon_2_Template,1,1,\"ion-icon\",14),i.Ec(3,\"ion-label\"),i.Ec(4,\"p\",8),i.pd(5),i.Pc(6,\"translate\"),i.Dc(),i.Dc(),i.Dc()}if(2&e){const e=t.$implicit,n=i.Oc();i.Vc(\"ngClass\",i.ad(9,_c0,e.class)),i.mc(\"aria-label\",i.Qc(1,5,e.title))(\"aria-current\",n.handlers.getItemAriaCurrent(e)),i.lc(2),i.Vc(\"ngIf\",e.icon),i.lc(3),i.qd(i.Qc(6,7,e.title))}}function CoreSitePreferencesPage_ion_item_31_ng_container_3_Template(e,t){1&e&&(i.Cc(0),i.pd(1),i.Pc(2,\"translate\"),i.Bc()),2&e&&(i.lc(1),i.rd(\" \",i.Qc(2,1,\"core.settings.connectwifitosync\"),\"\"))}function CoreSitePreferencesPage_ion_item_31_ng_container_4_Template(e,t){1&e&&(i.Cc(0),i.pd(1),i.Pc(2,\"translate\"),i.Bc()),2&e&&(i.lc(1),i.qd(i.Qc(2,1,\"core.settings.connecttosync\")))}function CoreSitePreferencesPage_ion_item_31_Template(e,t){if(1&e&&(i.Ec(0,\"ion-item\",16),i.zc(1,\"ion-icon\",17),i.Ec(2,\"ion-label\"),i.nd(3,CoreSitePreferencesPage_ion_item_31_ng_container_3_Template,3,3,\"ng-container\",18),i.nd(4,CoreSitePreferencesPage_ion_item_31_ng_container_4_Template,3,3,\"ng-container\",18),i.Dc(),i.Dc()),2&e){const e=i.Oc();i.lc(3),i.Vc(\"ngIf\",e.isOnline&&e.dataSaver&&e.limitedConnection),i.lc(1),i.Vc(\"ngIf\",!e.isOnline)}}let I=(()=>{class CoreSitePreferencesPage{constructor(){this.dataSaver=!1,this.limitedConnection=!1,this.isOnline=!0,this.isDestroyed=!1,this.siteId=a.b.getCurrentSiteId();const e=g.a.getOrCreateSource(settings_handlers_source_CoreSettingsHandlersSource,[]);this.handlers=new f.a(e,CoreSitePreferencesPage),this.sitesObserver=o.b.on(o.b.SITE_UPDATED,(()=>{this.refreshData()}),this.siteId),this.isOnline=P.a.isOnline(),this.limitedConnection=this.isOnline&&P.a.isNetworkAccessLimited(),this.networkObserver=P.a.onChange().subscribe((()=>{p.A.run((()=>{this.isOnline=P.a.isOnline(),this.limitedConnection=this.isOnline&&P.a.isNetworkAccessLimited()}))}))}ngAfterViewInit(){return Object(s.a)(this,void 0,void 0,(function*(){this.dataSaver=yield S.a.get(b.a.SETTINGS_SYNC_ONLY_ON_WIFI,!0);const e=l.a.getRouteParam(\"page\");try{yield this.fetchData()}finally{const t=e?this.handlers.items.find((t=>t.page==e)):void 0;t?(this.handlers.watchSplitViewOutlet(this.splitView),yield this.handlers.select(t)):yield this.handlers.start(this.splitView)}}))}fetchData(){return Object(s.a)(this,void 0,void 0,(function*(){yield this.handlers.load()}))}synchronize(){return Object(s.a)(this,void 0,void 0,(function*(){try{yield _.a.synchronizeSite(!1,this.siteId)}catch(e){if(this.isDestroyed)return;m.a.showErrorModalDefault(e,\"core.settings.sitesyncfailed\",!0)}}))}isSynchronizing(){return!!_.a.getSiteSyncPromise(this.siteId)}refreshData(e){this.handlers.getSource().setDirty(!0),this.fetchData().finally((()=>{null==e?void 0:e.complete()}))}ngOnDestroy(){this.isDestroyed=!0,this.sitesObserver.off(),this.networkObserver.unsubscribe(),this.handlers.destroy()}}return CoreSitePreferencesPage.ɵfac=function CoreSitePreferencesPage_Factory(e){return new(e||CoreSitePreferencesPage)},CoreSitePreferencesPage.ɵcmp=i.sc({type:CoreSitePreferencesPage,selectors:[[\"page-core-site-preferences\"]],viewQuery:function CoreSitePreferencesPage_Query(e,t){var n;(1&e&&i.ud(d.a,!0),2&e)&&(i.dd(n=i.Nc())&&(t.splitView=n.first))},decls:32,vars:24,consts:[[\"slot\",\"start\"],[3,\"text\"],[\"slot\",\"end\"],[\"slot\",\"fixed\",3,\"disabled\",\"ionRefresh\"],[3,\"pullingText\"],[3,\"hideUntil\"],[\"detail\",\"true\",\"button\",\"\",3,\"ngClass\",\"click\",4,\"ngFor\",\"ngForOf\"],[1,\"ion-text-wrap\"],[1,\"item-heading\"],[\"slot\",\"end\",3,\"loading\"],[\"fill\",\"clear\",3,\"disabled\",\"click\"],[\"name\",\"fas-sync-alt\",\"slot\",\"icon-only\",\"aria-hidden\",\"true\"],[\"class\",\"core-warning-item ion-text-wrap\",4,\"ngIf\"],[\"detail\",\"true\",\"button\",\"\",3,\"ngClass\",\"click\"],[\"slot\",\"start\",\"aria-hidden\",\"true\",3,\"name\",4,\"ngIf\"],[\"slot\",\"start\",\"aria-hidden\",\"true\",3,\"name\"],[1,\"core-warning-item\",\"ion-text-wrap\"],[\"name\",\"fas-exclamation-triangle\",\"slot\",\"start\",\"aria-hidden\",\"true\"],[4,\"ngIf\"]],template:function CoreSitePreferencesPage_Template(e,t){1&e&&(i.Ec(0,\"ion-header\"),i.Ec(1,\"ion-toolbar\"),i.Ec(2,\"ion-buttons\",0),i.zc(3,\"ion-back-button\",1),i.Pc(4,\"translate\"),i.Dc(),i.Ec(5,\"ion-title\"),i.Ec(6,\"h1\"),i.pd(7),i.Pc(8,\"translate\"),i.Dc(),i.Dc(),i.zc(9,\"ion-buttons\",2),i.Dc(),i.Dc(),i.Ec(10,\"ion-content\"),i.Ec(11,\"core-split-view\"),i.Ec(12,\"ion-refresher\",3),i.Mc(\"ionRefresh\",(function CoreSitePreferencesPage_Template_ion_refresher_ionRefresh_12_listener(e){return t.refreshData(e.target)})),i.zc(13,\"ion-refresher-content\",4),i.Pc(14,\"translate\"),i.Dc(),i.Ec(15,\"core-loading\",5),i.Ec(16,\"ion-list\"),i.nd(17,CoreSitePreferencesPage_ion_item_17_Template,7,11,\"ion-item\",6),i.Dc(),i.Ec(18,\"ion-card\"),i.Ec(19,\"ion-item\",7),i.Ec(20,\"ion-label\"),i.Ec(21,\"p\",8),i.pd(22),i.Pc(23,\"translate\"),i.Dc(),i.Ec(24,\"p\"),i.pd(25),i.Pc(26,\"translate\"),i.Dc(),i.Dc(),i.Ec(27,\"core-button-with-spinner\",9),i.Ec(28,\"ion-button\",10),i.Mc(\"click\",(function CoreSitePreferencesPage_Template_ion_button_click_28_listener(){return t.synchronize()})),i.Pc(29,\"translate\"),i.zc(30,\"ion-icon\",11),i.Dc(),i.Dc(),i.Dc(),i.nd(31,CoreSitePreferencesPage_ion_item_31_Template,5,2,\"ion-item\",12),i.Dc(),i.Dc(),i.Dc(),i.Dc()),2&e&&(i.lc(3),i.Vc(\"text\",i.Qc(4,12,\"core.back\")),i.lc(4),i.qd(i.Qc(8,14,\"core.settings.preferences\")),i.lc(5),i.Vc(\"disabled\",!t.handlers.loaded),i.lc(1),i.Wc(\"pullingText\",i.Qc(14,16,\"core.pulltorefresh\")),i.lc(2),i.Vc(\"hideUntil\",t.handlers.loaded),i.lc(2),i.Vc(\"ngForOf\",t.handlers.items),i.lc(5),i.qd(i.Qc(23,18,\"core.settings.synchronizenow\")),i.lc(3),i.rd(\" \",i.Qc(26,20,\"core.settings.synchronizenowhelp\"),\" \"),i.lc(2),i.Vc(\"loading\",t.isSynchronizing()),i.lc(1),i.Vc(\"disabled\",!t.isOnline||t.dataSaver&&t.limitedConnection),i.mc(\"aria-label\",i.Qc(29,22,\"core.settings.synchronizenow\")),i.lc(3),i.Vc(\"ngIf\",!t.isOnline||t.dataSaver&&t.limitedConnection))},directives:[C.C,C.Ab,C.m,C.h,C.i,C.yb,y.a,C.v,d.a,C.bb,C.cb,D.a,C.P,v.s,C.n,C.I,C.O,w.a,O.a,C.l,C.D,E.a,v.t,v.q],pipes:[T.d],encapsulation:2}),CoreSitePreferencesPage})();var k=n(\"vY5A\"),V=n(\"X9cG\"),z=n(\"Y+03\");function buildRoutes(e){const t=Object(k.d)(e,V.b),n=[{path:\"\",component:I},...t.siblings],i=[{path:\"\",component:I,children:t.siblings}];return[...Object(k.c)(n,(()=>z.a.isMobile)),...Object(k.c)(i,(()=>z.a.isTablet))]}let M=(()=>{class CoreSitePreferencesPageModule{}return CoreSitePreferencesPageModule.ɵmod=i.wc({type:CoreSitePreferencesPageModule}),CoreSitePreferencesPageModule.ɵinj=i.vc({factory:function CoreSitePreferencesPageModule_Factory(e){return new(e||CoreSitePreferencesPageModule)},providers:[{provide:r.g,multi:!0,useFactory:buildRoutes,deps:[i.x]}],imports:[[c.a],r.m]}),CoreSitePreferencesPageModule})();void((\"undefined\"==typeof ngJitMode||ngJitMode)&&i.kd(M,{declarations:[I],imports:[c.a],exports:[r.m]}))}}]);","name":"117.dc3fa442a6f205fd832f.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[117],{\n\n/***/ \"ZmPN\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"CoreSitePreferencesPageModule\", function() { return /* binding */ site_module_CoreSitePreferencesPageModule; });\n\n// EXTERNAL MODULE: ./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js\nvar core = __webpack_require__(\"fXoL\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/router/__ivy_ngcc__/fesm2015/router.js + 10 modules\nvar router = __webpack_require__(\"tyNb\");\n\n// EXTERNAL MODULE: ./src/core/shared.module.ts + 3 modules\nvar shared_module = __webpack_require__(\"L3Fv\");\n\n// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.js\nvar tslib_es6 = __webpack_require__(\"mrSG\");\n\n// EXTERNAL MODULE: ./src/core/singletons/events.ts\nvar events = __webpack_require__(\"fjkH\");\n\n// EXTERNAL MODULE: ./src/core/services/sites.ts\nvar sites = __webpack_require__(\"9+EE\");\n\n// EXTERNAL MODULE: ./src/core/services/navigator.ts\nvar services_navigator = __webpack_require__(\"pHTc\");\n\n// EXTERNAL MODULE: ./src/core/components/split-view/split-view.ts\nvar split_view = __webpack_require__(\"46ml\");\n\n// EXTERNAL MODULE: ./src/core/classes/items-management/list-items-manager.ts\nvar list_items_manager = __webpack_require__(\"EoRH\");\n\n// EXTERNAL MODULE: ./src/core/classes/items-management/routed-items-manager-sources-tracker.ts\nvar routed_items_manager_sources_tracker = __webpack_require__(\"baaQ\");\n\n// EXTERNAL MODULE: ./src/core/classes/items-management/routed-items-manager-source.ts\nvar routed_items_manager_source = __webpack_require__(\"CvRw\");\n\n// EXTERNAL MODULE: ./src/core/features/settings/services/settings-delegate.ts\nvar settings_delegate = __webpack_require__(\"YEzr\");\n\n// CONCATENATED MODULE: ./src/core/features/settings/classes/settings-handlers-source.ts\n// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n/**\n * Provides a collection of site settings.\n */\nclass settings_handlers_source_CoreSettingsHandlersSource extends routed_items_manager_source[\"a\" /* CoreRoutedItemsManagerSource */] {\n    /**\n     * @inheritdoc\n     */\n    loadPageItems() {\n        return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n            return { items: settings_delegate[\"a\" /* CoreSettingsDelegate */].getHandlers() };\n        });\n    }\n    /**\n     * @inheritdoc\n     */\n    getItemPath(handler) {\n        return handler.page;\n    }\n    /**\n     * @inheritdoc\n     */\n    getItemQueryParams(handler) {\n        return handler.params || {};\n    }\n}\n\n// EXTERNAL MODULE: ./src/core/features/settings/services/settings-helper.ts\nvar settings_helper = __webpack_require__(\"1gmh\");\n\n// EXTERNAL MODULE: ./src/core/services/utils/dom.ts + 2 modules\nvar dom = __webpack_require__(\"3LXp\");\n\n// EXTERNAL MODULE: ./src/core/services/network.ts + 2 modules\nvar network = __webpack_require__(\"GGba\");\n\n// EXTERNAL MODULE: ./src/core/singletons/index.ts\nvar singletons = __webpack_require__(\"j3ag\");\n\n// EXTERNAL MODULE: ./src/core/constants.ts\nvar constants = __webpack_require__(\"BaYo\");\n\n// EXTERNAL MODULE: ./src/core/services/config.ts + 1 modules\nvar config = __webpack_require__(\"BBqZ\");\n\n// EXTERNAL MODULE: ./node_modules/@ionic/angular/__ivy_ngcc__/fesm2015/ionic-angular.js + 5 modules\nvar ionic_angular = __webpack_require__(\"TEn/\");\n\n// EXTERNAL MODULE: ./src/core/directives/content.ts\nvar content = __webpack_require__(\"nt/U\");\n\n// EXTERNAL MODULE: ./src/core/components/loading/loading.ts\nvar loading = __webpack_require__(\"PgjG\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/common/__ivy_ngcc__/fesm2015/common.js\nvar common = __webpack_require__(\"ofXK\");\n\n// EXTERNAL MODULE: ./src/core/components/button-with-spinner/button-with-spinner.ts\nvar button_with_spinner = __webpack_require__(\"3zv0\");\n\n// EXTERNAL MODULE: ./src/core/directives/update-non-reactive-attributes.ts\nvar update_non_reactive_attributes = __webpack_require__(\"ACYt\");\n\n// EXTERNAL MODULE: ./src/core/directives/fa-icon.ts\nvar fa_icon = __webpack_require__(\"3CSS\");\n\n// EXTERNAL MODULE: ./node_modules/@ngx-translate/core/__ivy_ngcc__/fesm2015/ngx-translate-core.js + 8 modules\nvar ngx_translate_core = __webpack_require__(\"sYmb\");\n\n// CONCATENATED MODULE: ./src/core/features/settings/pages/site/site.ts\n\n// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction CoreSitePreferencesPage_ion_item_17_ion_icon_2_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"zc\" /* ɵɵelement */](0, \"ion-icon\", 15);\n    }\n    if (rf & 2) {\n        const handler_r2 = core[\"Oc\" /* ɵɵnextContext */]().$implicit;\n        core[\"Vc\" /* ɵɵproperty */](\"name\", handler_r2.icon);\n    }\n}\nconst _c0 = function (a1) { return [\"core-settings-handler\", a1]; };\nfunction CoreSitePreferencesPage_ion_item_17_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r6 = core[\"Fc\" /* ɵɵgetCurrentView */]();\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-item\", 13);\n        core[\"Mc\" /* ɵɵlistener */](\"click\", function CoreSitePreferencesPage_ion_item_17_Template_ion_item_click_0_listener() { core[\"fd\" /* ɵɵrestoreView */](_r6); const handler_r2 = ctx.$implicit; const ctx_r5 = core[\"Oc\" /* ɵɵnextContext */](); return ctx_r5.handlers.select(handler_r2); });\n        core[\"Pc\" /* ɵɵpipe */](1, \"translate\");\n        core[\"nd\" /* ɵɵtemplate */](2, CoreSitePreferencesPage_ion_item_17_ion_icon_2_Template, 1, 1, \"ion-icon\", 14);\n        core[\"Ec\" /* ɵɵelementStart */](3, \"ion-label\");\n        core[\"Ec\" /* ɵɵelementStart */](4, \"p\", 8);\n        core[\"pd\" /* ɵɵtext */](5);\n        core[\"Pc\" /* ɵɵpipe */](6, \"translate\");\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const handler_r2 = ctx.$implicit;\n        const ctx_r0 = core[\"Oc\" /* ɵɵnextContext */]();\n        core[\"Vc\" /* ɵɵproperty */](\"ngClass\", core[\"ad\" /* ɵɵpureFunction1 */](9, _c0, handler_r2.class));\n        core[\"mc\" /* ɵɵattribute */](\"aria-label\", core[\"Qc\" /* ɵɵpipeBind1 */](1, 5, handler_r2.title))(\"aria-current\", ctx_r0.handlers.getItemAriaCurrent(handler_r2));\n        core[\"lc\" /* ɵɵadvance */](2);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", handler_r2.icon);\n        core[\"lc\" /* ɵɵadvance */](3);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](6, 7, handler_r2.title));\n    }\n}\nfunction CoreSitePreferencesPage_ion_item_31_ng_container_3_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Cc\" /* ɵɵelementContainerStart */](0);\n        core[\"pd\" /* ɵɵtext */](1);\n        core[\"Pc\" /* ɵɵpipe */](2, \"translate\");\n        core[\"Bc\" /* ɵɵelementContainerEnd */]();\n    }\n    if (rf & 2) {\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"rd\" /* ɵɵtextInterpolate1 */](\" \", core[\"Qc\" /* ɵɵpipeBind1 */](2, 1, \"core.settings.connectwifitosync\"), \"\");\n    }\n}\nfunction CoreSitePreferencesPage_ion_item_31_ng_container_4_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Cc\" /* ɵɵelementContainerStart */](0);\n        core[\"pd\" /* ɵɵtext */](1);\n        core[\"Pc\" /* ɵɵpipe */](2, \"translate\");\n        core[\"Bc\" /* ɵɵelementContainerEnd */]();\n    }\n    if (rf & 2) {\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](2, 1, \"core.settings.connecttosync\"));\n    }\n}\nfunction CoreSitePreferencesPage_ion_item_31_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"Ec\" /* ɵɵelementStart */](0, \"ion-item\", 16);\n        core[\"zc\" /* ɵɵelement */](1, \"ion-icon\", 17);\n        core[\"Ec\" /* ɵɵelementStart */](2, \"ion-label\");\n        core[\"nd\" /* ɵɵtemplate */](3, CoreSitePreferencesPage_ion_item_31_ng_container_3_Template, 3, 3, \"ng-container\", 18);\n        core[\"nd\" /* ɵɵtemplate */](4, CoreSitePreferencesPage_ion_item_31_ng_container_4_Template, 3, 3, \"ng-container\", 18);\n        core[\"Dc\" /* ɵɵelementEnd */]();\n        core[\"Dc\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ctx_r1 = core[\"Oc\" /* ɵɵnextContext */]();\n        core[\"lc\" /* ɵɵadvance */](3);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx_r1.isOnline && ctx_r1.dataSaver && ctx_r1.limitedConnection);\n        core[\"lc\" /* ɵɵadvance */](1);\n        core[\"Vc\" /* ɵɵproperty */](\"ngIf\", !ctx_r1.isOnline);\n    }\n}\n/**\n * Page that displays the list of site settings pages.\n */\nlet site_CoreSitePreferencesPage = /*@__PURE__*/ (() => {\n    class CoreSitePreferencesPage {\n        constructor() {\n            this.dataSaver = false;\n            this.limitedConnection = false;\n            this.isOnline = true;\n            this.isDestroyed = false;\n            this.siteId = sites[\"b\" /* CoreSites */].getCurrentSiteId();\n            const source = routed_items_manager_sources_tracker[\"a\" /* CoreRoutedItemsManagerSourcesTracker */].getOrCreateSource(settings_handlers_source_CoreSettingsHandlersSource, []);\n            this.handlers = new list_items_manager[\"a\" /* CoreListItemsManager */](source, CoreSitePreferencesPage);\n            this.sitesObserver = events[\"b\" /* CoreEvents */].on(events[\"b\" /* CoreEvents */].SITE_UPDATED, () => {\n                this.refreshData();\n            }, this.siteId);\n            this.isOnline = network[\"a\" /* CoreNetwork */].isOnline();\n            this.limitedConnection = this.isOnline && network[\"a\" /* CoreNetwork */].isNetworkAccessLimited();\n            this.networkObserver = network[\"a\" /* CoreNetwork */].onChange().subscribe(() => {\n                // Execute the callback in the Angular zone, so change detection doesn't stop working.\n                singletons[\"A\" /* NgZone */].run(() => {\n                    this.isOnline = network[\"a\" /* CoreNetwork */].isOnline();\n                    this.limitedConnection = this.isOnline && network[\"a\" /* CoreNetwork */].isNetworkAccessLimited();\n                });\n            });\n        }\n        /**\n         * @inheritdoc\n         */\n        ngAfterViewInit() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                this.dataSaver = yield config[\"a\" /* CoreConfig */].get(constants[\"a\" /* CoreConstants */].SETTINGS_SYNC_ONLY_ON_WIFI, true);\n                const pageToOpen = services_navigator[\"a\" /* CoreNavigator */].getRouteParam('page');\n                try {\n                    yield this.fetchData();\n                }\n                finally {\n                    const handler = pageToOpen ? this.handlers.items.find(handler => handler.page == pageToOpen) : undefined;\n                    if (handler) {\n                        this.handlers.watchSplitViewOutlet(this.splitView);\n                        yield this.handlers.select(handler);\n                    }\n                    else {\n                        yield this.handlers.start(this.splitView);\n                    }\n                }\n            });\n        }\n        /**\n         * Fetch Data.\n         */\n        fetchData() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                yield this.handlers.load();\n            });\n        }\n        /**\n         * Syncrhonizes the site.\n         */\n        synchronize() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                try {\n                    // Using syncOnlyOnWifi false to force manual sync.\n                    yield settings_helper[\"a\" /* CoreSettingsHelper */].synchronizeSite(false, this.siteId);\n                }\n                catch (error) {\n                    if (this.isDestroyed) {\n                        return;\n                    }\n                    dom[\"a\" /* CoreDomUtils */].showErrorModalDefault(error, 'core.settings.sitesyncfailed', true);\n                }\n            });\n        }\n        /**\n         * Returns true if site is beeing synchronized.\n         *\n         * @return True if site is beeing synchronized, false otherwise.\n         */\n        isSynchronizing() {\n            return !!settings_helper[\"a\" /* CoreSettingsHelper */].getSiteSyncPromise(this.siteId);\n        }\n        /**\n         * Refresh the data.\n         *\n         * @param refresher Refresher.\n         */\n        refreshData(refresher) {\n            this.handlers.getSource().setDirty(true);\n            this.fetchData().finally(() => {\n                refresher === null || refresher === void 0 ? void 0 : refresher.complete();\n            });\n        }\n        /**\n         * @inheritdoc\n         */\n        ngOnDestroy() {\n            this.isDestroyed = true;\n            this.sitesObserver.off();\n            this.networkObserver.unsubscribe();\n            this.handlers.destroy();\n        }\n    }\n    CoreSitePreferencesPage.ɵfac = function CoreSitePreferencesPage_Factory(t) { return new (t || CoreSitePreferencesPage)(); };\n    CoreSitePreferencesPage.ɵcmp = core[\"sc\" /* ɵɵdefineComponent */]({ type: CoreSitePreferencesPage, selectors: [[\"page-core-site-preferences\"]], viewQuery: function CoreSitePreferencesPage_Query(rf, ctx) {\n            if (rf & 1) {\n                core[\"ud\" /* ɵɵviewQuery */](split_view[\"a\" /* CoreSplitViewComponent */], true);\n            }\n            if (rf & 2) {\n                var _t;\n                core[\"dd\" /* ɵɵqueryRefresh */](_t = core[\"Nc\" /* ɵɵloadQuery */]()) && (ctx.splitView = _t.first);\n            }\n        }, decls: 32, vars: 24, consts: [[\"slot\", \"start\"], [3, \"text\"], [\"slot\", \"end\"], [\"slot\", \"fixed\", 3, \"disabled\", \"ionRefresh\"], [3, \"pullingText\"], [3, \"hideUntil\"], [\"detail\", \"true\", \"button\", \"\", 3, \"ngClass\", \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"ion-text-wrap\"], [1, \"item-heading\"], [\"slot\", \"end\", 3, \"loading\"], [\"fill\", \"clear\", 3, \"disabled\", \"click\"], [\"name\", \"fas-sync-alt\", \"slot\", \"icon-only\", \"aria-hidden\", \"true\"], [\"class\", \"core-warning-item ion-text-wrap\", 4, \"ngIf\"], [\"detail\", \"true\", \"button\", \"\", 3, \"ngClass\", \"click\"], [\"slot\", \"start\", \"aria-hidden\", \"true\", 3, \"name\", 4, \"ngIf\"], [\"slot\", \"start\", \"aria-hidden\", \"true\", 3, \"name\"], [1, \"core-warning-item\", \"ion-text-wrap\"], [\"name\", \"fas-exclamation-triangle\", \"slot\", \"start\", \"aria-hidden\", \"true\"], [4, \"ngIf\"]], template: function CoreSitePreferencesPage_Template(rf, ctx) {\n            if (rf & 1) {\n                core[\"Ec\" /* ɵɵelementStart */](0, \"ion-header\");\n                core[\"Ec\" /* ɵɵelementStart */](1, \"ion-toolbar\");\n                core[\"Ec\" /* ɵɵelementStart */](2, \"ion-buttons\", 0);\n                core[\"zc\" /* ɵɵelement */](3, \"ion-back-button\", 1);\n                core[\"Pc\" /* ɵɵpipe */](4, \"translate\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](5, \"ion-title\");\n                core[\"Ec\" /* ɵɵelementStart */](6, \"h1\");\n                core[\"pd\" /* ɵɵtext */](7);\n                core[\"Pc\" /* ɵɵpipe */](8, \"translate\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"zc\" /* ɵɵelement */](9, \"ion-buttons\", 2);\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](10, \"ion-content\");\n                core[\"Ec\" /* ɵɵelementStart */](11, \"core-split-view\");\n                core[\"Ec\" /* ɵɵelementStart */](12, \"ion-refresher\", 3);\n                core[\"Mc\" /* ɵɵlistener */](\"ionRefresh\", function CoreSitePreferencesPage_Template_ion_refresher_ionRefresh_12_listener($event) { return ctx.refreshData($event.target); });\n                core[\"zc\" /* ɵɵelement */](13, \"ion-refresher-content\", 4);\n                core[\"Pc\" /* ɵɵpipe */](14, \"translate\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](15, \"core-loading\", 5);\n                core[\"Ec\" /* ɵɵelementStart */](16, \"ion-list\");\n                core[\"nd\" /* ɵɵtemplate */](17, CoreSitePreferencesPage_ion_item_17_Template, 7, 11, \"ion-item\", 6);\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](18, \"ion-card\");\n                core[\"Ec\" /* ɵɵelementStart */](19, \"ion-item\", 7);\n                core[\"Ec\" /* ɵɵelementStart */](20, \"ion-label\");\n                core[\"Ec\" /* ɵɵelementStart */](21, \"p\", 8);\n                core[\"pd\" /* ɵɵtext */](22);\n                core[\"Pc\" /* ɵɵpipe */](23, \"translate\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](24, \"p\");\n                core[\"pd\" /* ɵɵtext */](25);\n                core[\"Pc\" /* ɵɵpipe */](26, \"translate\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Ec\" /* ɵɵelementStart */](27, \"core-button-with-spinner\", 9);\n                core[\"Ec\" /* ɵɵelementStart */](28, \"ion-button\", 10);\n                core[\"Mc\" /* ɵɵlistener */](\"click\", function CoreSitePreferencesPage_Template_ion_button_click_28_listener() { return ctx.synchronize(); });\n                core[\"Pc\" /* ɵɵpipe */](29, \"translate\");\n                core[\"zc\" /* ɵɵelement */](30, \"ion-icon\", 11);\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"nd\" /* ɵɵtemplate */](31, CoreSitePreferencesPage_ion_item_31_Template, 5, 2, \"ion-item\", 12);\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"Dc\" /* ɵɵelementEnd */]();\n            }\n            if (rf & 2) {\n                core[\"lc\" /* ɵɵadvance */](3);\n                core[\"Vc\" /* ɵɵproperty */](\"text\", core[\"Qc\" /* ɵɵpipeBind1 */](4, 12, \"core.back\"));\n                core[\"lc\" /* ɵɵadvance */](4);\n                core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](8, 14, \"core.settings.preferences\"));\n                core[\"lc\" /* ɵɵadvance */](5);\n                core[\"Vc\" /* ɵɵproperty */](\"disabled\", !ctx.handlers.loaded);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Wc\" /* ɵɵpropertyInterpolate */](\"pullingText\", core[\"Qc\" /* ɵɵpipeBind1 */](14, 16, \"core.pulltorefresh\"));\n                core[\"lc\" /* ɵɵadvance */](2);\n                core[\"Vc\" /* ɵɵproperty */](\"hideUntil\", ctx.handlers.loaded);\n                core[\"lc\" /* ɵɵadvance */](2);\n                core[\"Vc\" /* ɵɵproperty */](\"ngForOf\", ctx.handlers.items);\n                core[\"lc\" /* ɵɵadvance */](5);\n                core[\"qd\" /* ɵɵtextInterpolate */](core[\"Qc\" /* ɵɵpipeBind1 */](23, 18, \"core.settings.synchronizenow\"));\n                core[\"lc\" /* ɵɵadvance */](3);\n                core[\"rd\" /* ɵɵtextInterpolate1 */](\" \", core[\"Qc\" /* ɵɵpipeBind1 */](26, 20, \"core.settings.synchronizenowhelp\"), \" \");\n                core[\"lc\" /* ɵɵadvance */](2);\n                core[\"Vc\" /* ɵɵproperty */](\"loading\", ctx.isSynchronizing());\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"disabled\", !ctx.isOnline || ctx.dataSaver && ctx.limitedConnection);\n                core[\"mc\" /* ɵɵattribute */](\"aria-label\", core[\"Qc\" /* ɵɵpipeBind1 */](29, 22, \"core.settings.synchronizenow\"));\n                core[\"lc\" /* ɵɵadvance */](3);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", !ctx.isOnline || ctx.dataSaver && ctx.limitedConnection);\n            }\n        }, directives: [ionic_angular[\"C\" /* IonHeader */], ionic_angular[\"Ab\" /* IonToolbar */], ionic_angular[\"m\" /* IonButtons */], ionic_angular[\"h\" /* IonBackButton */], ionic_angular[\"i\" /* IonBackButtonDelegate */], ionic_angular[\"yb\" /* IonTitle */], content[\"a\" /* CoreContentDirective */], ionic_angular[\"v\" /* IonContent */], split_view[\"a\" /* CoreSplitViewComponent */], ionic_angular[\"bb\" /* IonRefresher */], ionic_angular[\"cb\" /* IonRefresherContent */], loading[\"a\" /* CoreLoadingComponent */], ionic_angular[\"P\" /* IonList */], common[\"s\" /* NgForOf */], ionic_angular[\"n\" /* IonCard */], ionic_angular[\"I\" /* IonItem */], ionic_angular[\"O\" /* IonLabel */], button_with_spinner[\"a\" /* CoreButtonWithSpinnerComponent */], update_non_reactive_attributes[\"a\" /* CoreUpdateNonReactiveAttributesDirective */], ionic_angular[\"l\" /* IonButton */], ionic_angular[\"D\" /* IonIcon */], fa_icon[\"a\" /* CoreFaIconDirective */], common[\"t\" /* NgIf */], common[\"q\" /* NgClass */]], pipes: [ngx_translate_core[\"d\" /* TranslatePipe */]], encapsulation: 2 });\n    return CoreSitePreferencesPage;\n})();\n\n// EXTERNAL MODULE: ./src/app/app-routing.module.ts\nvar app_routing_module = __webpack_require__(\"vY5A\");\n\n// EXTERNAL MODULE: ./src/core/features/settings/pages/site/site-routing.ts\nvar site_routing = __webpack_require__(\"X9cG\");\n\n// EXTERNAL MODULE: ./src/core/services/screen.ts\nvar screen = __webpack_require__(\"Y+03\");\n\n// CONCATENATED MODULE: ./src/core/features/settings/pages/site/site.module.ts\n// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n\n\n\n\nfunction buildRoutes(injector) {\n    const routes = Object(app_routing_module[\"d\" /* resolveModuleRoutes */])(injector, site_routing[\"b\" /* SITE_PREFERENCES_ROUTES */]);\n    const mobileRoutes = [\n        {\n            path: '',\n            component: site_CoreSitePreferencesPage,\n        },\n        ...routes.siblings,\n    ];\n    const tabletRoutes = [\n        {\n            path: '',\n            component: site_CoreSitePreferencesPage,\n            children: routes.siblings,\n        },\n    ];\n    return [\n        ...Object(app_routing_module[\"c\" /* conditionalRoutes */])(mobileRoutes, () => screen[\"a\" /* CoreScreen */].isMobile),\n        ...Object(app_routing_module[\"c\" /* conditionalRoutes */])(tabletRoutes, () => screen[\"a\" /* CoreScreen */].isTablet),\n    ];\n}\nlet site_module_CoreSitePreferencesPageModule = /*@__PURE__*/ (() => {\n    class CoreSitePreferencesPageModule {\n    }\n    CoreSitePreferencesPageModule.ɵmod = core[\"wc\" /* ɵɵdefineNgModule */]({ type: CoreSitePreferencesPageModule });\n    CoreSitePreferencesPageModule.ɵinj = core[\"vc\" /* ɵɵdefineInjector */]({ factory: function CoreSitePreferencesPageModule_Factory(t) { return new (t || CoreSitePreferencesPageModule)(); }, providers: [\n            { provide: router[\"g\" /* ROUTES */], multi: true, useFactory: buildRoutes, deps: [core[\"x\" /* Injector */]] },\n        ], imports: [[\n                shared_module[\"a\" /* CoreSharedModule */],\n            ], router[\"m\" /* RouterModule */]] });\n    return CoreSitePreferencesPageModule;\n})();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && core[\"kd\" /* ɵɵsetNgModuleScope */](site_module_CoreSitePreferencesPageModule, { declarations: [site_CoreSitePreferencesPage], imports: [shared_module[\"a\" /* CoreSharedModule */]], exports: [router[\"m\" /* RouterModule */]] }); })();\n\n\n/***/ })\n\n}]);","inputSourceMap":null}