(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{SHY4:function(t,e,n){"use strict";n.r(e),n.d(e,"AddonModH5PActivityLazyModule",(function(){return g}));var i=n("tyNb"),o=n("L3Fv"),d=n("MLi9"),c=n("SqOg"),a=n("mrSG"),r=n("ghUQ"),s=n("3LXp"),l=n("j3ag"),u=n("ArZS"),y=n("fXoL"),v=n("TEn/"),m=n("4JiN"),A=n("hMzs"),h=n("nt/U"),p=n("sYmb");let P=(()=>{class AddonModH5PActivityIndexPage extends r.a{constructor(){super(...arguments),this.canLeaveSafely=!1}canLeave(){return Object(a.a)(this,void 0,void 0,(function*(){if(!this.activityComponent||!this.activityComponent.playing||this.activityComponent.isOpeningPage)return!0;if(!this.canLeaveSafely)try{return yield s.a.showConfirm(l.J.instant("core.confirmleaveunknownchanges")),!0}catch(t){return!1}return!0}))}setCanleaveSafely(t){this.canLeaveSafely=t,this.remainingTimeout&&clearTimeout(this.remainingTimeout),this.remainingTimeout=setTimeout((()=>{this.canLeaveSafely=!1}),1e4)}ngOnDestroy(){this.remainingTimeout&&clearTimeout(this.remainingTimeout)}}return AddonModH5PActivityIndexPage.ɵfac=function AddonModH5PActivityIndexPage_Factory(t){return M(t||AddonModH5PActivityIndexPage)},AddonModH5PActivityIndexPage.ɵcmp=y.sc({type:AddonModH5PActivityIndexPage,selectors:[["page-addon-mod-h5pactivity-index"]],viewQuery:function AddonModH5PActivityIndexPage_Query(t,e){var n;(1&t&&y.ud(u.a,!0),2&t)&&(y.dd(n=y.Nc())&&(e.activityComponent=n.first))},features:[y.ic],decls:14,vars:12,consts:[["collapsible",""],["slot","start"],[3,"text"],["contextLevel","module",3,"text","contextInstanceId","courseId"],["slot","end"],["slot","fixed",3,"disabled","ionRefresh"],[3,"pullingText"],[3,"module","courseId","dataRetrieved","onActivityFinish"]],template:function AddonModH5PActivityIndexPage_Template(t,e){1&t&&(y.Ec(0,"ion-header",0),y.Ec(1,"ion-toolbar"),y.Ec(2,"ion-buttons",1),y.zc(3,"ion-back-button",2),y.Pc(4,"translate"),y.Dc(),y.Ec(5,"ion-title"),y.Ec(6,"h1"),y.zc(7,"core-format-text",3),y.Dc(),y.Dc(),y.zc(8,"ion-buttons",4),y.Dc(),y.Dc(),y.Ec(9,"ion-content"),y.Ec(10,"ion-refresher",5),y.Mc("ionRefresh",(function AddonModH5PActivityIndexPage_Template_ion_refresher_ionRefresh_10_listener(t){return null==e.activityComponent?null:e.activityComponent.doRefresh(t.target)})),y.zc(11,"ion-refresher-content",6),y.Pc(12,"translate"),y.Dc(),y.Ec(13,"addon-mod-h5pactivity-index",7),y.Mc("dataRetrieved",(function AddonModH5PActivityIndexPage_Template_addon_mod_h5pactivity_index_dataRetrieved_13_listener(t){return e.updateData(t)}))("onActivityFinish",(function AddonModH5PActivityIndexPage_Template_addon_mod_h5pactivity_index_onActivityFinish_13_listener(t){return e.setCanleaveSafely(t)})),y.Dc(),y.Dc()),2&t&&(y.lc(3),y.Vc("text",y.Qc(4,8,"core.back")),y.lc(4),y.Vc("text",e.title)("contextInstanceId",e.module.id)("courseId",e.courseId),y.lc(3),y.Vc("disabled",null==e.activityComponent?null:e.activityComponent.showLoading),y.lc(1),y.Wc("pullingText",y.Qc(12,10,"core.pulltorefresh")),y.lc(2),y.Vc("module",e.module)("courseId",e.courseId))},directives:[v.C,m.b,v.Ab,v.m,v.h,v.i,v.yb,A.a,h.a,v.v,v.bb,v.cb,u.a],pipes:[p.d],encapsulation:2}),AddonModH5PActivityIndexPage})();const M=y.Gc(P),f=[{path:":courseId/:cmId",component:P,canDeactivate:[d.a]},{path:":courseId/:cmId/userattempts/:userId",loadChildren:()=>n.e(64).then(n.bind(null,"kNee")).then((t=>t.AddonModH5PActivityUserAttemptsPageModule))},{path:":courseId/:cmId/attemptresults/:attemptId",loadChildren:()=>n.e(63).then(n.bind(null,"Ottz")).then((t=>t.AddonModH5PActivityAttemptResultsPageModule))},{path:":courseId/:cmId/users",loadChildren:()=>n.e(65).then(n.bind(null,"SyS0")).then((t=>t.AddonModH5PActivityUsersAttemptsPageModule))}];let g=(()=>{class AddonModH5PActivityLazyModule{}return AddonModH5PActivityLazyModule.ɵmod=y.wc({type:AddonModH5PActivityLazyModule}),AddonModH5PActivityLazyModule.ɵinj=y.vc({factory:function AddonModH5PActivityLazyModule_Factory(t){return new(t||AddonModH5PActivityLazyModule)},imports:[[i.m.forChild(f),o.a,c.a]]}),AddonModH5PActivityLazyModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&y.kd(g,{declarations:[P],imports:[i.m,o.a,c.a]}))}}]);