{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[121],{OccN:function(e,n,t){\"use strict\";t.r(n),t.d(n,\"CoreSitePluginsCourseOptionModule\",(function(){return P}));var i=t(\"tyNb\"),o=t(\"L3Fv\"),r=t(\"MLi9\"),s=t(\"mrSG\"),l=t(\"BTA1\"),u=t(\"TSsE\"),a=t(\"bFG1\"),c=t(\"pHTc\"),d=t(\"fXoL\"),p=t(\"nt/U\"),g=t(\"TEn/\"),h=t(\"ofXK\"),C=t(\"sYmb\");function CoreSitePluginsCourseOptionPage_core_site_plugins_plugin_content_4_Template(e,n){if(1&e&&d.zc(0,\"core-site-plugins-plugin-content\",3),2&e){const e=d.Oc();d.Vc(\"component\",e.component)(\"method\",e.method)(\"args\",e.args)(\"initResult\",e.initResult)}}let m=(()=>{class CoreSitePluginsCourseOptionPage{constructor(){this.ptrEnabled=!0}ngOnInit(){if(this.courseId=c.a.getRouteNumberParam(\"courseId\"),this.handlerUniqueName=c.a.getRouteParam(\"handlerUniqueName\"),!this.handlerUniqueName)return;const e=u.a.getSitePluginHandler(this.handlerUniqueName);e&&(this.component=e.plugin.component,this.method=e.handlerSchema.method,this.args={courseid:this.courseId},this.initResult=e.initResult,this.ptrEnabled=!(\"ptrenabled\"in e.handlerSchema)||!a.a.isFalseOrZero(e.handlerSchema.ptrenabled))}refreshData(e){var n;return Object(s.a)(this,void 0,void 0,(function*(){try{yield null===(n=this.content)||void 0===n?void 0:n.refreshContent(!1)}finally{e.complete()}}))}ionViewWillEnter(){var e;null===(e=this.content)||void 0===e?void 0:e.callComponentFunction(\"ionViewWillEnter\")}ionViewDidEnter(){var e;null===(e=this.content)||void 0===e?void 0:e.callComponentFunction(\"ionViewDidEnter\")}ionViewWillLeave(){var e;null===(e=this.content)||void 0===e?void 0:e.callComponentFunction(\"ionViewWillLeave\")}ionViewDidLeave(){var e;null===(e=this.content)||void 0===e?void 0:e.callComponentFunction(\"ionViewDidLeave\")}ionViewWillUnload(){var e;null===(e=this.content)||void 0===e?void 0:e.callComponentFunction(\"ionViewWillUnload\")}canLeave(){return Object(s.a)(this,void 0,void 0,(function*(){if(!this.content)return!0;const e=yield this.content.callComponentFunction(\"canLeave\");return null==e||!!e}))}}return CoreSitePluginsCourseOptionPage.ɵfac=function CoreSitePluginsCourseOptionPage_Factory(e){return new(e||CoreSitePluginsCourseOptionPage)},CoreSitePluginsCourseOptionPage.ɵcmp=d.sc({type:CoreSitePluginsCourseOptionPage,selectors:[[\"core-site-plugins-course-option\"]],viewQuery:function CoreSitePluginsCourseOptionPage_Query(e,n){var t;(1&e&&d.ud(l.a,!0),2&e)&&(d.dd(t=d.Nc())&&(n.content=t.first))},decls:5,vars:5,consts:[[\"slot\",\"fixed\",3,\"disabled\",\"ionRefresh\"],[3,\"pullingText\"],[3,\"component\",\"method\",\"args\",\"initResult\",4,\"ngIf\"],[3,\"component\",\"method\",\"args\",\"initResult\"]],template:function CoreSitePluginsCourseOptionPage_Template(e,n){1&e&&(d.Ec(0,\"ion-content\"),d.Ec(1,\"ion-refresher\",0),d.Mc(\"ionRefresh\",(function CoreSitePluginsCourseOptionPage_Template_ion_refresher_ionRefresh_1_listener(e){return n.refreshData(e.target)})),d.zc(2,\"ion-refresher-content\",1),d.Pc(3,\"translate\"),d.Dc(),d.nd(4,CoreSitePluginsCourseOptionPage_core_site_plugins_plugin_content_4_Template,1,4,\"core-site-plugins-plugin-content\",2),d.Dc()),2&e&&(d.lc(1),d.Vc(\"disabled\",!n.ptrEnabled||!n.content||!n.content.dataLoaded),d.lc(1),d.Wc(\"pullingText\",d.Qc(3,3,\"core.pulltorefresh\")),d.lc(2),d.Vc(\"ngIf\",n.component&&n.method))},directives:[p.a,g.v,g.bb,g.cb,h.t,l.a],pipes:[C.d],encapsulation:2}),CoreSitePluginsCourseOptionPage})();var v=t(\"w9Bf\");const f=[{path:\"\",component:m,canDeactivate:[r.a]}];let P=(()=>{class CoreSitePluginsCourseOptionModule{}return CoreSitePluginsCourseOptionModule.ɵmod=d.wc({type:CoreSitePluginsCourseOptionModule}),CoreSitePluginsCourseOptionModule.ɵinj=d.vc({factory:function CoreSitePluginsCourseOptionModule_Factory(e){return new(e||CoreSitePluginsCourseOptionModule)},imports:[[i.m.forChild(f),o.a,v.a],i.m]}),CoreSitePluginsCourseOptionModule})();void((\"undefined\"==typeof ngJitMode||ngJitMode)&&d.kd(P,{declarations:[m],imports:[i.m,o.a,v.a],exports:[i.m]}))}}]);","name":"121.b9d85aa653eecb7511ad.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[121],{\n\n/***/ \"OccN\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"CoreSitePluginsCourseOptionModule\", function() { return /* binding */ course_option_module_CoreSitePluginsCourseOptionModule; });\n\n// EXTERNAL MODULE: ./node_modules/@angular/router/__ivy_ngcc__/fesm2015/router.js + 10 modules\nvar router = __webpack_require__(\"tyNb\");\n\n// EXTERNAL MODULE: ./src/core/shared.module.ts + 3 modules\nvar shared_module = __webpack_require__(\"L3Fv\");\n\n// EXTERNAL MODULE: ./src/core/guards/can-leave.ts\nvar can_leave = __webpack_require__(\"MLi9\");\n\n// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.js\nvar tslib_es6 = __webpack_require__(\"mrSG\");\n\n// EXTERNAL MODULE: ./src/core/features/siteplugins/components/plugin-content/plugin-content.ts\nvar plugin_content = __webpack_require__(\"BTA1\");\n\n// EXTERNAL MODULE: ./src/core/features/siteplugins/services/siteplugins.ts\nvar siteplugins = __webpack_require__(\"TSsE\");\n\n// EXTERNAL MODULE: ./src/core/services/utils/utils.ts\nvar utils = __webpack_require__(\"bFG1\");\n\n// EXTERNAL MODULE: ./src/core/services/navigator.ts\nvar services_navigator = __webpack_require__(\"pHTc\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js\nvar core = __webpack_require__(\"fXoL\");\n\n// EXTERNAL MODULE: ./src/core/directives/content.ts\nvar content = __webpack_require__(\"nt/U\");\n\n// EXTERNAL MODULE: ./node_modules/@ionic/angular/__ivy_ngcc__/fesm2015/ionic-angular.js + 5 modules\nvar ionic_angular = __webpack_require__(\"TEn/\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/common/__ivy_ngcc__/fesm2015/common.js\nvar common = __webpack_require__(\"ofXK\");\n\n// EXTERNAL MODULE: ./node_modules/@ngx-translate/core/__ivy_ngcc__/fesm2015/ngx-translate-core.js + 8 modules\nvar ngx_translate_core = __webpack_require__(\"sYmb\");\n\n// CONCATENATED MODULE: ./src/core/features/siteplugins/pages/course-option/course-option.ts\n\n// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n\n\n\n\n\n\n\nfunction CoreSitePluginsCourseOptionPage_core_site_plugins_plugin_content_4_Template(rf, ctx) {\n    if (rf & 1) {\n        core[\"zc\" /* ɵɵelement */](0, \"core-site-plugins-plugin-content\", 3);\n    }\n    if (rf & 2) {\n        const ctx_r0 = core[\"Oc\" /* ɵɵnextContext */]();\n        core[\"Vc\" /* ɵɵproperty */](\"component\", ctx_r0.component)(\"method\", ctx_r0.method)(\"args\", ctx_r0.args)(\"initResult\", ctx_r0.initResult);\n    }\n}\n/**\n * Page that displays the index of a course option site plugin.\n */\nlet course_option_CoreSitePluginsCourseOptionPage = /*@__PURE__*/ (() => {\n    class CoreSitePluginsCourseOptionPage {\n        constructor() {\n            this.ptrEnabled = true;\n        }\n        /**\n         * Component being initialized.\n         */\n        ngOnInit() {\n            this.courseId = services_navigator[\"a\" /* CoreNavigator */].getRouteNumberParam('courseId');\n            this.handlerUniqueName = services_navigator[\"a\" /* CoreNavigator */].getRouteParam('handlerUniqueName');\n            if (!this.handlerUniqueName) {\n                return;\n            }\n            const handler = siteplugins[\"a\" /* CoreSitePlugins */].getSitePluginHandler(this.handlerUniqueName);\n            if (!handler) {\n                return;\n            }\n            this.component = handler.plugin.component;\n            this.method = handler.handlerSchema.method;\n            this.args = {\n                courseid: this.courseId,\n            };\n            this.initResult = handler.initResult;\n            this.ptrEnabled = !('ptrenabled' in handler.handlerSchema) ||\n                !utils[\"a\" /* CoreUtils */].isFalseOrZero(handler.handlerSchema.ptrenabled);\n        }\n        /**\n         * Refresh the data.\n         *\n         * @param refresher Refresher.\n         */\n        refreshData(refresher) {\n            var _a;\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                try {\n                    yield ((_a = this.content) === null || _a === void 0 ? void 0 : _a.refreshContent(false));\n                }\n                finally {\n                    refresher.complete();\n                }\n            });\n        }\n        /**\n         * The page is about to enter and become the active page.\n         */\n        ionViewWillEnter() {\n            var _a;\n            (_a = this.content) === null || _a === void 0 ? void 0 : _a.callComponentFunction('ionViewWillEnter');\n        }\n        /**\n         * The page has fully entered and is now the active page. This event will fire, whether it was the first load or a cached page.\n         */\n        ionViewDidEnter() {\n            var _a;\n            (_a = this.content) === null || _a === void 0 ? void 0 : _a.callComponentFunction('ionViewDidEnter');\n        }\n        /**\n         * The page is about to leave and no longer be the active page.\n         */\n        ionViewWillLeave() {\n            var _a;\n            (_a = this.content) === null || _a === void 0 ? void 0 : _a.callComponentFunction('ionViewWillLeave');\n        }\n        /**\n         * The page has finished leaving and is no longer the active page.\n         */\n        ionViewDidLeave() {\n            var _a;\n            (_a = this.content) === null || _a === void 0 ? void 0 : _a.callComponentFunction('ionViewDidLeave');\n        }\n        /**\n         * The page is about to be destroyed and have its elements removed.\n         */\n        ionViewWillUnload() {\n            var _a;\n            (_a = this.content) === null || _a === void 0 ? void 0 : _a.callComponentFunction('ionViewWillUnload');\n        }\n        /**\n         * Check if we can leave the page or not.\n         *\n         * @return Resolved if we can leave it, rejected if not.\n         */\n        canLeave() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                if (!this.content) {\n                    return true;\n                }\n                const result = yield this.content.callComponentFunction('canLeave');\n                return result === undefined || result === null ? true : !!result;\n            });\n        }\n    }\n    CoreSitePluginsCourseOptionPage.ɵfac = function CoreSitePluginsCourseOptionPage_Factory(t) { return new (t || CoreSitePluginsCourseOptionPage)(); };\n    CoreSitePluginsCourseOptionPage.ɵcmp = core[\"sc\" /* ɵɵdefineComponent */]({ type: CoreSitePluginsCourseOptionPage, selectors: [[\"core-site-plugins-course-option\"]], viewQuery: function CoreSitePluginsCourseOptionPage_Query(rf, ctx) {\n            if (rf & 1) {\n                core[\"ud\" /* ɵɵviewQuery */](plugin_content[\"a\" /* CoreSitePluginsPluginContentComponent */], true);\n            }\n            if (rf & 2) {\n                var _t;\n                core[\"dd\" /* ɵɵqueryRefresh */](_t = core[\"Nc\" /* ɵɵloadQuery */]()) && (ctx.content = _t.first);\n            }\n        }, decls: 5, vars: 5, consts: [[\"slot\", \"fixed\", 3, \"disabled\", \"ionRefresh\"], [3, \"pullingText\"], [3, \"component\", \"method\", \"args\", \"initResult\", 4, \"ngIf\"], [3, \"component\", \"method\", \"args\", \"initResult\"]], template: function CoreSitePluginsCourseOptionPage_Template(rf, ctx) {\n            if (rf & 1) {\n                core[\"Ec\" /* ɵɵelementStart */](0, \"ion-content\");\n                core[\"Ec\" /* ɵɵelementStart */](1, \"ion-refresher\", 0);\n                core[\"Mc\" /* ɵɵlistener */](\"ionRefresh\", function CoreSitePluginsCourseOptionPage_Template_ion_refresher_ionRefresh_1_listener($event) { return ctx.refreshData($event.target); });\n                core[\"zc\" /* ɵɵelement */](2, \"ion-refresher-content\", 1);\n                core[\"Pc\" /* ɵɵpipe */](3, \"translate\");\n                core[\"Dc\" /* ɵɵelementEnd */]();\n                core[\"nd\" /* ɵɵtemplate */](4, CoreSitePluginsCourseOptionPage_core_site_plugins_plugin_content_4_Template, 1, 4, \"core-site-plugins-plugin-content\", 2);\n                core[\"Dc\" /* ɵɵelementEnd */]();\n            }\n            if (rf & 2) {\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Vc\" /* ɵɵproperty */](\"disabled\", !ctx.ptrEnabled || !ctx.content || !ctx.content.dataLoaded);\n                core[\"lc\" /* ɵɵadvance */](1);\n                core[\"Wc\" /* ɵɵpropertyInterpolate */](\"pullingText\", core[\"Qc\" /* ɵɵpipeBind1 */](3, 3, \"core.pulltorefresh\"));\n                core[\"lc\" /* ɵɵadvance */](2);\n                core[\"Vc\" /* ɵɵproperty */](\"ngIf\", ctx.component && ctx.method);\n            }\n        }, directives: [content[\"a\" /* CoreContentDirective */], ionic_angular[\"v\" /* IonContent */], ionic_angular[\"bb\" /* IonRefresher */], ionic_angular[\"cb\" /* IonRefresherContent */], common[\"t\" /* NgIf */], plugin_content[\"a\" /* CoreSitePluginsPluginContentComponent */]], pipes: [ngx_translate_core[\"d\" /* TranslatePipe */]], encapsulation: 2 });\n    return CoreSitePluginsCourseOptionPage;\n})();\n\n// EXTERNAL MODULE: ./src/core/features/siteplugins/components/components.module.ts\nvar components_module = __webpack_require__(\"w9Bf\");\n\n// CONCATENATED MODULE: ./src/core/features/siteplugins/pages/course-option/course-option.module.ts\n// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n\n\n\n\n\n\nconst routes = [\n    {\n        path: '',\n        component: course_option_CoreSitePluginsCourseOptionPage,\n        canDeactivate: [can_leave[\"a\" /* CanLeaveGuard */]],\n    },\n];\n/**\n * Module to lazy load the page.\n */\nlet course_option_module_CoreSitePluginsCourseOptionModule = /*@__PURE__*/ (() => {\n    class CoreSitePluginsCourseOptionModule {\n    }\n    CoreSitePluginsCourseOptionModule.ɵmod = core[\"wc\" /* ɵɵdefineNgModule */]({ type: CoreSitePluginsCourseOptionModule });\n    CoreSitePluginsCourseOptionModule.ɵinj = core[\"vc\" /* ɵɵdefineInjector */]({ factory: function CoreSitePluginsCourseOptionModule_Factory(t) { return new (t || CoreSitePluginsCourseOptionModule)(); }, imports: [[\n                router[\"m\" /* RouterModule */].forChild(routes),\n                shared_module[\"a\" /* CoreSharedModule */],\n                components_module[\"a\" /* CoreSitePluginsComponentsModule */],\n            ], router[\"m\" /* RouterModule */]] });\n    return CoreSitePluginsCourseOptionModule;\n})();\n(function () {\n    (typeof ngJitMode === \"undefined\" || ngJitMode) && core[\"kd\" /* ɵɵsetNgModuleScope */](course_option_module_CoreSitePluginsCourseOptionModule, { declarations: [course_option_CoreSitePluginsCourseOptionPage], imports: [router[\"m\" /* RouterModule */], shared_module[\"a\" /* CoreSharedModule */],\n            components_module[\"a\" /* CoreSitePluginsComponentsModule */]], exports: [router[\"m\" /* RouterModule */]] });\n})();\n\n\n/***/ })\n\n}]);","inputSourceMap":null}